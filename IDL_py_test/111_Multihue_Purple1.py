from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00040338794696183306, 0.00031698193760295766, 0.00033924293993070875],
[0.0012123527209644770, 0.000885284, 0.00097504071233116101],
[0.0024274641586987827, 0.0016810144232797509, 0.0018959137766014294],
[0.0040439009549392306, 0.0026801123317923758, 0.0030897258328968611],
[0.0060611281062826925, 0.0038659800911063661, 0.0045516777360897348],
[0.0084804472096887684, 0.0052260268347393687, 0.0062810762733663574],
[0.011304044531271339, 0.0067501700009028852, 0.0082799502702667772],
[0.014534534691128540, 0.0084300495754941421, 0.010552332186820918],
[0.018174711712536963, 0.010258566116313480, 0.013103839593315955],
[0.0222274, 0.0122296, 0.015941411760625059],
[0.026695359860807146, 0.0143377, 0.019073134480360344],
[0.031581220632188718, 0.016578320624021876, 0.022508118684758552],
[0.036887436296500820, 0.018947098292300620, 0.026256413648312476],
[0.042547488314550262, 0.021440334899616095, 0.030328943340863872],
[0.048186327818174050, 0.0240547, 0.034737458773438701],
[0.053773616576632148, 0.026787139130684603, 0.039494501654929209],
[0.059312915146873375, 0.029635032540874445, 0.044426816290037301],
[0.064807194584478783, 0.032595973984096062, 0.049356975048820119],
[0.0702589, 0.035667845342565584, 0.054299241777067721],
[0.075670245229317923, 0.0388488, 0.059257910036140039],
[0.081042852564536222, 0.042089, 0.064236837037102035],
[0.086378229118992622, 0.045274355432006246, 0.069239503254864221],
[0.091677595800863987, 0.048416149200233856, 0.074269060535815695],
[0.096942, 0.051517315545513927, 0.079328371270728476],
[0.10217216073106403, 0.0545805, 0.084420040545828218],
[0.10736885655829564, 0.057608330823358790, 0.089546442714498853],
[0.11253257966864477, 0.060603038322743864, 0.0947097],
[0.117664, 0.063566879869522169, 0.099911918417810636],
[0.12276261450525036, 0.066501954867722257, 0.10515476836877372],
[0.12782941433339690, 0.069410260063141022, 0.11043993261561769],
[0.13286423910273726, 0.072293702332433263, 0.11576889987125622],
[0.13786711323253384, 0.075154109760763144, 0.12114301764695085],
[0.14283798775500275, 0.077993241281413550, 0.12656350019379453],
[0.14777674673019975, 0.080812795099103468, 0.13203143524996303],
[0.15268321285373193, 0.083614416077952503, 0.13754778977578969],
[0.15755715238239598, 0.086399702242532989, 0.14311341482751130],
[0.16239827948119248, 0.089170210514393972, 0.14872904969559256],
[0.16720626007779796, 0.091927461785390824, 0.154395],
[0.17198071529653539, 0.094672945412052428, 0.16011276772621733],
[0.17672122453248226, 0.097408123201229990, 0.165882],
[0.18142732821704780, 0.10013443294576702, 0.17170274330775331],
[0.18609853031868229, 0.10285329155943221, 0.17757582223725121],
[0.19073430061609442, 0.10556609785244719, 0.18350116232218958],
[0.19533407677610853, 0.10827423498236913, 0.189479],
[0.19989726626394477, 0.11097907260956069, 0.19550864966192638],
[0.20442324811007528, 0.11368196878186001, 0.20159057160969379],
[0.208911, 0.11638427156916464, 0.207724],
[0.21336097258875492, 0.11908732046535239, 0.21390950511159634],
[0.21777134540670817, 0.121792, 0.22014573084045996],
[0.22214177378753358, 0.124501, 0.22643245137704154],
[0.22647151741499089, 0.12721423353902175, 0.23276904342675076],
[0.23075981614997848, 0.12993352747897174, 0.23915479216155833],
[0.23500589126510896, 0.13266017080349954, 0.24558889153103253],
[0.23920894665110393, 0.13539546954627890, 0.25207],
[0.24336817000372663, 0.13814072544606348, 0.25859846376420176],
[0.247483, 0.14089723586149055, 0.26517187135125908],
[0.25155179746580408, 0.14366629352762955, 0.27178949979960904],
[0.25557450655749769, 0.14644918615820618, 0.27845009224954431],
[0.25954999593756756, 0.14924719589724070, 0.28515230306595540],
[0.26347738997658854, 0.15206159862377849, 0.29189469846859756],
[0.26735580397126108, 0.15489366311344024, 0.29867575725736134],
[0.27118434538903374, 0.15774465006068575, 0.30549387164285818],
[0.27496211514350571, 0.16061581096594998, 0.31234734819200433],
[0.278688, 0.16350838689215477, 0.319234],
[0.28236171845273084, 0.16642360709553081, 0.32615319238087998],
[0.28598173306678487, 0.16936268753617467, 0.333102],
[0.289547, 0.17232682927431939, 0.34007807350709829],
[0.29305763084058284, 0.17531721675889195, 0.34708004435937412],
[0.29651169332391675, 0.17833501601556104, 0.35410548785563417],
[0.299909, 0.18138137274213531, 0.36115214893888670],
[0.30324751843551095, 0.18445741031983595, 0.36821769956788319],
[0.306527, 0.18756422774963868, 0.37529974102845565],
[0.30974764408279282, 0.19070289752352731, 0.38239580642079785],
[0.31290711534149024, 0.19387446344114767, 0.38950336332476743],
[0.31600503955327947, 0.19707993838293342, 0.39661981664447682],
[0.31904057002373659, 0.20032, 0.40374251163258673],
[0.32201287680720153, 0.20359649869231639, 0.41086873709385585],
[0.32492114888304718, 0.20690943480956536, 0.41799572876661306],
[0.32776459641177969, 0.21025997688452286, 0.425121],
[0.330542, 0.21364894911522908, 0.432241],
[0.33325397848019506, 0.21707713118747046, 0.43935293834515393],
[0.33589846069093793, 0.22054525609164050, 0.44645441901406474],
[0.33847521878301679, 0.22405400799876019, 0.45354217903874389],
[0.34098360552644041, 0.22760402020898096, 0.460613],
[0.34342301013320420, 0.23119587318565393, 0.46766450411423016],
[0.34579286109026180, 0.23483009268773491, 0.47469299550129279],
[0.34809262907401550, 0.23850714801284273, 0.48169562833762508],
[0.35032182994514433, 0.24222745036276294, 0.48866933005406338],
[0.35248002782226662, 0.24599135134253680, 0.49561102266544427],
[0.35456683823255747, 0.24979914160356437, 0.50251762785407916],
[0.356582, 0.25365104964032198, 0.50938607213255627],
[0.358525, 0.25754724074940760, 0.51621329207263922],
[0.36039593929647151, 0.26148781615867067, 0.52299623958643127],
[0.36219449766206946, 0.26547281233315512, 0.52973188724541742],
[0.36392063266969266, 0.26950220046351991, 0.53641723362251847],
[0.36557433843970877, 0.27357588614149947, 0.54304930864188805],
[0.36715568447259511, 0.27769370922582170, 0.54962517892082663],
[0.36866481930080180, 0.281855, 0.55614195308794823],
[0.37010197418231089, 0.28606079892910780, 0.562597],
[0.371467, 0.29030941809754912, 0.56898688927202568],
[0.372762, 0.294601, 0.57530952581220662],
[0.37398519110814388, 0.29893470314936321, 0.58156202549950054],
[0.37513852434831268, 0.30331033842825628, 0.58774178483397677],
[0.376222, 0.30772717885381906, 0.59384627283670621],
[0.37723764316483405, 0.31218455667119865, 0.59987303575305828],
[0.378185, 0.31668174575754421, 0.60581970160606113],
[0.37906595871333360, 0.32121796333334141, 0.61168398458544171],
[0.37988121110605433, 0.32579237182977350, 0.61746368925855932],
[0.38063217374771091, 0.33040408090348095, 0.62315671459010014],
[0.38132023586273889, 0.33505214958947088, 0.62876105775813851],
[0.38194691395405139, 0.33973558858236519, 0.63427481775498806],
[0.38251385518386632, 0.34445336263570697, 0.63969619876211736],
[0.38302284062954062, 0.34920439306864059, 0.64502351328933549],
[0.38347578839308349, 0.35398756036897078, 0.65025518506942737],
[0.38387475654115444, 0.35880170688136887, 0.65538975170044000],
[0.384222, 0.36364563956934398, 0.66042586702886852],
[0.38452, 0.36851813283949386, 0.66536230326807289],
[0.384771, 0.37341793141656698, 0.67019795284738037],
[0.38497704036326724, 0.37834375325790970, 0.674932],
[0.38514205910303750, 0.38329429249599467, 0.67956307200644139],
[0.38526852238081777, 0.38826822239793918, 0.68409094033526374],
[0.38535953027195380, 0.39326419833113319, 0.688515],
[0.38541833675711112, 0.39828086072442376, 0.69283422647092963],
[0.38544834973854819, 0.40331683801463497, 0.69704879310296008],
[0.38545313053400815, 0.40837074956860164, 0.70115828382690260],
[0.38543639280081610, 0.41344120857132038, 0.70516258643368335],
[0.385402, 0.41852682487128739, 0.70906171325451084],
[0.38535396723838639, 0.42362620777459775, 0.712856],
[0.38529644977350957, 0.42873796877988413, 0.71654510621493328],
[0.38523374757101941, 0.43386072424673006, 0.72013001083563888],
[0.38517029642391065, 0.43899309799073866, 0.72361101372665115],
[0.38511066324934057, 0.44413372379901356, 0.72698873233785743],
[0.38505953962897999, 0.44928124786038220, 0.73026390001290331],
[0.38502173439185394, 0.45443433110526704, 0.73343736378573665],
[0.38500216520241132, 0.45959165145070752, 0.73651008198679491],
[0.38500584912299807, 0.46475190594658228, 0.73948312167025931],
[0.38503789212763156, 0.46991381281968775, 0.74235765587415692],
[0.38510347755339436, 0.47507611341284933, 0.74513496072537255],
[0.38520785348660869, 0.48023757401682515, 0.74781641240186325],
[0.38535631909339912, 0.48539698759327005, 0.75040348396450451],
[0.38555420991825406, 0.49055317538754334, 0.75289774207108806],
[0.385807, 0.495705, 0.755301],
[0.38612, 0.50085130893008201, 0.75761453209109308],
[0.38649799874334889, 0.50599105154972190, 0.75984063433106652],
[0.38694710497693024, 0.511123, 0.76198105657069237],
[0.38747227935201545, 0.51624663099585710, 0.76403778091078245],
[0.38807871620921569, 0.52136046941418723, 0.76601286155371196],
[0.38877151990182734, 0.52646373493545806, 0.76790842103690504],
[0.38955568470335605, 0.53155551988863214, 0.76972664644438116],
[0.39043607466232755, 0.53663495447152210, 0.77146978560705581],
[0.39141740359346017, 0.54170120729263149, 0.77314014330206415],
[0.39250421540394037, 0.54675348581686278, 0.77474007746094453],
[0.39370086495982332, 0.55179103671818119, 0.77627199539602210],
[0.39501149970023969, 0.55681314614249355, 0.77773835005384462],
[0.39644004220548801, 0.56181913988419285, 0.77914163630401467],
[0.39799017391942598, 0.566808, 0.78048438727122316],
[0.39966532021629664, 0.57178028222317845, 0.78176917071775975],
[0.40146863698772023, 0.576734, 0.78299858548323586],
[0.40340299890699299, 0.58166986467535153, 0.78417525798770238],
[0.40547098950555571, 0.58658655685598970, 0.78530183880381421],
[0.40767489317097622, 0.59148392066426692, 0.78638099930313843],
[0.41001668914777478, 0.59636155789607703, 0.78741542838118672],
[0.41249804759247322, 0.60121910874528783, 0.78840782926521236],
[0.41512032770336627, 0.60605625137239039, 0.78936091640831762],
[0.41788457791436978, 0.61087270142491590, 0.79027741247290806],
[0.42079153811189257, 0.61566821151339812, 0.79116004540605445],
[0.42384164380462941, 0.62044257064658814, 0.79201154560885534],
[0.42703503214940636, 0.62519560362954474, 0.792835],
[0.43037154971226499, 0.62992717042813706, 0.79363206538492759],
[0.43385076182327798, 0.63463716550340410, 0.79440653390090143],
[0.43747196336679323, 0.63932551711909669, 0.79516076258927504],
[0.44123419083579224, 0.64399218662563884, 0.79589745504420806],
[0.44513623547028863, 0.64863716772359126, 0.79661930236807288],
[0.44917665729469397, 0.65326048570963768, 0.79732898102283156],
[0.45335379986829433, 0.65786219670791002, 0.79802915077798864],
[0.45766580556534281, 0.66244238688941970, 0.79872245275400677],
[0.46211063120717560, 0.66700117168218498, 0.79941150755982693],
[0.46668606387732919, 0.67153869497452556, 0.80009891352294515],
[0.47138973676149992, 0.676055, 0.80078724501026177],
[0.47621914486683153, 0.68055067010327552, 0.80147905083777837],
[0.48117166048926313, 0.685026, 0.80217685276705997],
[0.48624454831239278, 0.68948000210266924, 0.80288314408623995],
[0.49143498003688130, 0.69391431617483967, 0.80360038827324254],
[0.49674004845468950, 0.69832878483023309, 0.80433101773880866],
[0.502157, 0.70272372875760358, 0.80507743264682863],
[0.50768215200521549, 0.70709949074092349, 0.80584199980942983],
[0.51331309576674433, 0.71145643489151256, 0.80662705165424053],
[0.51904651681312874, 0.71579494589121218, 0.80743488526119311],
[0.52487930093584778, 0.72011542824774521, 0.80826776146625556],
[0.53080832482863305, 0.724418, 0.80912790402944645],
[0.53683046505293530, 0.72870401981769439, 0.81001749886451624],
[0.54294260623723511, 0.732973, 0.81093869332769297],
[0.54914164852693814, 0.73722581475210291, 0.81189359556292306],
[0.55542451430729856, 0.74146286504100878, 0.81288427390106266],
[0.56178815422631634, 0.74568469016491690, 0.81391275631054460],
[0.56822955254811613, 0.74989181379013936, 0.81498102989705501],
[0.57474573187002975, 0.75408477400133322, 0.81609104044984671],
[0.58133375723837610, 0.75826412270492927, 0.81724469203234740],
[0.58799073969906357, 0.76243042505201175, 0.81844384661478642],
[0.59471383931964206, 0.76658425888107007, 0.81969032374662010],
[0.60150026771936826, 0.77072621418100906, 0.82098590026660379],
[0.60834729014335520, 0.77485689257478463, 0.82233231004840068],
[0.61525222711593341, 0.77897690682402654, 0.82373124377968809],
[0.62221245570726302, 0.78308688035499086, 0.82518434877276992],
[0.62922541044569391, 0.78718744680619745, 0.82669322880474616],
[0.63628858390681020, 0.79127924959811957, 0.82825944398534068],
[0.64339952700831671, 0.79536294152531939, 0.82988451065053159],
[0.650556, 0.79943918437145767, 0.83156990128014208],
[0.65775521744032928, 0.80350864854764736, 0.833317],
[0.664995, 0.80757201275470314, 0.83512732473000562],
[0.67227405113603833, 0.81162996366989804, 0.83700208278689947],
[0.67958913725107251, 0.81568319565895431, 0.83894261525562464],
[0.68693850961005409, 0.81973241051410262, 0.84095017481177148],
[0.69432011630730595, 0.82377831721919426, 0.84302597018265679],
[0.70173195840907454, 0.82782163174304735, 0.84517116618200472],
[0.70917208859185343, 0.83186307686235972, 0.84738688375382698],
[0.71663860967026260, 0.835903, 0.84967420002345295],
[0.72412967302200448, 0.83994328319152922, 0.85203414835351265],
[0.731643, 0.84398352284935796, 0.85446771840256341],
[0.73917826474133130, 0.84802484988206894, 0.85697585618386729],
[0.74673232315480076, 0.85206801961731160, 0.85955946412160955],
[0.75430398011752220, 0.85611379386500808, 0.86221940110162387],
[0.76189160284450475, 0.86016294101453983, 0.86495648251336332],
[0.76949359564326691, 0.86421623618728360, 0.86777148027951900],
[0.77710839763656603, 0.86827446145117970, 0.870665],
[0.78473448035402404, 0.87233840610538305, 0.87363809529039571],
[0.79237034517349347, 0.87640886704478771, 0.87669103905571855],
[0.80001452058746780, 0.88048664921636066, 0.87982455211684962],
[0.80766555926292005, 0.88457256618191782, 0.88303918875947618],
[0.815322, 0.888667, 0.88633545945154924],
[0.822983, 0.89277210608706548, 0.88971383063522458],
[0.83064567507365905, 0.89688740617263829, 0.89317472445146295],
[0.83831005869625885, 0.901014, 0.89671851838405647],
[0.84597430809340179, 0.90515335063755165, 0.90034554480718554],
[0.85363704096987669, 0.90930575134440406, 0.90405609041716684],
[0.86129686764003932, 0.91347230347308939, 0.90785039552465663],
[0.86895238354156434, 0.91765393126717021, 0.91172865317787821],
[0.87660216034079808, 0.92185158271182255, 0.91569100807992210],
[0.88424473520829960, 0.926066, 0.91973755525318557],
[0.89187859768573852, 0.93029889265822341, 0.92386833839051596],
[0.89950217333486870, 0.934551, 0.92808334781406621],
[0.90711380301442646, 0.93882247538175523, 0.93238251793693105],
[0.91471171610140634, 0.943116, 0.93676572408559688],
[0.92229399513667743, 0.947431, 0.94123277848712283],
[0.92985852800895485, 0.95177091888585885, 0.94578342514381986],
[0.93740294147335757, 0.95613577483234036, 0.95041733319271182],
[0.94492450568601216, 0.96052752435702071, 0.95513408814606871],
[0.95241999172665459, 0.96494798483171496, 0.95993318007358830],
[0.95988544865193182, 0.96939928305290290, 0.96481398719716383],
[0.967316, 0.97388400679850495, 0.96977575226783974],
[0.97470434327855504, 0.97840547629954588, 0.97481754687259048],
[0.98204108262611023, 0.98296828671181158, 0.97993821386666535],
[0.98930989192031704, 0.98757958786536115, 0.98513626553617339],
[0.99647826644122139, 0.992253, 0.99041],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
