from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000452801310825253357, 0.000316644050195996867, 0.000297089939396329064],
[0.00137027162344619913, 0.000881619522694446146, 0.000818425296399794043],
[0.00275481440126003471, 0.00167043449802216468, 0.00154385156516392884],
[0.00460491749624617006, 0.00265771722984355216, 0.00245339693736759982],
[0.00692398075930806059, 0.00382550317746216785, 0.00353534953559123425],
[0.00971753283037797046, 0.00515980854954845979, 0.00478267523514356707],
[0.0129921619410807345, 0.00664913967381507501, 0.00619142467060685570],
[0.0167550055738095137, 0.00828371117843708718, 0.00775988414103631966],
[0.0210134718634724001, 0.0100549865664022638, 0.00948807090090496817],
[0.0257750722666108302, 0.0119553865187348781, 0.0113774105375765554],
[0.0310473133303751890, 0.0139780929750086790, 0.0134305199360788361],
[0.0368376222840589573, 0.0161169118028723253, 0.0156510558104238015],
[0.0430578173273957546, 0.0183661732660934142, 0.0180436061665142228],
[0.0492643435417812817, 0.0207206579358613190, 0.0206136110905155954],
[0.0554260828317146362, 0.0231755403341283722, 0.0233673042713478871],
[0.0615474845126832496, 0.0257263452985782466, 0.0263116696062423334],
[0.0676322417345362470, 0.0283689137022417603, 0.0294544090409084198],
[0.0736834367100107634, 0.0310993751996097266, 0.0328039189430086864],
[0.0797036515149808500, 0.0339141263494442263, 0.0363692730611421197],
[0.0856950539695326696, 0.0368098129200838328, 0.0401602106300242914],
[0.0916594651443986552, 0.0397833154966225969, 0.0440298954820827274],
[0.0975984130926570992, 0.0427527052321229825, 0.0479137776553609160],
[0.103513176101024423, 0.0456595108136236619, 0.0518201961813281667],
[0.109404817860135506, 0.0485145564399558152, 0.0557529343623779997],
[0.115274216328189738, 0.0513204773189677929, 0.0597154942177363993],
[0.121122087618390217, 0.0540797338627592369, 0.0637111264066800853],
[0.126949005920378777, 0.0567946356653400777, 0.0677428553197859107],
[0.132755420231648075, 0.0594673618081957081, 0.0718135002440181691],
[0.138541668501348969, 0.0620999781725609448, 0.0759256933091587427],
[0.144307989658784830, 0.0646944522927412058, 0.0800818947735161268],
[0.150054533900261272, 0.0672526661747697430, 0.0842844060928491790],
[0.155781371532422830, 0.0697764274200181611, 0.0885353811286940517],
[0.161488500611846414, 0.0722674789276103735, 0.0928368357841748426],
[0.167175853575131955, 0.0747275073979639104, 0.0971906563020365211],
[0.172843303017966660, 0.0771581508190758436, 0.101598606417590276],
[0.178490666753285038, 0.0795610050847612160, 0.106062333525840463],
[0.184117712256047616, 0.0819376298680576376, 0.110583373995354284],
[0.189724160583991525, 0.0842895538520211929, 0.115163157739954280],
[0.195309689849042734, 0.0866182794030545267, 0.119803012141932369],
[0.200873938302134236, 0.0889252867579521655, 0.124504165406359529],
[0.206416507084434930, 0.0912120377843307351, 0.129267749414527483],
[0.211936962689965702, 0.0934799793645831600, 0.134094802135083874],
[0.217434839177965911, 0.0957305464455562582, 0.138986269643624538],
[0.222909640167884893, 0.0979651647894876076, 0.143943007795053340],
[0.228360840645285668, 0.100185253456133883, 0.148965783587662437],
[0.233787888603132987, 0.102392227041266964, 0.154055276253427798],
[0.239190206539716566, 0.104587497692668868, 0.159212078105288479],
[0.244567192831743274, 0.106772476921303566, 0.164436695169065006],
[0.249918222998858908, 0.108948577222357373, 0.169729547625042138],
[0.255242650873900023, 0.111117213518291708, 0.175090970082046521],
[0.260539809691531343, 0.113279804433826681, 0.180521211704988055],
[0.265809013106513114, 0.115437773410858230, 0.186020436215257767],
[0.271049556151641946, 0.117592549669642693, 0.191588721782042448],
[0.276260716144367646, 0.119745569021144693, 0.197226060821489246],
[0.281441753550211560, 0.121898274534189943, 0.202932359719682320],
[0.286591912810347571, 0.124052117059996636, 0.208707438494567132],
[0.291710423140045971, 0.126208555615741375, 0.214551030411257282],
[0.296796499304120942, 0.128369057628047151, 0.220462781564533250],
[0.301849342375031027, 0.130535099036644703, 0.226442250441822257],
[0.306868140478846530, 0.132708164257957228, 0.232488907479472873],
[0.311852069533959442, 0.134889746007954059, 0.238602134624720519],
[0.316800293987050563, 0.137081344983381481, 0.244781224915379514],
[0.321711967550587286, 0.139284469400288796, 0.251025382088936266],
[0.326586233945858340, 0.141500634388749158, 0.257333720232416796],
[0.331422227655349122, 0.143731361242720179, 0.263705263484090180],
[0.336219074688057451, 0.145978176524176467, 0.270138945797777696],
[0.340975893361202820, 0.148242611020900666, 0.276633610780247286],
[0.345691795101606636, 0.150526198557710322, 0.283188011611881396],
[0.350365885269897259, 0.152830474661361404, 0.289800811060506702],
[0.354997264010561586, 0.155156975079936088, 0.296470581597955307],
[0.359585027130744306, 0.157507234158178688, 0.303195805628608539],
[0.364128267010585205, 0.159882783070978723, 0.309974875838828490],
[0.368626073547767552, 0.162285147918011269, 0.316806095675792765],
[0.373077535138856775, 0.164715847683421096, 0.323687679963886865],
[0.377481739699878693, 0.167176392065375989, 0.330617755666351432],
[0.381837775728487872, 0.169668279181293152, 0.337594362799455150],
[0.386144733409969909, 0.172192993155548535, 0.344615455505961898],
[0.390401705769173379, 0.174752001597531875, 0.351678903294152023],
[0.394607789870366099, 0.177346752978936068, 0.358782492448110058],
[0.398762088066876630, 0.179978673920200310, 0.365923927614389744],
[0.402863709302204054, 0.182649166397056778, 0.373100833569565638],
[0.406911770464179978, 0.185359604879070217, 0.380310757172514058],
[0.410905397793551008, 0.188111333413001375, 0.387551169504575577],
[0.414843728348214147, 0.190905662664652087, 0.394819468200040047],
[0.418725911524125749, 0.193743866933618530, 0.402112979968631989],
[0.422551110633718141, 0.196627181156036945, 0.409428963310894789],
[0.426318504542445964, 0.199556797910949935, 0.416764611426564124],
[0.430027289363855536, 0.202533864446359513, 0.424117055315184843],
[0.433676680213328225, 0.205559479741316220, 0.431483367067368007],
[0.437265913020419450, 0.208634691620552204, 0.438860563344216248],
[0.440794246399425049, 0.211760493938175975, 0.446245609041555691],
[0.444260963577551460, 0.214937823846807097, 0.453635421134703953],
[0.447665374379768888, 0.218167559168247760, 0.461026872698629020],
[0.451006817269131999, 0.221450515881339627, 0.468416797097415849],
[0.454284661441048454, 0.224787445742090863, 0.475801992336083279],
[0.457498308969640222, 0.228179034050446039, 0.483179225566899906],
[0.460647197004043940, 0.231625897577202977, 0.490545237741465356],
[0.463730800012129019, 0.235128582663659935, 0.497896748398981515],
[0.466748632068791747, 0.238687563505470657, 0.505230460580310292],
[0.469700249185633745, 0.242303240631045858, 0.512543065856615465],
[0.472585251678471929, 0.245975939583591374, 0.519831249460642519],
[0.475403286568780670, 0.249705909814570248, 0.527091695507972191],
[0.478154050014799992, 0.253493323795026870, 0.534321092294916644],
[0.480837289767708620, 0.257338276349816375, 0.541516137659140084],
[0.483452807647864524, 0.261240784218399358, 0.548673544388516787],
[0.486000462035802994, 0.265200785844437292, 0.555790045663271837],
[0.488480170372301459, 0.269218141395047295, 0.562862400516029648],
[0.490891911661471447, 0.273292633009217800, 0.569887399294059072],
[0.493235728970519205, 0.277423965273538131, 0.576861869107737180],
[0.495511731919443699, 0.281611765922152146, 0.583782679249073566],
[0.497720099153636519, 0.285855586756613489, 0.590646746564023162],
[0.499861080792005585, 0.290154904780180412, 0.597451040762316921],
[0.501935000842940182, 0.294509123540033613, 0.604192589648579470],
[0.503942259580114182, 0.298917574669899211, 0.610868484258683564],
[0.505883335869828144, 0.303379519624681404, 0.617475883885494792],
[0.507758789441304703, 0.307894151597887966, 0.624012020978521154],
[0.509569263091051661, 0.312460597611926460, 0.630474205902343820],
[0.511315484812153942, 0.317077920770723498, 0.636859831539227650],
[0.512998269839066046, 0.321745122663595673, 0.643166377721855698],
[0.514618522598236483, 0.326461145908854777, 0.649391415482773904],
[0.516177238554645368, 0.331224876825283621, 0.655532611107847330],
[0.517675505944078851, 0.336035148219364088, 0.661587729981802042],
[0.519114507380770252, 0.340890742275943293, 0.667554640214773620],
[0.520495521329785715, 0.345790393539930241, 0.673431316039664218],
[0.521819923433331279, 0.350732791976602287, 0.679215840971068130],
[0.523089187679991907, 0.355716586098109300, 0.684906410717516789],
[0.524304887405698805, 0.360740386143908132, 0.690501335839797337],
[0.525468696115064304, 0.365802767303018583, 0.695999044149186119],
[0.526582388111613398, 0.370902272966200708, 0.701398082840496318],
[0.527647838925269341, 0.376037417996461565, 0.706697120355940789],
[0.528667025525410783, 0.381206692006597292, 0.711894947976914438],
[0.529642026307730274, 0.386408562632854613, 0.716990481141908220],
[0.530575020843103373, 0.391641478794203190, 0.721982760489862874],
[0.531468289376713421, 0.396903873927137163, 0.726870952629363076],
[0.532324212065788060, 0.402194169186387174, 0.731654350635132844],
[0.533145267944372669, 0.407510776602432900, 0.736332374274350610],
[0.533934033603850500, 0.412852102187202585, 0.740904569966288728],
[0.534693181578212329, 0.418216548979859770, 0.745370610479787144],
[0.535425478423407375, 0.423602520025164464, 0.749730294373976314],
[0.536133782480702648, 0.429008421277392860, 0.753983545188552706],
[0.536821041314519132, 0.434432664423393400, 0.758130410390757126],
[0.537490288815995143, 0.439873669618912944, 0.762171060086956120],
[0.538144641964421910, 0.445329868132876061, 0.766105785507465886],
[0.538787297239724738, 0.450799704894880582, 0.769934997273895583],
[0.539421526680407326, 0.456281640941709810, 0.773659223458889711],
[0.540050673582746388, 0.461774155759223481, 0.777279107448661466],
[0.540678147838622003, 0.467275749516524452, 0.780795405619175598],
[0.541307420911132708, 0.472784945189828110, 0.784208984837226897],
[0.541942020449135531, 0.478300290573971443, 0.787520819797983163],
[0.542585524544002662, 0.483820360180003794, 0.790731990210809865],
[0.543241555634300766, 0.489343757017779712, 0.793843677845397000],
[0.543913774066607458, 0.494869114262942833, 0.796857163450320760],
[0.544605871323491475, 0.500395096808130546, 0.799773823556244823],
[0.545321562932564063, 0.505920402698643357, 0.802595127175952272],
[0.546064581073542832, 0.511443764453259342, 0.805322632413363437],
[0.546838666903545878, 0.516963950271198014, 0.807957982993558699],
[0.547647562623956752, 0.522479765126652174, 0.810502904725681428],
[0.548495003315683016, 0.527990051752586176, 0.812959201910365970],
[0.549384708572783986, 0.533493691515855462, 0.815328753703086884],
[0.550320373967869036, 0.538989605185940301, 0.817613510444521019],
[0.551305662385749518, 0.544476753599882457, 0.819815489968667044],
[0.552344195264911519, 0.549954138226224742, 0.821936773899110240],
[0.553439543789163935, 0.555420801630974848, 0.823979503943392033],
[0.554595220074388329, 0.560875827848801856, 0.825945878195045058],
[0.555814668397499934, 0.566318342662831431, 0.827838147452357953],
[0.557101256516573606, 0.571747513796548978, 0.829658611562509973],
[0.558458267132419972, 0.577162551021445203, 0.831409615799179713],
[0.559888889542792700, 0.582562706184126533, 0.833093547281273827],
[0.561396211540705736, 0.587947273156689931, 0.834712831439878955],
[0.562983211608072520, 0.593315587714232318, 0.836269928540057550],
[0.564652751454983171, 0.598667027343379066, 0.837767330263558874],
[0.566407568953470997, 0.604001010985757314, 0.839207556358038453],
[0.568250271512391048, 0.609316998720339953, 0.840593151357839963],
[0.570183329937356320, 0.614614491388562056, 0.841926681380902542],
[0.572209072816242670, 0.619893030166096870, 0.843210731005864411],
[0.574329681466856035, 0.625152196085135392, 0.844447900232933257],
[0.576547185478886282, 0.630391609510962292, 0.845640801531642006],
[0.578863458877405868, 0.635610929576548855, 0.846792056978142305],
[0.581280216929755289, 0.640809853578826805, 0.847904295484235959],
[0.583799013612214979, 0.645988116340201035, 0.848980150119948651],
[0.586421239746843903, 0.651145489538796363, 0.850022255531016180],
[0.589148121813095948, 0.656281781010799592, 0.851033245452286535],
[0.591980721432699308, 0.661396834028199820, 0.852015750317677290],
[0.594919935520441201, 0.666490526555071683, 0.852972394966968639],
[0.597966497087734750, 0.671562770485474858, 0.853905796449408116],
[0.601120976680312502, 0.676613510865897494, 0.854818561923793019],
[0.604383784426232085, 0.681642725105078506, 0.855713286654421368],
[0.607755172665609300, 0.686650422173897157, 0.856592552102047544],
[0.611235239129183428, 0.691636641797914176, 0.857458924108736586],
[0.614823930629026960, 0.696601453645041557, 0.858314951175319418],
[0.618521047221530118, 0.701544956510652629, 0.859163162829926108],
[0.622326246800099070, 0.706467277502386026, 0.860006068085946818],
[0.626239050073002512, 0.711368571226734692, 0.860846153987581686],
[0.630258845880385943, 0.716249018979416840, 0.861685884241039979],
[0.634384896803606657, 0.721108827941421171, 0.862527697929330706],
[0.638616345019745291, 0.725948230382496340, 0.863374008308486318],
[0.642952218354490457, 0.730767482873773355, 0.864227201683013035],
[0.647391436487291139, 0.735566865511094958, 0.865089636358286396],
[0.651932817263924047, 0.740346681150549690, 0.865963641667582218],
[0.656575083073253740, 0.745107254657608298, 0.866851517071424049],
[0.661316867246880435, 0.749848932171209737, 0.867755531326904972],
[0.666156720442711792, 0.754572080384032007, 0.868677921724670066],
[0.671093116975911230, 0.759277085840161292, 0.869620893391272687],
[0.676124461063375759, 0.763964354251292499, 0.870586618654651478],
[0.681249092950666935, 0.768634309832561979, 0.871577236470538752],
[0.686465294893204292, 0.773287394659060268, 0.872594851907689706],
[0.691771296966314231, 0.777924068044082650, 0.873641535689896664],
[0.697165282681663778, 0.782544805940123767, 0.874719323792860215],
[0.702645394390281952, 0.787150100363651961, 0.875830217094120234],
[0.708209738455089832, 0.791740458844699679, 0.876976181074355266],
[0.713856390178314704, 0.796316403902353476, 0.878159145568544242],
[0.719583398471523972, 0.800878472547264964, 0.879381004565636060],
[0.725388790258161498, 0.805427215812386410, 0.880643616055571621],
[0.731270574600328627, 0.809963198313233934, 0.881948801922728509],
[0.737226746543282907, 0.814486997839100280, 0.883298347885098756],
[0.743255290672465874, 0.818999204976812667, 0.884694003478797564],
[0.749354184379034449, 0.823500422768827289, 0.886137482087822392],
[0.755521400830679757, 0.827991266407684279, 0.887630461019356942],
[0.761754911645000199, 0.832472362969177704, 0.889174581625336802],
[0.768052689262838206, 0.836944351186946767, 0.890771449471504773],
[0.774412709018766576, 0.841407881271653890, 0.892422634555778083],
[0.780832950905256618, 0.845863614778456063, 0.894129671578438256],
[0.787311401025884372, 0.850312224527175808, 0.895894060267518388],
[0.793846052731318696, 0.854754394580367394, 0.897717265763763983],
[0.800434907429422360, 0.859190820285533841, 0.899600719070783650],
[0.807075975057858108, 0.863622208388951318, 0.901545817577543152],
[0.813767274203418656, 0.868049277230165450, 0.903553925662223145],
[0.820506831847304663, 0.872472757028127322, 0.905626375388836058],
[0.827292682708904659, 0.876893390272389328, 0.907764467310970380],
[0.834122868152216257, 0.881311932235870454, 0.909969471400811081],
[0.840995434608237558, 0.885729151629618627, 0.912242628126460731],
[0.847908431452695122, 0.890145831425067313, 0.914585149706896083],
[0.854859908260243273, 0.894562769875850705, 0.916998221582165596],
[0.861847911332455308, 0.898980781779851523, 0.919483004147411242],
[0.868870479365205783, 0.903400700033578197, 0.922040634813978910],
[0.875925638078432933, 0.907823377546323251, 0.924672230480860890],
[0.883011393573309489, 0.912249689602414038, 0.927378890527139621],
[0.890125724101627380, 0.916680536788702427, 0.930161700474484876],
[0.897266569819529902, 0.921116848644903730, 0.933021736523145795],
[0.904431819936549530, 0.925559588252137133, 0.935960071243552294],
[0.911619296435359550, 0.930009758059326619, 0.938977780821577124],
[0.918826733186145939, 0.934468407372583632, 0.942075954430302342],
[0.926051748740895575, 0.938936642124599263, 0.945255706571361487],
[0.933291810243730424, 0.943415637842861199, 0.948518193658859032],
[0.940544184509711778, 0.947906657226148197, 0.951864636825792920],
[0.947805869981235172, 0.952411074567493077, 0.955296354140693915],
[0.955073499120026592, 0.956930410726252734, 0.958814807580835038],
[0.962343193030532507, 0.961466385083099673, 0.962421674180314102],
[0.969610334608459579, 0.966020996351885430, 0.966118958975445863],
[0.976869192887102167, 0.970596655889197968, 0.969909185320685263],
[0.984112250114741571, 0.975196425462237504, 0.973795741857290786],
[0.991328856636960132, 0.979824490253250358, 0.977783588521796143],
[0.998502055937079747, 0.984487269496945872, 0.981880953512627275],
[1.00000000000000000, 0.989196915108239927, 0.986104813922430989],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
