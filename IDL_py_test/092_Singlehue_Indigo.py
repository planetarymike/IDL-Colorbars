from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00038274964441623944, 0.00032214861883970774, 0.00036768307612479971],
[0.0011347936007357637, 0.00090455883545144541, 0.0010831228408239141],
[0.0022528770973472669, 0.0017242003743490038, 0.0021408989881439226],
[0.0037299914325618789, 0.0027574979090181821, 0.0035324150056223447],
[0.00556453, 0.0039880771961522139, 0.0052547072679500041],
[0.0077575759351710492, 0.0054033766355180398, 0.0073076533238868001],
[0.010311753009612295, 0.0069931837079966336, 0.0096928284318665448],
[0.0132307, 0.0087488702488812877, 0.012412932325801700],
[0.016518840480787094, 0.010662943917729952, 0.015471464128764273],
[0.020180998568554952, 0.012728763601853828, 0.018872521580956016],
[0.024222474931410450, 0.014940348218193719, 0.022620668888850719],
[0.0286489, 0.0172922, 0.0267208],
[0.033466002788251944, 0.019779420032109383, 0.031178298865198743],
[0.038679945589669334, 0.022397209933304737, 0.035998537552732836],
[0.044132335408931515, 0.025141242334207951, 0.041171064376484066],
[0.049543421179437532, 0.028007405151061208, 0.046384276375462170],
[0.054924579548514353, 0.030991810473658277, 0.051568180182421631],
[0.0602796, 0.034090767782824542, 0.056726713042271219],
[0.065611835920825284, 0.037300762473075941, 0.061863296370833772],
[0.070924110805277191, 0.040615380050534090, 0.066980922310971830],
[0.076218965517783926, 0.043892918302274660, 0.072082221919376799],
[0.081498622383330888, 0.047115781126800572, 0.0771695],
[0.086765046627708287, 0.050286595712533681, 0.082244876710574177],
[0.092019981791001265, 0.053407747243361690, 0.087310127790705100],
[0.097264978840659266, 0.0564814, 0.092366909426716076],
[0.10250142030691600, 0.0595096, 0.097416684844655710],
[0.10773054044638811, 0.062494120757126730, 0.10246076419027073],
[0.112953, 0.065436710919567764, 0.10750032162798562],
[0.11817111159903479, 0.068338948558202078, 0.112536],
[0.12338442993385401, 0.071202318178473500, 0.11756997223040505],
[0.12859418432142103, 0.074028213691933104, 0.12260185372684779],
[0.13380107670773628, 0.076817949568243393, 0.12763280962324197],
[0.13900573170282676, 0.079572770581407826, 0.13266351356471137],
[0.14420870339054956, 0.082293860370435346, 0.13769456435692384],
[0.14941048127964932, 0.084982348994414120, 0.14272649193243112],
[0.15461149552662062, 0.087639319629949863, 0.14776],
[0.15981212153826113, 0.0902658, 0.15279478355903892],
[0.16501268404356517, 0.092862840368672123, 0.15783190715208870],
[0.170213, 0.0954314, 0.162871],
[0.17541468536605251, 0.097972361732003521, 0.16791361778454828],
[0.18061655088612188, 0.100487, 0.17295866515798927],
[0.18581921177769595, 0.10297539533907601, 0.17800674127365212],
[0.191023, 0.10543923948809572, 0.18305797063751142],
[0.19622735964263693, 0.10787914442828045, 0.18811243950673109],
[0.20143298369680590, 0.11029597845462133, 0.19317019779971958],
[0.20663968093726048, 0.112691, 0.19823126083735237],
[0.21184744494174884, 0.115064, 0.20329561093680831],
[0.21705624206253160, 0.11741663168085606, 0.20836319887664251],
[0.22226601276689251, 0.11974973781031179, 0.21343394524932474],
[0.22747667287450157, 0.12206403649576802, 0.21850774171542847],
[0.23268811470365602, 0.12436037780572348, 0.22358445217190054],
[0.2379, 0.12663961453253503, 0.22866391384534379],
[0.24311280161557142, 0.12890260346299517, 0.23374593831993529],
[0.248326, 0.13115020652796411, 0.23883031250848397],
[0.25353878079849657, 0.13338329183730310, 0.24391679957415507],
[0.25875176428644509, 0.13560273460540517, 0.249005],
[0.26396444499490768, 0.13780941797177168, 0.25409505147889744],
[0.26917657710058757, 0.14000423372036488, 0.25918623162913518],
[0.27438789820544129, 0.14218808290085833, 0.26427835687371015],
[0.27959813001535577, 0.14436187635438291, 0.26937108415412792],
[0.28480697899211999, 0.14652653514593070, 0.274464],
[0.290014, 0.14868299090521653, 0.27955687866826467],
[0.29521928182297036, 0.15083218607750637, 0.28464916803291601],
[0.30042207793554948, 0.15297507408569189, 0.28974050511384425],
[0.30562217689553606, 0.15511261940471741, 0.29483045936112917],
[0.31081921799467571, 0.15724579754934970, 0.29991858482843137],
[0.31601282878869386, 0.15937559497621317, 0.30500442086010465],
[0.32120262563512519, 0.16150300890099287, 0.31008749277607539],
[0.32638821422227904, 0.16362904703173212, 0.31516731255588121],
[0.33156919009064501, 0.165755, 0.32024337952307508],
[0.33674513914788434, 0.16788107702548938, 0.32531518103102625],
[0.34191563817843979, 0.17000913321188560, 0.330382],
[0.34708025534865511, 0.17213994114771272, 0.33544388136318909],
[0.35223855070820448, 0.17427455414145507, 0.34049970125145723],
[0.35739, 0.17641403269616254, 0.34554909920197169],
[0.36253437859885346, 0.17855944369116089, 0.35059151310635511],
[0.36767099512036444, 0.18071185949242563, 0.355626],
[0.37279945879889220, 0.18287235699426430, 0.36065310212166735],
[0.37791929653655332, 0.18504201659525124, 0.365671],
[0.38303003008259356, 0.18722192111168157, 0.37067982855260517],
[0.38813117652370011, 0.18941315463211469, 0.37567864309980881],
[0.39322224877394357, 0.19161680131692332, 0.38066696253075166],
[0.398303, 0.19383394414706284, 0.38564418535550304],
[0.40337220443316302, 0.19606566362660877, 0.39060970738028039],
[0.40843009721385126, 0.19831303644389736, 0.39556292244931507],
[0.41347593552581918, 0.20057713409641398, 0.40050322318943238],
[0.41850921876280711, 0.202859, 0.40543],
[0.42352944508186163, 0.20515975548175808, 0.41034265058507030],
[0.42853611189177565, 0.20748038348138126, 0.41524056313471241],
[0.43352871634098372, 0.20982194193552156, 0.42012313464204259],
[0.438507, 0.212185, 0.42498976286796791],
[0.44346972837130089, 0.214572, 0.42983984884518356],
[0.44841713332709993, 0.21698236952230737, 0.43467279762314404],
[0.45334847164029374, 0.219418, 0.43948801900992940],
[0.45826324644277389, 0.22187901571957586, 0.44428492831010957],
[0.46316096351013431, 0.22436712474047676, 0.44906294705770450],
[0.46804113173934797, 0.22688299015964836, 0.45382150374330160],
[0.47290326362383234, 0.22942750868666423, 0.45856003453438537],
[0.47774687572556679, 0.232002, 0.46327798398792580],
[0.48257148914390063, 0.23460597230707675, 0.46797480575425182],
[0.48737662998072112, 0.237242, 0.47264996327124570],
[0.49216182980158879, 0.23990919379010062, 0.47730293044788069],
[0.49692662609249544, 0.24261, 0.48193319233614157],
[0.50167056271185828, 0.24534341585037445, 0.48654024579035599],
[0.50639319033737307, 0.24811147562818658, 0.49112360011299166],
[0.51109406690734827, 0.25091441261367375, 0.49568277768597885],
[0.51577275805614842, 0.25375287068020341, 0.50021731458663132],
[0.52042883754335667, 0.25662746112623724, 0.50472676118726645],
[0.52506188767629358, 0.25953876206597087, 0.50921068273764447],
[0.52967149972550620, 0.26248731790528573, 0.51366865992936894],
[0.53425727433287873, 0.265474, 0.51810028944142406],
[0.53881882191198505, 0.26849820082550763, 0.52250518446605765],
[0.54335576304034672, 0.27156144467231425, 0.52688297521424254],
[0.547868, 0.27466377650966978, 0.53123330939999691],
[0.552354, 0.27780556737383200, 0.53555585270287809],
[0.55681531395346562, 0.28098715326522311, 0.53985028920800471],
[0.56125025157944153, 0.28420883522422480, 0.54411632182300229],
[0.56565885122045889, 0.28747087948758992, 0.548354],
[0.57004080217902131, 0.29077351772298710, 0.55256208346142643],
[0.57439580641273680, 0.29411694733888499, 0.556741],
[0.57872357885020764, 0.29750133186667210, 0.56089115166826042],
[0.58302384769609184, 0.30092680141166917, 0.56501139340266249],
[0.58729635472513320, 0.30439345316942978, 0.56910186427685860],
[0.59154085556492275, 0.30790135200357188, 0.573162],
[0.59575711996718927, 0.31145053108120357, 0.57719289190198497],
[0.59994493206744393, 0.31504099256188889, 0.58119320124849150],
[0.60410409063279213, 0.31867270833601918, 0.58516324527966967],
[0.60823440929776595, 0.32234562080839640, 0.58910295440981608],
[0.61233571678804499, 0.32605964372280483, 0.59301228092561220],
[0.61640785713193003, 0.32981466302336582, 0.59689119907045329],
[0.620451, 0.33361053774849198, 0.60073970510248642],
[0.62446409018919979, 0.33744710095331509, 0.60455781732650904],
[0.628448, 0.34132416065655130, 0.60834557609994311],
[0.632402, 0.34524150080785687, 0.61210304381313707],
[0.63632668787370628, 0.34919888227185336, 0.61583030484430856],
[0.64022143039948887, 0.35319604382513509, 0.61952746548947357],
[0.64408635760370103, 0.35723270316272193, 0.62319465386776229],
[0.64792144205330349, 0.36130855791057170, 0.626832],
[0.65172667295863695, 0.36542328664095314, 0.63043973467898529],
[0.65550205625946933, 0.36957654988763572, 0.634018],
[0.65924761469854887, 0.37376799115805293, 0.63756700358876606],
[0.66296338788273179, 0.377997, 0.64108700659703832],
[0.66664943233174923, 0.38226390269873584, 0.64457825605470587],
[0.670306, 0.38656758386717099, 0.64804102822673959],
[0.67393264587458357, 0.39090786681872103, 0.651476],
[0.67753001284031689, 0.39528432482922454, 0.654882],
[0.68109804682750352, 0.39969652002117184, 0.65826154552081440],
[0.684637, 0.404144, 0.66161357152789579],
[0.68814669838181131, 0.40862632021324963, 0.664939],
[0.69162764955316436, 0.41314300193400538, 0.66823762113934193],
[0.69507993487443309, 0.41769357602976837, 0.67151044891772194],
[0.69850376329462527, 0.42227756235359115, 0.67475771144817620],
[0.70189936051070911, 0.42689447485401422, 0.67797985519855031],
[0.70526696888926355, 0.43154382237070316, 0.68117734364997484],
[0.70860684737763713, 0.43622510940559228, 0.68435065686707053],
[0.711919, 0.44093783686912402, 0.68750029105703592],
[0.71520453277212970, 0.44568150280126589, 0.690627],
[0.71846293953433382, 0.45045560306710725, 0.69373058518094133],
[0.72169481587075424, 0.45525963202691450, 0.69681231413575029],
[0.72490050194727318, 0.46009308318063019, 0.69987250115945543],
[0.72808035376907820, 0.46495544978684938, 0.70291171623032089],
[0.73123474302449687, 0.46984622545642701, 0.70593054263896249],
[0.73436405692019835, 0.47476490472087190, 0.70892957649390043],
[0.73746869800795800, 0.479711, 0.71190942622287212],
[0.74054908400328501, 0.48468395999980035, 0.71487071207073516],
[0.74360564759615133, 0.489683, 0.71781406559476968],
[0.74663883625408800, 0.49470861032697083, 0.72074012915818630],
[0.74964911201790940, 0.49975929443343231, 0.72364955542261578],
[0.75263695129035080, 0.50483489738672738, 0.72654300684035988],
[0.75560284461788563, 0.50993493402618673, 0.72942115514715022],
[0.75854729646598151, 0.51505892379147700, 0.73228468085614462],
[0.76147082498810281, 0.52020639108058475, 0.73513427275389587],
[0.76437396178872596, 0.52537686558681185, 0.73797062739897079],
[0.767257, 0.53056988261533078, 0.74079444862391086],
[0.77012125243696694, 0.53578498337984515, 0.74360644704119327],
[0.77296653453777220, 0.54102171527991971, 0.74640733955382521],
[0.77579368091226386, 0.54627963215953068, 0.74919784887120056],
[0.77860328667620649, 0.55155829454740113, 0.75197870303081193],
[0.78139595886525648, 0.55685726987966588, 0.75475063492640149],
[0.78417231616440874, 0.56217613270542843, 0.75751438184311293],
[0.78693298863390593, 0.56751446487573687, 0.76027068500017969],
[0.78967861743193368, 0.572872, 0.76302028910168174],
[0.79240985453444701, 0.57824790218601141, 0.76576394189586250],
[0.79512736245247395, 0.58364220901714736, 0.76850239374350871],
[0.79783181394727964, 0.589054, 0.77123639719584847],
[0.80052389174372340, 0.59448406232299844, 0.77396670658242828],
[0.80320428824223855, 0.59993085821851055, 0.77669407760941211],
[0.80587370522980495, 0.60539441350474266, 0.77941926696872310],
[0.80853285359034610, 0.61087437343287798, 0.78214303195843904],
[0.81118245301495873, 0.61637039159477502, 0.78486613011485751],
[0.81382323171248216, 0.621882, 0.78758931885660899],
[0.81645592612080664, 0.627409, 0.79031335514121714],
[0.819081, 0.63295145748844339, 0.79303899513448384],
[0.82170004724409706, 0.63850841283968096, 0.79576699389307792],
[0.82431298540306352, 0.64407982085980719, 0.79849810506070862],
[0.82692086159726519, 0.649665, 0.80123308057827003],
[0.82952444914331369, 0.65526482057494040, 0.80397267040833509],
[0.83212452790101243, 0.66087784623616497, 0.80671762227441002],
[0.83472188400574254, 0.66650419244123593, 0.809469],
[0.83731730960653039, 0.67214359715930594, 0.81222659035538491],
[0.83991160261062670, 0.67779580666891115, 0.81499208869016348],
[0.84250556643544849, 0.68346057549616168, 0.81776591288937306],
[0.84510000976884570, 0.68913766634362517, 0.82054879611637765],
[0.84769574633874156, 0.69482685000986044, 0.823341],
[0.85029359469322696, 0.70052790529955400, 0.82614465481741550],
[0.85289437799237511, 0.70624061892410039, 0.82895907871372099],
[0.85549892381309933, 0.71196478539244201, 0.83178545825077821],
[0.85810806396853145, 0.71770020689189962, 0.83462450799430876],
[0.86072263434357021, 0.72344669315863552, 0.83747693851528904],
[0.86334347474839213, 0.72920406133732041, 0.84034345634831820],
[0.86597142879195488, 0.73497213582945642, 0.84322476397362900],
[0.86860734377772209, 0.74075074812970432, 0.846122],
[0.871252, 0.74653973664941298, 0.84903453831878772],
[0.87390646381284443, 0.75233894652641720, 0.85196438992479451],
[0.876571, 0.75814822941996962, 0.85491180124942601],
[0.87924768486657179, 0.76396744328948263, 0.857877],
[0.881936, 0.769796, 0.860862],
[0.884638, 0.77563512584102279, 0.86386620458413976],
[0.88735358155389021, 0.78148333969104944, 0.86689064879625344],
[0.89008411849926183, 0.78734097426762484, 0.86993603354522198],
[0.89283040607453124, 0.79320791501742949, 0.87300302626230442],
[0.895593, 0.79908405190817122, 0.87609229226716823],
[0.89837378110302757, 0.80496927902946858, 0.87920449522916722],
[0.90117265569913607, 0.81086349415301617, 0.88234029770164846],
[0.90399085633381648, 0.81676659824578923, 0.88550036173933511],
[0.906829, 0.82267849492880685, 0.88868534961086454],
[0.90968888132735670, 0.82859908987235131, 0.89189592462107215],
[0.91257054904970825, 0.83452829011662377, 0.89513275206073595],
[0.91547523184226953, 0.84046600330430288, 0.89839650030545004],
[0.91840387751603136, 0.84641213680840155, 0.90168784209026298],
[0.92135744724401236, 0.852367, 0.90500745599312427],
[0.92433691766573112, 0.85832928677349474, 0.90835602816836703],
[0.92734328339908034, 0.86430010686671888, 0.91173425438216638],
[0.93037756004919481, 0.87027895165161895, 0.91514284241598209],
[0.93344078782902817, 0.87626570862556241, 0.91858251492267329],
[0.93653403594026596, 0.88226025596467805, 0.92205401284517707],
[0.93965840790940658, 0.88826245990556341, 0.92555809954199553],
[0.942815, 0.89427217157001449, 0.92909556581132457],
[0.94600515001415986, 0.90028922307065629, 0.93266723607264013],
[0.94922996606794585, 0.90631342267517700, 0.93627397606051910],
[0.95249082082816072, 0.91234454871881154, 0.93991670252581039],
[0.95578912733615617, 0.91838234182305156, 0.94359639564898579],
[0.95912640868991483, 0.92442649477662497, 0.94731411519214259],
[0.96250432667836561, 0.93047663911596123, 0.95107102192357640],
[0.96592472067205304, 0.93653232692224064, 0.95486840667647466],
[0.96938966181359187, 0.942593, 0.95870773080582439],
[0.97290153087715703, 0.94865798080067354, 0.96259068429420613],
[0.97646313438611088, 0.95472636335795114, 0.96651927241015556],
[0.98007788600257040, 0.96079698298441130, 0.97049595112278342],
[0.98375010715523426, 0.96686824784420489, 0.97452385166257927],
[0.98748556593470094, 0.972938, 0.97860718337626895],
[0.99129255493186330, 0.97900246356489074, 0.98275204023145812],
[0.99518443676186752, 0.98505613244008250, 0.98696830758060849],
[0.99918771456033595, 0.99108686588763806, 0.99127571482116805],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
