from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000326470609378596666, 0.000344711618613338438, 0.000363871542866058082],
[0.000916500932515861510, 0.000992087518570456978, 0.00106808531003093244],
[0.00174687332379124807, 0.00192712293405850488, 0.00210550700388641154],
[0.00279386727312531990, 0.00313296880672062766, 0.00346599874082226950],
[0.00404110074516563639, 0.00459920527034342070, 0.00514515239853427942],
[0.00547608152972906253, 0.00631873880060022149, 0.00714145873377267440],
[0.00708871510475072956, 0.00828649270940673421, 0.00945514508428598084],
[0.00887052326872791140, 0.0104987350271387864, 0.0120875927342138506],
[0.0108141845354725302, 0.0129526899950652592, 0.0150410074273048759],
[0.0129132414142310789, 0.0156462945025010493, 0.0183182171386926385],
[0.0151619027929783198, 0.0185780360496672591, 0.0219225403554817802],
[0.0175549044256632890, 0.0217468399313528148, 0.0258576963368526355],
[0.0200874068803362435, 0.0251519878097058100, 0.0301277417982166243],
[0.0227549186982271834, 0.0287930571987636587, 0.0347370249848698367],
[0.0255532371255729647, 0.0326698753877834661, 0.0396901516150273206],
[0.0284784014577197341, 0.0367824836359849500, 0.0447775010342645261],
[0.0315266556622945948, 0.0411163830948136702, 0.0498235606934673073],
[0.0346944179757767979, 0.0454435522501618408, 0.0548410670462150460],
[0.0379782558382148264, 0.0497291733304653441, 0.0598336538983170671],
[0.0413533143191807326, 0.0539766358804162558, 0.0648045341033646749],
[0.0446749454097747287, 0.0581889521369504184, 0.0697565684046616841],
[0.0479426548802237909, 0.0623688150225089818, 0.0746923203873399166],
[0.0511589453480488302, 0.0665186450449359590, 0.0796141008365560399],
[0.0543260618485907690, 0.0706406286093623215, 0.0845240039083177963],
[0.0574460256711795056, 0.0747367496020024391, 0.0894239368967466586],
[0.0605206625254713429, 0.0788088156455506173, 0.0943156449381582773],
[0.0635516261647259551, 0.0828584800926617793, 0.0992007316717560816],
[0.0665404183356974599, 0.0868872605793999664, 0.104080676641721187],
[0.0694884057333603755, 0.0908965547786859396, 0.108956850050981657],
[0.0723968344945062348, 0.0948876538569770889, 0.113830525345854333],
[0.0752668426544249314, 0.0988617540334066070, 0.118702890011199852],
[0.0780994709064672110, 0.102819966560707271, 0.123575054879365431],
[0.0808956719387100287, 0.106763326385332119, 0.128448062197064367],
[0.0836563185706502288, 0.110692799695748106, 0.133322892648159164],
[0.0863822108723336923, 0.114609290529715302, 0.138200471493961641],
[0.0890740824161139477, 0.118513646581040660, 0.143081673963811051],
[0.0917326057854421784, 0.122406664322046443, 0.147967330005648157],
[0.0943583974442801787, 0.126289093538461600, 0.152858228487758957],
[0.0969520220538511446, 0.130161641357620594, 0.157755120927856540],
[0.0995139963096767777, 0.134024975837950921, 0.162658724813449063],
[0.102044792360529213, 0.137879729177160570, 0.167569726567434990],
[0.104544840861610477, 0.141726500587815274, 0.172488784204627293],
[0.107014533706521281, 0.145565858881785304, 0.177416529718093519],
[0.109454226476148026, 0.149398344799030386, 0.182353571228534350],
[0.111864240637186474, 0.153224473111169490, 0.187300494925185579],
[0.114244865518491917, 0.157044734526071095, 0.192257866822765078],
[0.116596360089603945, 0.160859597416142225, 0.197226234355639018],
[0.118918954562548890, 0.164669509389987756, 0.202206127827559035],
[0.121212851835265451, 0.168474898724556177, 0.207198061732919159],
[0.123478228792616662, 0.172276175672710252, 0.212202535963441352],
[0.125715237478944475, 0.176073733659296239, 0.217220036912449954],
[0.127924006154361003, 0.179867950377190167, 0.222251038487400465],
[0.130104640245491593, 0.183659188793413752, 0.227296003040035999],
[0.132257223200039631, 0.187447798074234118, 0.232355382222438567],
[0.134381817253440838, 0.191234114437125152, 0.237429617776274693],
[0.136478464114876158, 0.195018461936571796, 0.242519142261706844],
[0.138547185579026011, 0.198801153189927471, 0.247624379731709587],
[0.140587984069210831, 0.202582490048848651, 0.252745746356901502],
[0.142600843116871490, 0.206362764221235395, 0.257883651005447356],
[0.144585727781754242, 0.210142257848088543, 0.263038495782097925],
[0.146542585016633697, 0.213921244039230685, 0.268210676530013792],
[0.148471343979929060, 0.217699987371436143, 0.273400583298636313],
[0.150371916299151365, 0.221478744352156476, 0.278608600780544891],
[0.152244196287724426, 0.225257763851713033, 0.283835108719940776],
[0.154088061117390984, 0.229037287506544229, 0.289080482295141383],
[0.155903370948077213, 0.232817550095850700, 0.294345092477236947],
[0.157689969016820808, 0.236598779893754774, 0.299629306366855697],
[0.159447681687076653, 0.240381198998898260, 0.304933487510803403],
[0.161176318459486684, 0.244165023643217849, 0.310257996200177133],
[0.162875671944946676, 0.247950464481487331, 0.315603189751408553],
[0.164545517800586127, 0.251737726863070887, 0.320969422771561430],
[0.166185614629084877, 0.255527011087199218, 0.326357047409090106],
[0.167795703841505384, 0.259318512642976340, 0.331766413591161047],
[0.169375509483670528, 0.263112422435210436, 0.337197869248543280],
[0.170924738025883150, 0.266908926997077800, 0.342651760528991545],
[0.172443078115611381, 0.270708208690538465, 0.348128431999963683],
[0.173930200292559539, 0.274510445895352895, 0.353628226841448512],
[0.175385756665371068, 0.278315813187469674, 0.359151487029614691],
[0.176809380548973799, 0.282124481507505132, 0.364698553511936863],
[0.178200686061409097, 0.285936618319966918, 0.370269766374397846],
[0.179559267678752854, 0.289752387763830277, 0.375865465001326504],
[0.180884699746524435, 0.293571950795022019, 0.381485988228379758],
[0.182176535945724916, 0.297395465321333652, 0.387131674489144539],
[0.183434308711447114, 0.301223086330231427, 0.392802861955797056],
[0.184657528601649329, 0.305054966010013917, 0.398499888674223479],
[0.185845683613502122, 0.308891253864717663, 0.404223092693979213],
[0.186998238444307185, 0.312732096823154670, 0.409972812193433844],
[0.188114633693748340, 0.316577639342426775, 0.415749385600426180],
[0.189194285003801754, 0.320428023506246829, 0.421553151708729867],
[0.190236582132249921, 0.324283389118370957, 0.427384449790608356],
[0.191240887955358735, 0.328143873791414686, 0.433243619705723726],
[0.192206537394715549, 0.332009613031324535, 0.439131002006635462],
[0.193132836262778829, 0.335880740317741011, 0.445046938041124995],
[0.194019060021026979, 0.339757387180487924, 0.450991770051548613],
[0.194864452444032860, 0.343639683272388252, 0.456965841271423645],
[0.195668224181999195, 0.347527756438615720, 0.462969496019431659],
[0.196429551213493425, 0.351421732782761342, 0.469003079791008803],
[0.197147573179286884, 0.355321736729783455, 0.475066939347691008],
[0.197821391587096107, 0.359227891086010276, 0.481161422804365524],
[0.198450067875989678, 0.363140317096338316, 0.487286879714568355],
[0.199032621327870363, 0.367059134498773198, 0.493443661153970370],
[0.199568026812093346, 0.370984461576438496, 0.499632119802171537],
[0.200055212347546807, 0.374916415207183884, 0.505852610022926807],
[0.200493056464818076, 0.378855110910900572, 0.512105487942916993],
[0.200880385348849832, 0.382800662894658861, 0.518391111529168946],
[0.201215969740208000, 0.386753184095766478, 0.524709840665229299],
[0.201498521570318556, 0.390712786222842168, 0.531062037226180950],
[0.201726690302933831, 0.394679579794998126, 0.537448065152599463],
[0.201899058950537724, 0.398653674179213713, 0.543868290523530806],
[0.202014139730277542, 0.402635177625975615, 0.550323081628571686],
[0.202070369319301279, 0.406624197303265766, 0.556812809039129220],
[0.202066103663866736, 0.410620839328963094, 0.563337845678937743],
[0.201999612290305330, 0.414625208801722267, 0.569898566893894176],
[0.201869072058433852, 0.418637409830398266, 0.576495350521284644],
[0.201672560289460456, 0.422657545562066583, 0.583128576958463873],
[0.201408047190268780, 0.426685718208700271, 0.589798629231047977],
[0.201073387484050570, 0.430722029072551082, 0.596505893060676362],
[0.200666311143285037, 0.434766578570284556, 0.603250756932400378],
[0.200184413104345760, 0.438819466255915336, 0.610033612161752670],
[0.199625141823325469, 0.442880790842581751, 0.616854852961541855],
[0.198985786508990237, 0.446950650223204848, 0.623714876508429938],
[0.198263462840493787, 0.451029141490064622, 0.630614083009331194],
[0.197455096943311148, 0.455116360953334464, 0.637552875767683491],
[0.196557407355608615, 0.459212404158599485, 0.644531661249633347],
[0.195566884666904806, 0.463317365903397282, 0.651550849150174249],
[0.194479768449459023, 0.467431340252806360, 0.658610852459282747],
[0.193292021027137578, 0.471554420554110065, 0.665712087528088192],
[0.197741218547238584, 0.475343343274518826, 0.669691697707495925],
[0.207616253816948870, 0.478792911520980080, 0.670544528234490511],
[0.217147957708015871, 0.482244999653576201, 0.671431629293247290],
[0.226378736542001135, 0.485699917440614970, 0.672352495423316099],
[0.235343475751853548, 0.489157964620884289, 0.673306642805424849],
[0.244071260011753943, 0.492619431471806479, 0.674293608296727909],
[0.252586621632142405, 0.496084599341153287, 0.675312948519219081],
[0.260910465767352662, 0.499553741145085384, 0.676364238997972156],
[0.269060768793896010, 0.503027121835023516, 0.677447073346115314],
[0.277053114076162454, 0.506504998835670017, 0.678561062493653111],
[0.284901108946945980, 0.509987622456276157, 0.679705833957469752],
[0.292616713452788779, 0.513475236277115332, 0.680881031150019300],
[0.300210502565003701, 0.516968077512919955, 0.682086312724387911],
[0.307691877534932545, 0.520466377354934284, 0.683321351953575129],
[0.315069237896298371, 0.523970361293081277, 0.684585836141974213],
[0.322350122672325046, 0.527480249419628233, 0.685879466067183974],
[0.329541327235737702, 0.530996256715636106, 0.687201955450406077],
[0.336649000737340332, 0.534518593321357649, 0.688553030453785908],
[0.343678727890878333, 0.538047464791683749, 0.689932429203179320],
[0.350635598061986631, 0.541583072337638360, 0.691339901334919293],
[0.357524263976371381, 0.545125613054845526, 0.692775207565249129],
[0.364348991881101036, 0.548675280139840238, 0.694238119281180510],
[0.371113704623220186, 0.552232263095008058, 0.695728418151604466],
[0.377822018823470218, 0.555796747922894352, 0.697245895757570011],
[0.384477277098978942, 0.559368917310575364, 0.698790353240707818],
[0.391082576112668723, 0.562948950804714521, 0.700361600968839482],
[0.397640791087155054, 0.566537024977903259, 0.701959458217876864],
[0.404154597309394403, 0.570133313586832169, 0.703583752869171852],
[0.410626489062506039, 0.573737987722802378, 0.705234321121526064],
[0.417058796348604266, 0.577351215955056341, 0.706911007217120968],
[0.423453699707494968, 0.580973164467366687, 0.708613663180678532],
[0.429813243387729305, 0.584603997188299362, 0.710342148571193599],
[0.436139347086859141, 0.588243875915537062, 0.712096330245638898],
[0.442433816444946504, 0.591892960434620474, 0.713876082134055068],
[0.448698352448128335, 0.595551408632446599, 0.715681285025500547],
[0.454934559876356504, 0.599219376605843235, 0.717511826364347405],
[0.461143954910499365, 0.602897018765500281, 0.719367600056456058],
[0.467327971997897051, 0.606584487935556194, 0.721248506284775992],
[0.473487970062136443, 0.610281935449073609, 0.723154451333969939],
[0.479625238131238862, 0.613989511239677377, 0.725085347423650384],
[0.485741000448935589, 0.617707363929546838, 0.727041112549881685],
[0.491836421125240231, 0.621435640914015597, 0.729021670334594640],
[0.497912608375612076, 0.625174488442954090, 0.731026949882597199],
[0.503970618391830882, 0.628924051699133124, 0.733056885645875234],
[0.510011458882503321, 0.632684474873757008, 0.735111417294915359],
[0.516036092316618955, 0.636455901239322386, 0.737190489596778575],
[0.522045438899635950, 0.640238473219975512, 0.739294052299691140],
[0.528040379308211016, 0.644032332459510748, 0.741422060023920970],
[0.534021757206713521, 0.647837619887163263, 0.743574472158743505],
[0.539990381566107236, 0.651654475781321407, 0.745751252765290196],
[0.545947028803486445, 0.655483039831307179, 0.747952370485124196],
[0.551892444758655620, 0.659323451197326826, 0.750177798454366274],
[0.557827346522298484, 0.663175848568731685, 0.752427514223240390],
[0.563752424128876495, 0.667040370220684187, 0.754701499680902832],
[0.569668342125906224, 0.670917154069357036, 0.756999740985444647],
[0.575575741030229238, 0.674806337725749272, 0.759322228498963137],
[0.581475238680675632, 0.678708058548239235, 0.761668956727626023],
[0.587367431495686598, 0.682622453693965348, 0.764039924266653792],
[0.593252895643616052, 0.686549660169118226, 0.766435133750162811],
[0.599132188132596610, 0.690489814878261998, 0.768854591805838483],
[0.605005847826324272, 0.694443054672750137, 0.771298309014410322],
[0.610874396391395735, 0.698409516398337704, 0.773766299873919428],
[0.616738339181379991, 0.702389336942080278, 0.776258582768798555],
[0.622598166062279912, 0.706382653278592287, 0.778775179943779983],
[0.628454352183614451, 0.710389602515768881, 0.781316117482691253],
[0.634307358698969259, 0.714410321940046500, 0.783881425292193734],
[0.640157633439500939, 0.718444949061293303, 0.786471137090563821],
[0.646005611543551739, 0.722493621657416707, 0.789085290401619011],
[0.651851716045241836, 0.726556477818780633, 0.791723926553931090],
[0.657696358424637695, 0.730633655992523723, 0.794387090685485187],
[0.663539939121834066, 0.734725295026877556, 0.797074831753983193],
[0.669382848017103460, 0.738831534215571017, 0.799787202553008503],
[0.675225464878954296, 0.742952513342451493, 0.802524259734323286],
[0.681068159781898608, 0.747088372726397387, 0.805286063836585964],
[0.686911293495352515, 0.751239253266672180, 0.808072679320846699],
[0.692755217845098636, 0.755405296488817601, 0.810884174613200393],
[0.698600276048455315, 0.759586644591231819, 0.813720622155061468],
[0.704446803024147750, 0.763783440492575627, 0.816582098461552386],
[0.710295125677802508, 0.767995827880147863, 0.819468684188604302],
[0.716145563163701371, 0.772223951259422114, 0.822380464209415352],
[0.721998427123391462, 0.776467956004905035, 0.825317527701029729],
[0.727854021901525150, 0.780727988412540097, 0.828279968241877440],
[0.733712644739153874, 0.785004195753868372, 0.831267883921259831],
[0.739574585944534291, 0.789296726332212928, 0.834281377461877804],
[0.745440129041358701, 0.793605729541148608, 0.837320556356675905],
[0.751309550894038281, 0.797931355925594166, 0.840385533021442366],
[0.757183121809591797, 0.802273757245865138, 0.843476424964825999],
[0.763061105615313706, 0.806633086545106348, 0.846593354977676293],
[0.768943759711256947, 0.811009498220554015, 0.849736451343891419],
[0.774831335096221152, 0.815403148099155817, 0.852905848075321549],
[0.780724076365558961, 0.819814193518161871, 0.856101685173640381],
[0.786622221678837996, 0.824242793411366748, 0.859324108922614571],
[0.792526002694805221, 0.828689108401830854, 0.862573272214732123],
[0.798435644470694594, 0.833153300902004568, 0.865849334916850788],
[0.804351365322156120, 0.837635535222371552, 0.869152464280327441],
[0.810273376639459975, 0.842135977689890236, 0.872482835402093149],
[0.816201882654599586, 0.846654796777779328, 0.875840631744314813],
[0.822137080152859023, 0.851192163248456035, 0.879226045721772431],
[0.828079158121051595, 0.855748250311796688, 0.882639279367862351],
[0.834028297322915502, 0.860323233801345455, 0.886080545092381322],
[0.839984669790119765, 0.864917292371606972, 0.889550066547025398],
[0.845948438214636833, 0.869530607720293114, 0.893048079618025459],
[0.851919755225008624, 0.874163364840214174, 0.896574833569764529],
[0.857898762524752834, 0.878815752306649434, 0.900130592368863280],
[0.863885589865731496, 0.883487962607451105, 0.903715636225486008],
[0.869880353822266361, 0.888180192524970935, 0.907330263398059000],
[0.875883156322487810, 0.892892643581375101, 0.910974792320011328],
[0.881894082881068409, 0.897625522562115807, 0.914649564123641734],
[0.887913200460930918, 0.902379042136703280, 0.918354945658387489],
[0.893940554868897674, 0.907153421601862075, 0.922091333131059621],
[0.899976167558909079, 0.911948887780366646, 0.925859156537442662],
[0.906020031672474580, 0.916765676120401163, 0.929658885113570976],
[0.912072107082902206, 0.921604032056835165, 0.933491034119303564],
[0.918132314117708237, 0.926464212719961155, 0.937356173390002767],
[0.924200525495934899, 0.931346489113296538, 0.941254938276151809],
[0.930276555806048844, 0.936251148937324196, 0.945188043872704831],
[0.936360147517239505, 0.941178500323140321, 0.949156303884562624],
[0.942450951974306173, 0.946128876881882186, 0.953160656199193546],
[0.948548502907109348, 0.951102644716072532, 0.957202198464545906],
[0.954652178356477976, 0.956100212464552901, 0.961282239144571560],
[0.960761143871258327, 0.961122046248214512, 0.965402373590367069],
[0.966874263742917850, 0.966168692972180998, 0.969564602785741525],
[0.972989953833972909, 0.971240818884691604, 0.973771530041057543],
[0.979105917660236025, 0.976339278604829608, 0.978026713428709171],
[0.985218618315414463, 0.981465253028105944, 0.982335370454803569],
[0.991322030770234730, 0.986620574694159758, 0.986706041863967154],
[0.997403684146248692, 0.991808758404921220, 0.991155865660169444],
[1.00341087707828258, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
