from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00029740302373632401, 0.00035878, 0.00033878281802856566],
[0.00080397448766421136, 0.0010469077234228393, 0.00096765509007410246],
[0.0014865977281495325, 0.0020547083087188388, 0.0018658645522938080],
[0.0023135140367225634, 0.0033698633106788402, 0.0030102939192400836],
[0.0032615206460396080, 0.0049859842604011101, 0.0043837293866217531],
[0.0043121811587356063, 0.0068996701221731797, 0.0059717856607543040],
[0.00545016, 0.0091092789299596407, 0.0077616233024144204],
[0.00666234, 0.011614300183642444, 0.0097413025336689964],
[0.0079373264316076816, 0.014414991529874455, 0.011899419982401946],
[0.0092650910687449954, 0.0175121, 0.014224890023754436],
[0.010636788336430334, 0.020906952925376195, 0.016706807582629508],
[0.012044594978554197, 0.024600855728864734, 0.019334360308955172],
[0.013481610738174407, 0.028595501707912752, 0.0220968],
[0.014941786006734677, 0.032892662761224392, 0.024983270030344784],
[0.016419870234478048, 0.037494188101618357, 0.027983060967580554],
[0.017911375215490865, 0.042342813924569824, 0.031085325913415639],
[0.019412549246950975, 0.047163848675096674, 0.034279217110450636],
[0.020920359360303550, 0.051946093359762170, 0.037553863293691383],
[0.022432479608187440, 0.056692654109337222, 0.040889404109159734],
[0.0239473, 0.061406184790627850, 0.044136969877056682],
[0.025463842416908307, 0.066088957947100818, 0.047284985205465001],
[0.026981920297790257, 0.070742921630513655, 0.050334820368639559],
[0.028501978672075722, 0.075369745469930832, 0.0532876],
[0.030025176756110064, 0.079970858422947294, 0.056144326651251318],
[0.031553375029764213, 0.0845475, 0.058905744301003003],
[0.033089138989310034, 0.089100646480185092, 0.061572534313116954],
[0.034635743203814170, 0.093631232689496302, 0.064145253781891704],
[0.036197175428108248, 0.098139970917164365, 0.0666244],
[0.037778140562935908, 0.10262746681366980, 0.069010285660333598],
[0.039384064283245319, 0.10709421322421592, 0.071303335559687125],
[0.041009182386623287, 0.111541, 0.073503816219653489],
[0.0426236, 0.11596693543490336, 0.075611987711689366],
[0.044243963728536347, 0.12037343362351299, 0.077628084551664256],
[0.045877180230246749, 0.12476024452756745, 0.0795523],
[0.047530237581899219, 0.12912745032785020, 0.081384911308307856],
[0.049210103632699460, 0.13347507414738488, 0.083126049151778680],
[0.050923708162246707, 0.13780308593904919, 0.084775939519639604],
[0.052677907017153129, 0.14211140781721102, 0.086334789996078687],
[0.054479443619824562, 0.1464, 0.087802817405465833],
[0.056334908714519315, 0.15066845979191110, 0.089180251254934534],
[0.058250699304975610, 0.15491683656158939, 0.090467336691112177],
[0.060232977798278277, 0.159145, 0.091664337017822228],
[0.062287632393859614, 0.16335217199914681, 0.0927715],
[0.064420239739426843, 0.16753860288289388, 0.0937892],
[0.066636030814997110, 0.17170382031610709, 0.094717774709549757],
[0.068939860903307698, 0.17584750915980074, 0.095557497488551746],
[0.071336184363971294, 0.17996933869123741, 0.096308786037846372],
[0.073829034757583539, 0.18406896507304299, 0.096972045314813543],
[0.076422010674236374, 0.18814603367644894, 0.097547706540076884],
[0.079118267420026866, 0.19220018127132407, 0.098036227282127547],
[0.081920514516778287, 0.19623103809394243, 0.098438091327066962],
[0.084831018785320955, 0.20023822980199668, 0.098753808347407990],
[0.087851612620681113, 0.20422137932512357, 0.098983913382916733],
[0.090983706935390596, 0.20818010861817982, 0.099128966145721170],
[0.094228308149152479, 0.21211404032361658, 0.099189550161317419],
[0.097586038540911774, 0.21602279934855012, 0.099166271756664981],
[0.10105715925175030, 0.21990601436149571, 0.099059758906254652],
[0.10464159523104993, 0.22376331921319414, 0.098870659946845796],
[0.10833896144916599, 0.22759435428549685, 0.098599642171512902],
[0.11214858975188649, 0.231399, 0.098247390313684180],
[0.11606955579933276, 0.23517621689304352, 0.097814604932033367],
[0.12010070560874250, 0.23892636905000403, 0.097302000707375574],
[0.12424068130177768, 0.24264890291843444, 0.096710304663152946],
[0.12848794573788286, 0.24634350948584621, 0.096040254321672042],
[0.13284080579261348, 0.25000989303462145, 0.095292595809012420],
[0.13729743411087342, 0.25364777207299460, 0.094468081922473995],
[0.14185588922822229, 0.25725688021619075, 0.0935675],
[0.14651413400784621, 0.26083696701981057, 0.092591520837486896],
[0.15127005238611604, 0.26438779876748014, 0.091540994984169149],
[0.15612146445627848, 0.26790915921472114, 0.090416652583573676],
[0.16106613994821806, 0.27140085029093752, 0.089219250636403735],
[0.16610181018321121, 0.27486269276138103, 0.087949541400160036],
[0.17122617859722575, 0.27829452685090489, 0.086608270726857450],
[0.17643692993540810, 0.28169621283129226, 0.085196176550281721],
[0.18173173822509947, 0.28506763157389931, 0.083714],
[0.18710827363573557, 0.28840868506933248, 0.082162422145672709],
[0.19256420833229879, 0.29171929691583887, 0.080542187569564466],
[0.19809722142519370, 0.294999, 0.078854],
[0.20370500311413609, 0.29824900081770966, 0.077098482574459448],
[0.20938525811741809, 0.30146805209792066, 0.075276369942868487],
[0.21513570847110308, 0.30465658096248810, 0.073388305643673379],
[0.22095409577565028, 0.30781462539179588, 0.071434946215634204],
[0.226838, 0.31094224733667874, 0.069416943994444841],
[0.23278575562914672, 0.31403953303165011, 0.067334951583268771],
[0.23879462304466265, 0.31710659328880669, 0.065189627905333447],
[0.24486261880128735, 0.32014356377365399, 0.062981646216125981],
[0.250988, 0.32315060526403311, 0.060711704551507296],
[0.25716745358944831, 0.32612790389324048, 0.058380539215788903],
[0.26340008403372084, 0.32907567137836324, 0.055988942079663852],
[0.269683, 0.331994, 0.053537782674250182],
[0.27601543519691307, 0.33488358897744130, 0.051028036351028393],
[0.28239409457654047, 0.33774429231032299, 0.048460820150550941],
[0.28881740843602177, 0.34057657130356911, 0.045837438515728433],
[0.29528340452741331, 0.343381, 0.043159441638875438],
[0.30179013287512391, 0.34615725337035930, 0.040428369826644175],
[0.30833566508558880, 0.34890642185886944, 0.037658022358175641],
[0.314918, 0.35162869711744077, 0.034957187916352613],
[0.32153553104895405, 0.354325, 0.032333478830550502],
[0.32818610926877995, 0.35699439588812226, 0.029794609064828420],
[0.33486797873367591, 0.35963880149100624, 0.027348409359289658],
[0.34157930766236672, 0.36225827824116524, 0.025002843691178049],
[0.34831828125267666, 0.36485338572351467, 0.022766027036359028],
[0.35508310089894057, 0.36742471107428687, 0.020646244409751678],
[0.36187198341735322, 0.36997286903661258, 0.018651971161209466],
[0.36868316028248166, 0.372499, 0.0167919],
[0.37551487687774776, 0.37500228003789937, 0.015074936228568958],
[0.38236539176234830, 0.37748490089635550, 0.013510276629952370],
[0.38923297595673156, 0.37994709000872612, 0.012107379518736670],
[0.39611591224856713, 0.38238960045868486, 0.010876018377772677],
[0.40301249452089832, 0.38481321293569753, 0.0098263035679444170],
[0.40992102710402989, 0.38721873566600784, 0.0089687105610422417],
[0.41683982415254994, 0.389607, 0.0083141091519842725],
[0.42376720904881870, 0.39197888189043550, 0.0078737936014676158],
[0.43070151383412214, 0.39433525855027596, 0.0076595136557846251],
[0.43764107866866170, 0.39667705147012522, 0.0076835063857846921],
[0.44458425132149670, 0.39900520461098077, 0.0079585287816608327],
[0.45152938669149439, 0.401321, 0.0084978910344968590],
[0.45847484636034758, 0.40362449984605897, 0.0093154904292011616],
[0.46541899817866034, 0.40591766142584768, 0.010425845766622310],
[0.47236021588612437, 0.40820122151559685, 0.011844132225239390],
[0.47929687876677324, 0.41047625358871659, 0.013586216564878592],
[0.48622737134028665, 0.41274385584350559, 0.015668692566393586],
[0.49315008309033498, 0.41500515070320598, 0.018108916592204125],
[0.50006340823092499, 0.417261, 0.020925043143030359],
[0.50696574551170426, 0.41951342569984312, 0.024136060276090936],
[0.51385549806318753, 0.42176276658917527, 0.027761824739510829],
[0.52073107328283086, 0.42401052021657470, 0.031823096666797501],
[0.52759088276290511, 0.42625792079270536, 0.036341573663951625],
[0.53443334226106665, 0.42850622262397181, 0.041319401838938015],
[0.54125687171454007, 0.43075669921954063, 0.046466764154049454],
[0.54805989529878807, 0.43301064233616898, 0.0517178],
[0.55484084153152491, 0.43526936095994356, 0.057066295742127578],
[0.56159814342291081, 0.43753418022429613, 0.0625073],
[0.56833023867271970, 0.43980644026395171, 0.068037225604432816],
[0.57503556991526339, 0.442087, 0.073653317495032233],
[0.58171258501278111, 0.44437871088960868, 0.0793536],
[0.58835973739799730, 0.44668146554126781, 0.085136586922703095],
[0.59497548646648846, 0.44899714636270355, 0.0910013],
[0.60155829801943450, 0.45132714907660271, 0.096947227966364263],
[0.60810664475730725, 0.45367287620554103, 0.10297386474586662],
[0.61461900682496995, 0.456036, 0.109081],
[0.62109387240857650, 0.45841713828133607, 0.11526893966889823],
[0.62752973838465398, 0.46081849780855050, 0.121537],
[0.63392511102159899, 0.46324122749538482, 0.12788696058975968],
[0.64027850673380804, 0.46568673915802789, 0.134318],
[0.64658845288853695, 0.46815644119137240, 0.14082964326593869],
[0.65285348866552573, 0.47065173671346944, 0.14742341314445925],
[0.65907216596931351, 0.47317402167776818, 0.15409916448170369],
[0.66524305039408838, 0.475725, 0.16085714039196239],
[0.67136472224081001, 0.478305, 0.16769754508626383],
[0.67743577758624096, 0.48091662492528536, 0.17462053261669405],
[0.68345482940342228, 0.48356061645142018, 0.18162619703177774],
[0.68942050873300298, 0.48623840203851015, 0.18871456372550763],
[0.69533146590473804, 0.48895129386309427, 0.19588558180740351],
[0.70118637180833399, 0.49170058326904559, 0.20313911735641244],
[0.70698391921271342, 0.49448753882044744, 0.21047494744955542],
[0.71272282413262966, 0.49731340437435806, 0.21789275487861137],
[0.71840182724146595, 0.50017939717970550, 0.22539212348597160],
[0.72401969532887500, 0.50308670600852556, 0.232973],
[0.72957522280183018, 0.50603648932562051, 0.24063336078226882],
[0.73506723322750533, 0.50903, 0.24837386808603151],
[0.74049458091625120, 0.51206795108181558, 0.25619320807692336],
[0.74585615254281534, 0.51515177909641630, 0.26409041831730207],
[0.75115086880381243, 0.518282, 0.27206442006461212],
[0.75637768610928968, 0.52146072736570359, 0.28011401691560328],
[0.76153559830611817, 0.52468776989750976, 0.28823789385171517],
[0.76662363843077097, 0.52796440452665860, 0.29643461667800319],
[0.77164088048891977, 0.53129148782851932, 0.30470263184959556],
[0.77658644125912390, 0.53466983222440123, 0.31304026668080365],
[0.781459, 0.53810020481759579, 0.32144572993275911],
[0.78625921088215822, 0.54158332631674610, 0.32991711277586022],
[0.79098488366881747, 0.54511987004867135, 0.33845239012343875],
[0.79563580676335721, 0.54871046106234078, 0.34704942233295860],
[0.80021133849879655, 0.55235567532527941, 0.35570595727072962],
[0.80471089113852967, 0.55605603901326805, 0.36441963273564026],
[0.80913393276029144, 0.55981202789380713, 0.373188],
[0.81347998913719355, 0.563624, 0.38200842311894179],
[0.817749, 0.56749252921879534, 0.39087829002953473],
[0.82193954895946020, 0.57141773692040720, 0.39979480871863798],
[0.82605240923535061, 0.57539995974909297, 0.40875511516394908],
[0.830087, 0.57943941545312527, 0.41775625701043956],
[0.83404316813707202, 0.58353626962522764, 0.42679519831383406],
[0.83792081959862452, 0.587691, 0.43586882457574944],
[0.84171993717489835, 0.59190257520418876, 0.44497394805717566],
[0.84544057418151508, 0.59617209767566837, 0.45410731335582094],
[0.84908285772041847, 0.60049916121967706, 0.46326560323168492],
[0.85264699028898183, 0.60488367272983579, 0.47244544466410704],
[0.85613325133500739, 0.60932548835416167, 0.481643],
[0.859542, 0.61382441400992249, 0.49085604903145746],
[0.86287367031149487, 0.61838020597295795, 0.50007984441168130],
[0.86612878502067192, 0.62299257153940757, 0.50931126967379403],
[0.86930794441034220, 0.62766116975777830, 0.51854677054563225],
[0.87241183373729259, 0.63238561222933443, 0.52778277710940147],
[0.87544122310179306, 0.63716546397480212, 0.53701571092619105],
[0.878397, 0.64200024436543235, 0.54624199222432746],
[0.88128001261488920, 0.64688942811645567, 0.55545804712769287],
[0.88409138591391923, 0.65183244634101500, 0.56466031489986135],
[0.88683220709205823, 0.65682868766264413, 0.573845],
[0.88950368381100531, 0.66187749938432128, 0.58300935518435348],
[0.892107, 0.66697818871215553, 0.59214913685458426],
[0.89464388199547384, 0.67213002403165212, 0.60126116391977391],
[0.89711546721461899, 0.67733223623444916, 0.61034204885763799],
[0.899523, 0.68258402009333297, 0.61938845972630741],
[0.901869, 0.68788453568319097, 0.62839712684601889],
[0.90415524135586567, 0.69323290984542252, 0.63736484930871140],
[0.906383, 0.69862823769316607, 0.64628850129468363],
[0.90855363193751837, 0.70406958415447762, 0.65516503817647109],
[0.91067016582640659, 0.70955598555038668, 0.66399150239121474],
[0.91273436534264873, 0.71508645120451508, 0.67276502906402624],
[0.91474841911758054, 0.72065996508064956, 0.68148285136617048],
[0.91671460148265249, 0.72627548744439330, 0.69014230559330148],
[0.918635, 0.73193195654468801, 0.69874083595048164],
[0.920513, 0.73762829031065147, 0.70727599903227278],
[0.92234992187608456, 0.74336338805884972, 0.71574546798782091],
[0.924149, 0.74913613220569752, 0.72414703636253242],
[0.92591287399835676, 0.75494538997928040, 0.73247862160965849],
[0.92764421293239785, 0.76079, 0.74073826826686451],
[0.92934587732611229, 0.76666884959457449, 0.74892415079464591],
[0.93102076997018557, 0.77258072522272525, 0.75703457607524138],
[0.93267186295678939, 0.77852446536461051, 0.76506798557252864],
[0.934302, 0.78449888650476130, 0.77302295715518632],
[0.93591486998853379, 0.79050279981682914, 0.78089820658724818],
[0.93751305216662684, 0.79653501266788329, 0.78869258869199554],
[0.93909996566769072, 0.80259433005560210, 0.79640509819698158],
[0.94067889072265676, 0.80867955596596130, 0.80403487026981735],
[0.94225316119510682, 0.81478949463749961, 0.81158118075622676],
[0.94382616193838065, 0.82092295171636609, 0.81904344613379454],
[0.94540132623763518, 0.82707873528398235, 0.82642122319678646],
[0.94698213338834070, 0.83325565673620994, 0.83371420848950462],
[0.94857210647343859, 0.83945253148912735, 0.84092223750782702],
[0.95017481041490626, 0.845668, 0.848045],
[0.95179385039257725, 0.851901, 0.855083],
[0.95343287074522343, 0.85815109885291963, 0.86203700370900249],
[0.95509555449783201, 0.864416, 0.86890630264537616],
[0.95678562369713560, 0.87069506728714197, 0.87569186590711123],
[0.95850684078875081, 0.87698703976168368, 0.88239433610577633],
[0.96026301133910585, 0.88329079145506462, 0.88901448497873958],
[0.96205798850183843, 0.88960516062055062, 0.895553],
[0.96389567976428980, 0.89592897972754648, 0.90201154208799683],
[0.96578005670449352, 0.90226107057066529, 0.90839062608955157],
[0.96771516877423636, 0.9086, 0.91469173815355043],
[0.96970516255045391, 0.91494525973356089, 0.92091627612194316],
[0.97175430855281564, 0.92129487734260551, 0.92706576152178011],
[0.97386703876116176, 0.92764777731084758, 0.93314184059892680],
[0.97604799965913769, 0.93400257012108878, 0.93914628656006571],
[0.97830212850377574, 0.94035775840409619, 0.94508100350922042],
[0.98063476562428742, 0.94671169104975850, 0.95094803280390272],
[0.98305182512013689, 0.95306249413181032, 0.95674956295678826],
[0.98556, 0.95940796218181157, 0.96248794491579093],
[0.98816754331246626, 0.96574537682981665, 0.96816571588141109],
[0.99088443406376003, 0.97207117986456126, 0.97378563750633795],
[0.99372468571444628, 0.97838031593744035, 0.97935076033192570],
[0.99670994843958416, 0.98466467257523982, 0.98486454165463677],
[0.99988210319304482, 0.99090810984686584, 0.99033109028766131],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
