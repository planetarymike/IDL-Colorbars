from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000336603088991972146, 0.000359100923372194516, 0.000325893228315500463],
[0.000943194325988344997, 0.00103814773898686249, 0.000918412356948523109],
[0.00179624110293659291, 0.00202277228008280628, 0.00175666607263762729],
[0.00287123160827706947, 0.00329671825360615834, 0.00281868229918132585],
[0.00415128076685004552, 0.00485020082084448682, 0.00408961280332425722],
[0.00562357315431464677, 0.00667675691123106787, 0.00555839100081221941],
[0.00727781666293159189, 0.00877192523731746242, 0.00721628692290246163],
[0.00910543018400526531, 0.0111325725118459583, 0.00905615127647122625],
[0.0110990646572814277, 0.0137565058127809767, 0.0110719713018767561],
[0.0132522974600904810, 0.0166422305955503912, 0.0132585882550363011],
[0.0155594257848571862, 0.0197887903313186606, 0.0156115069402705722],
[0.0180153206044958852, 0.0231956552653667068, 0.0181267614500769773],
[0.0206153197640117844, 0.0268626424055725191, 0.0208008171232496320],
[0.0233551474433678144, 0.0307898562577551826, 0.0236304968657077702],
[0.0262308520277359757, 0.0349776438477013077, 0.0266129244453340574],
[0.0292387572067711494, 0.0394265598806159412, 0.0297454799647136163],
[0.0323754228193203000, 0.0439833864057055865, 0.0330257642905458088],
[0.0356376130313382639, 0.0484865184355999582, 0.0364515702125534843],
[0.0390222701344777739, 0.0529494006025320110, 0.0400208587530214502],
[0.0424618307610648490, 0.0573754003445037727, 0.0436033626220753909],
[0.0458373803412758449, 0.0617675085451710112, 0.0471321781533037346],
[0.0491611028234606104, 0.0661283975835576243, 0.0506160682175191209],
[0.0524356632957166460, 0.0704604682579482444, 0.0540576410965882062],
[0.0556634658366605348, 0.0747658881003518960, 0.0574592539356260437],
[0.0588466880595384725, 0.0790466229489002192, 0.0608230461798590014],
[0.0619873098874840975, 0.0833044631829240878, 0.0641509674180401612],
[0.0650871377055884381, 0.0875410456906348389, 0.0674448007449776898],
[0.0681478247742554888, 0.0917578723936546548, 0.0707061825018118484],
[0.0711708885938123481, 0.0959563259700354498, 0.0739366190636277787],
[0.0741577257638129650, 0.100137683280094092, 0.0771375012015986239],
[0.0771096247688432823, 0.104303126895022274, 0.0803101164384455446],
[0.0800277770367900099, 0.108453755048085992, 0.0834556597326292227],
[0.0829132865488853288, 0.112590590266131746, 0.0865752427619893572],
[0.0857671782286330009, 0.116714586890565741, 0.0896699020268852398],
[0.0885904052955271970, 0.120826637658717206, 0.0927406059529233828],
[0.0913838557366912496, 0.124927579486122486, 0.0957882611415618590],
[0.0941483580233181683, 0.129018198565966358, 0.0988137178914292591],
[0.0968846861776256896, 0.133099234882367690, 0.101817775092674645],
[0.0995935642788538522, 0.137171386218348068, 0.104801184580014001],
[0.102275670482817577, 0.141235311726411988, 0.107764655016559130],
[0.104931640618027538, 0.145291635119086548, 0.110708855369366588],
[0.107562071411874016, 0.149340947528049162, 0.113634418028444373],
[0.110167523392525418, 0.153383810073253801, 0.116541941613340222],
[0.112748523505605380, 0.157420756177461846, 0.119431993505075801],
[0.115305567479234705, 0.161452293656562801, 0.122305112135882410],
[0.117839121966412413, 0.165478906611856963, 0.125161809064727819],
[0.120349626489797579, 0.169501057146923567, 0.128002570862855852],
[0.122837495210675385, 0.173519186928689145, 0.130827860830366460],
[0.125303118541064407, 0.177533718609763830, 0.133638120562154267],
[0.127746864615534805, 0.181545057126933612, 0.136433771379202540],
[0.130169080637258433, 0.185553590888840075, 0.139215215639252293],
[0.132570094111036790, 0.189559692864280566, 0.141982837939156836],
[0.134950213974547345, 0.193563721581187898, 0.144737006219771230],
[0.137309731637720284, 0.197566022045164658, 0.147478072782950331],
[0.139648921939037607, 0.201566926585412864, 0.150206375229135714],
[0.141968044026530210, 0.205566755635020026, 0.152922237323051463],
[0.144267342170409069, 0.209565818451772412, 0.155625969794198765],
[0.146547046513498647, 0.213564413784998408, 0.158317871078109490],
[0.148807373764987705, 0.217562830493345238, 0.160998228003683297],
[0.151048527842417429, 0.221561348117877532, 0.163667316431370724],
[0.153270700466333093, 0.225560237414423825, 0.166325401846473819],
[0.155474071711564576, 0.229559760848697170, 0.168972739911401215],
[0.157658810518702092, 0.233560173057356824, 0.171609576980329914],
[0.159825075168986003, 0.237561721277868232, 0.174236150579385879],
[0.161973013725493220, 0.241564645749735796, 0.176852689855154926],
[0.164102764443280175, 0.245569180089429073, 0.179459415994065119],
[0.166214456150805379, 0.249575551641118276, 0.182056542614943723],
[0.168308208604822262, 0.253583981805118763, 0.184644276136839036],
[0.170384132820665724, 0.257594686345784196, 0.187222816124005209],
[0.172442331379723424, 0.261607875680418600, 0.189792355609777669],
[0.174482898715685314, 0.265623755150646346, 0.192353081400915254],
[0.176505921381063413, 0.269642525277544010, 0.194905174363842470],
[0.178511478295289322, 0.273664382001731377, 0.197448809694110161],
[0.180499640975637143, 0.277689516909511491, 0.199984157170268351],
[0.182470473752073592, 0.281718117446056737, 0.202511381393259693],
[0.184424033967057588, 0.285750367116559989, 0.205030642012336950],
[0.186360372161209209, 0.289786445676189719, 0.207542093938431538],
[0.188279532245729547, 0.293826529309616058, 0.210045887545827481],
[0.190181551662306075, 0.297870790800826624, 0.212542168862924485],
[0.192066461531273075, 0.301919399693873380, 0.215031079752809440],
[0.193934286788636750, 0.305972522445161377, 0.217512758084305313],
[0.195785046312579869, 0.310030322567832750, 0.219987337894112345],
[0.197618753040010531, 0.314092960768753982, 0.222454949540608016],
[0.199435414073627304, 0.318160595078587849, 0.224915719849833662],
[0.201235030779996937, 0.322233380975381067, 0.227369772254154445],
[0.203017598879037531, 0.326311471502079953, 0.229817226924042550],
[0.204783108525303126, 0.330395017378347922, 0.232258200893403599],
[0.206531544381432175, 0.334484167107032826, 0.234692808178834922],
[0.208262885684060761, 0.338579067075611917, 0.237121159893177058],
[0.209977106302509375, 0.342679861652913698, 0.239543364353692834],
[0.211674174790502823, 0.346786693281397551, 0.241959527185190371],
[0.213354054431162954, 0.350899702565252824, 0.244369751418378078],
[0.215016703275492549, 0.355019028354560950, 0.246774137583725517],
[0.216662074174538755, 0.359144807825747925, 0.249172783801082043],
[0.218290114805430757, 0.363277176558535142, 0.251565785865292213],
[0.219900767691414645, 0.367416268609594976, 0.253953237328026771],
[0.221493970216049607, 0.371562216583085248, 0.256335229576038992],
[0.223069654631669223, 0.375715151698244598, 0.258711851906037238],
[0.224627748062211807, 0.379875203854205645, 0.261083191596357955],
[0.226168172500504583, 0.384042501692178906, 0.263449333975605660],
[0.227690844800076397, 0.388217172655150822, 0.265810362488424434],
[0.229195676661547387, 0.392399343045227167, 0.268166358758544776],
[0.230682574613635505, 0.396589138078747572, 0.270517402649251060],
[0.232151439988811159, 0.400786681939290679, 0.272863572321398851],
[0.233602168893605300, 0.404992097828677511, 0.275204944289107800],
[0.235034652173576719, 0.409205508016078967, 0.277541593473246140],
[0.236448775372915754, 0.413427033885323869, 0.279873593252816300],
[0.237844418688655856, 0.417656795980500595, 0.282201015514347286],
[0.239221456919453568, 0.421894914049940339, 0.284523930699389027],
[0.240579759408896310, 0.426141507088656668, 0.286842407850201431],
[0.241919189983223204, 0.430396693379332063, 0.289156514653726826],
[0.243239606883432658, 0.434660590531908975, 0.291466317483924930],
[0.244540862691640604, 0.438933315521864986, 0.293771881442550065],
[0.245822804251596416, 0.443214984727231309, 0.296073270398443167],
[0.247085272583217275, 0.447505713964420238, 0.298370547025405608],
[0.248328102791017413, 0.451805618522915287, 0.300663772838727028],
[0.249551123966263333, 0.456114813198881974, 0.302953008230419041],
[0.250754159082685668, 0.460433412327751201, 0.305238312503222975],
[0.251937024885562411, 0.464761529815821362, 0.307519743903442222],
[0.253099531773968933, 0.469099279170931138, 0.309797359652652093],
[0.254241483675962054, 0.473446773532243126, 0.312071215978340200],
[0.255362677916459502, 0.477804125699181792, 0.314341368143521094],
[0.256462905077570358, 0.482171448159566751, 0.316607870475372866],
[0.257541948851048197, 0.486548853116976210, 0.318870776392937816],
[0.258599585882617777, 0.490936452517380884, 0.321130138433926293],
[0.259635585607796704, 0.495334358075080472, 0.323386008280667159],
[0.260649710078887376, 0.499742681297973335, 0.325638436785233298],
[0.264432726613193669, 0.503578308524190277, 0.329100833426616446],
[0.270953575822737713, 0.506835698890837683, 0.333779221909934198],
[0.277414819785584466, 0.510096347519590765, 0.338462351785858928],
[0.283820739082738860, 0.513360416126790953, 0.343150350696649453],
[0.290175225317558849, 0.516628065285759108, 0.347843342466738481],
[0.296481827767837824, 0.519899454468559230, 0.352541447370635641],
[0.302743793203424261, 0.523174742086697120, 0.357244782381780479],
[0.308964100044830880, 0.526454085530799642, 0.361953461403902443],
[0.315145487807624358, 0.529737641209323096, 0.366667595486298292],
[0.321290482597391069, 0.533025564586329992, 0.371387293024314224],
[0.327401419278282924, 0.536318010218388097, 0.376112659946199079],
[0.333480460825890834, 0.539615131790621261, 0.380843799887386036],
[0.339529615285429964, 0.542917082151961106, 0.385580814353174872],
[0.345550750684265606, 0.546224013349631776, 0.390323802870698067],
[0.351545608189507919, 0.549536076662909600, 0.395072863130970009],
[0.357515813754112066, 0.552853422636186198, 0.399828091121764928],
[0.363462888456197064, 0.556176201111377333, 0.404589581251988295],
[0.369388257704528100, 0.559504561259705047, 0.409357426468167196],
[0.375293259456841555, 0.562838651612885266, 0.414131718363617174],
[0.381179151575919972, 0.566178620093752860, 0.418912547280811010],
[0.387047118430193293, 0.569524614046356237, 0.423700002407417620],
[0.392898276830429050, 0.572876780265547003, 0.428494171866459550],
[0.398733681381391980, 0.576235265026089238, 0.433295142800976918],
[0.404554329316491323, 0.579600214111326895, 0.438103001453580054],
[0.410361164874424367, 0.582971772841425318, 0.442917833241223802],
[0.416155083269041881, 0.586350086101218415, 0.447739722825519715],
[0.421936934297076127, 0.589735298367682348, 0.452568754178871158],
[0.427707525622740836, 0.593127553737067270, 0.457405010646703525],
[0.433467625773368226, 0.596526995951703443, 0.462248575006028062],
[0.439217966876097987, 0.599933768426513359, 0.467099529520569601],
[0.444959247162031168, 0.603348014275245537, 0.471957955992665046],
[0.450692133261164585, 0.606769876336461733, 0.476823935812124844],
[0.456417262308723315, 0.610199497199292118, 0.481697550002234520],
[0.462135243881160618, 0.613637019228988390, 0.486578879263058262],
[0.467846661778064499, 0.617082584592293371, 0.491468004012201642],
[0.473552075664411876, 0.620536335282645624, 0.496365004423157952],
[0.479252022586024895, 0.623998413145258390, 0.501269960461383501],
[0.484947018369791427, 0.627468959902068968, 0.506182951918201729],
[0.490637558918872674, 0.630948117176607703, 0.511104058442655607],
[0.496324121412192121, 0.634436026518789164, 0.516033359571400063],
[0.502007165416443968, 0.637932829429662562, 0.520970934756725623],
[0.507687133918113154, 0.641438667386134198, 0.525916863392796308],
[0.513364454282186800, 0.644953681865697015, 0.530871224840173239],
[0.519039539143627660, 0.648478014371180245, 0.535834098448690899],
[0.524712787237103462, 0.652011806455544796, 0.540805563578746651],
[0.530384584169859674, 0.655555199746766237, 0.545785699621058051],
[0.536055303142275674, 0.659108335972808379, 0.550774586014930456],
[0.541725305620137543, 0.662671356986727966, 0.555772302265076790],
[0.547394941962318860, 0.666244404791937028, 0.560778927957029327],
[0.553064552007213939, 0.669827621567651743, 0.565794542771159592],
[0.558734465621001819, 0.673421149694552912, 0.570819226495344667],
[0.564405003210462164, 0.677025131780697453, 0.575853059036282033],
[0.570076476202918125, 0.680639710687710786, 0.580896120429475915],
[0.575749187495596115, 0.684265029557290516, 0.585948490847890691],
[0.581423431876481489, 0.687901231838066951, 0.591010250609275700],
[0.587099496418619471, 0.691548461312851859, 0.596081480182157231],
[0.592777660849586052, 0.695206862126322434, 0.601162260190477027],
[0.598458197897750566, 0.698876578813175886, 0.606252671416863898],
[0.604141373616748023, 0.702557756326812499, 0.611352794804510546],
[0.609827447689533897, 0.706250540068586563, 0.616462711457622881],
[0.615516673713188966, 0.709955075917689249, 0.621582502640399381],
[0.621209299465615206, 0.713671510261700615, 0.626712249774491803],
[0.626905567155078724, 0.717399990027907664, 0.631852034434898346],
[0.632605713653552448, 0.721140662715408998, 0.637001938344205598],
[0.638309970714632247, 0.724893676428121969, 0.642162043365122726],
[0.644018565176792013, 0.728659179908735299, 0.647332431491208338],
[0.649731719152623621, 0.732437322573714300, 0.652513184835693427],
[0.655449650204642742, 0.736228254549440742, 0.657704385618298248],
[0.661172571508174323, 0.740032126709584404, 0.662906116149902469],
[0.666900692001774376, 0.743849090713823102, 0.668118458814942029],
[0.672634216525533679, 0.747679299048029100, 0.673341496051367949],
[0.678373345947613782, 0.751522905066044800, 0.678575310327988124],
[0.684118277279225584, 0.755380063033206373, 0.683819984119001245],
[0.689869203778256890, 0.759250928171759765, 0.689075599875493827],
[0.695626315041647958, 0.763135656708355814, 0.694342239993653076],
[0.701389797086568456, 0.767034405923811780, 0.699619986779422165],
[0.707159832420355627, 0.770947334205359991, 0.704908922409276273],
[0.712936600099138062, 0.774874601101620430, 0.710209128886775454],
[0.718720275774934470, 0.778816367380564922, 0.715520687994496196],
[0.724511031730992960, 0.782772795090773132, 0.720843681240901368],
[0.730309036904970954, 0.786744047626315668, 0.726178189801641838],
[0.736114456899544689, 0.790730289795637087, 0.731524294454732105],
[0.741927453979810747, 0.794731687894868588, 0.736882075508951462],
[0.747748187056849534, 0.798748409786034119, 0.742251612724755927],
[0.753576811656518353, 0.802780624980715785, 0.747632985226866054],
[0.759413479872549480, 0.806828504729763973, 0.753026271407600922],
[0.765258340302700901, 0.810892222119774297, 0.758431548819878731],
[0.771111537966561067, 0.814971952177119596, 0.763848894058660743],
[0.776973214203367513, 0.819067871980455164, 0.769278382629426272],
[0.782843506547868273, 0.823180160782753467, 0.774720088802050455],
[0.788722548581956340, 0.827309000144077489, 0.780174085448210652],
[0.794610469759367777, 0.831454574076508468, 0.785640443860136317],
[0.800507395200293903, 0.835617069202859275, 0.791119233548165601],
[0.806413445452187516, 0.839796674931085452, 0.796610522014144506],
[0.812328736212305724, 0.843993583646640233, 0.802114374497175264],
[0.818253378006829180, 0.848207990925406774, 0.807630853687619221],
[0.824187475820278292, 0.852440095770329753, 0.813160019404482237],
[0.830131128667811802, 0.856690100875474259, 0.818701928230388787],
[0.836084429101476290, 0.860958212921938748, 0.824256633097225744],
[0.842047462639647137, 0.865244642910975470, 0.829824182814103528],
[0.848020307106566729, 0.869549606540777287, 0.835404621527548574],
[0.854003031866046092, 0.873873324634808712, 0.840997988101622851],
[0.859995696929744091, 0.878216023631323561, 0.846604315402882279],
[0.865998351915748144, 0.882577936145995334, 0.852223629471526523],
[0.872011034827252618, 0.886959301622502139, 0.857855948555514503],
[0.878033770613297904, 0.891360367089700789, 0.863501281978468538],
[0.884066569463348162, 0.895781388049016414, 0.869159628804372364],
[0.890109424773904867, 0.900222629522271500, 0.874830976251686487],
[0.896162310707042997, 0.904684367299107728, 0.880515297795542495],
[0.902225179235950026, 0.909166889435238490, 0.886212550877655603],
[0.908297956537985174, 0.913670498069566239, 0.891922674117264669],
[0.914380538547471256, 0.918195511651727414, 0.897645583879425835],
[0.920472785410974104, 0.922742267705360941, 0.903381170004024958],
[0.926574514486617873, 0.927311126301584188, 0.909129290421566760],
[0.932685491377711950, 0.931902474490624355, 0.914889764266346495],
[0.938805418259214930, 0.936516732052013801, 0.920662362920830035],
[0.944933918390284400, 0.941154359100956239, 0.926446798146422834],
[0.951070515110904124, 0.945815866377051617, 0.932242706001948362],
[0.957214602612718957, 0.950501829529900699, 0.938049624482878763],
[0.963365403988928226, 0.955212909580671954, 0.943866961453945996],
[0.969521908730350268, 0.959949883354155431, 0.949693946905034170],
[0.975682775169312788, 0.964713690900048548, 0.955529558484140451],
[0.981846168918062978, 0.969505513910457473, 0.961372398256186700],
[0.988009473464311116, 0.974326915995578191, 0.967220472086801952],
[0.994168711723527276, 0.979180122695148314, 0.973070748972459376],
[1.00000000000000000, 0.984068681519734256, 0.978918121666313756],
[1.00000000000000000, 0.988999550556418305, 0.984752115772529302],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
