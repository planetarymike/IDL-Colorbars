from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000321145978757756757, 0.000351203003313358829, 0.000321481719344375225],
[0.000896257382950136467, 0.00101708777865720822, 0.000903750471739296645],
[0.00170070394725821915, 0.00198473582108825994, 0.00172482432415318305],
[0.00270965513970841242, 0.00323900925675843412, 0.00276218133165552450],
[0.00390580633424676086, 0.00477097344332019346, 0.00400049182127093072],
[0.00527586454061937729, 0.00657487658352480433, 0.00542824128591011274],
[0.00680902049756518333, 0.00864688514013474581, 0.00703627060163038425],
[0.00849614562118763267, 0.0109844390236140087, 0.00881701229970014398],
[0.0103293182113684077, 0.0135858810327341151, 0.0107640417580157216],
[0.0123015209157940775, 0.0164502257853052398, 0.0128717916446844747],
[0.0144064360292608107, 0.0195770067670496053, 0.0151353593507277708],
[0.0166383006973914588, 0.0229661703560932948, 0.0175503712107640680],
[0.0189918008189450295, 0.0266179996935766994, 0.0201128833218091191],
[0.0214619910397097352, 0.0305330583686829748, 0.0228193069837043447],
[0.0240442329638715056, 0.0347121477397301440, 0.0256663512961722573],
[0.0267341464612053902, 0.0391562739253304287, 0.0286509780662109401],
[0.0295275706235776335, 0.0437299669690497730, 0.0317703657704660608],
[0.0324205319834672198, 0.0482523000606304223, 0.0350218803215161453],
[0.0354092182991970900, 0.0527366561438161810, 0.0384030510420747054],
[0.0384899566765596890, 0.0571863543470622834, 0.0418721189874679059],
[0.0416286569883702121, 0.0616043438264181689, 0.0452868714374031686],
[0.0447049532221068593, 0.0659932608424907141, 0.0486540019135098048],
[0.0477263045291383206, 0.0703554748943346631, 0.0519760962596724843],
[0.0506949822115603591, 0.0746931263859171579, 0.0552554879601384399],
[0.0536130294203009602, 0.0790081576621837478, 0.0584942916906487295],
[0.0564822897050995046, 0.0833023387965624862, 0.0616944312571069756],
[0.0593044309634746594, 0.0875772891823277944, 0.0648576630379971986],
[0.0620809656679124564, 0.0918344957385355265, 0.0679855957920202092],
[0.0648132680571753827, 0.0960753283615938536, 0.0710797075027623237],
[0.0675025888319362721, 0.100301053118461936, 0.0741413597893549325],
[0.0701500677839816678, 0.104512843574798009, 0.0771718103033213199],
[0.0727567447028751035, 0.108711790572546652, 0.0801722234481657969],
[0.0753235688376727441, 0.112898910710380496, 0.0831436796933422984],
[0.0778514071393970608, 0.117075153732653842, 0.0860871837034167808],
[0.0803410514689739119, 0.121241408994910593, 0.0890036714631280146],
[0.0827932249227401329, 0.125398511144106661, 0.0918940165471555936],
[0.0852085874015194034, 0.129547245127822314, 0.0947590356578629500],
[0.0875877405281798860, 0.133688350627506558, 0.0975994935336897962],
[0.0899312320014974686, 0.137822525995218770, 0.100416107314167030],
[0.0922395594601914393, 0.141950431760633433, 0.103209550433893377],
[0.0945131739195279319, 0.146072693764676048, 0.105980456106629123],
[0.0967524828334228593, 0.150189905967582138, 0.108729420451434633],
[0.0989578528271362057, 0.154302632972076442, 0.111457005305130946],
[0.101129612139080061, 0.158411412296469073, 0.114163740758987664],
[0.103268052804798643, 0.162516756427524001, 0.116850127452209879],
[0.105373432611550744, 0.166619154678819714, 0.119516638650315865],
[0.107445976848018099, 0.170719074876831411, 0.122163722132714758],
[0.109485879870371033, 0.174816964894005583, 0.124791801910590194],
[0.111493306503063300, 0.178913254045599296, 0.127401279793472960],
[0.113468393290358405, 0.183008354364906117, 0.129992536820560056],
[0.115411249612462047, 0.187102661769675077, 0.132565934570847477],
[0.117321958678385269, 0.191196557130951961, 0.135121816364437125],
[0.119200578406078700, 0.195290407254224752, 0.137660508365900242],
[0.121047142199039170, 0.199384565781591194, 0.140182320599311544],
[0.122861659627415853, 0.203479374022650428, 0.142687547883459775],
[0.124644117020580841, 0.207575161720954582, 0.145176470694785037],
[0.126394477977236019, 0.211672247762082377, 0.147649355964753787],
[0.128112683798312310, 0.215770940828737545, 0.150106457817654887],
[0.129798653847167461, 0.219871540007692212, 0.152548018254156065],
[0.131452285840980398, 0.223974335352877585, 0.154974267785403769],
[0.133073456076612001, 0.228079608408483847, 0.157385426021947467],
[0.134662019593686316, 0.232187632695529056, 0.159781702221341637],
[0.136217810277161705, 0.236298674165007383, 0.162163295797885493],
[0.137740640901183487, 0.240412991620422900, 0.164530396797624517],
[0.139230303115609577, 0.244530837112233779, 0.166883186341431344],
[0.140686567376187760, 0.248652456306492187, 0.169221837038715628],
[0.142109182818974999, 0.252778088829749337, 0.171546513374071702],
[0.143497877079248770, 0.256907968592096247, 0.173857372068960486],
[0.144852356054755715, 0.261042324090045519, 0.176154562420324845],
[0.146172303612834814, 0.265181378690798608, 0.178438226617874673],
[0.147457381240566288, 0.269325350899307203, 0.180708500041615289],
[0.148707227636755757, 0.273474454609412609, 0.182965511541060805],
[0.149921458244189260, 0.277628899340236379, 0.185209383697444524],
[0.151099664720212051, 0.281788890458891994, 0.187440233070132079],
[0.152241414343317283, 0.285954629390499870, 0.189658170428333966],
[0.153346249352968811, 0.290126313816401305, 0.191863300969130707],
[0.154413686219486396, 0.294304137861400750, 0.194055724522734341],
[0.155443214840324778, 0.298488292270787658, 0.196235535745839462],
[0.156434297658566146, 0.302678964577839715, 0.198402824303843372],
[0.157386368698903545, 0.306876339262445397, 0.200557675042661587],
[0.158298832515804622, 0.311080597901435163, 0.202700168150798166],
[0.159171063047814199, 0.315291919311173008, 0.204830379312285260],
[0.160002402371328178, 0.319510479682902415, 0.206948379851059239],
[0.160792159346273528, 0.323736452711319511, 0.209054236867296794],
[0.161539608145262553, 0.327970009716799404, 0.211148013366189657],
[0.162243986656805561, 0.332211319761677726, 0.213229768379615714],
[0.162904494751996864, 0.336460549760954408, 0.215299557081111093],
[0.163520292402884348, 0.340717864587762986, 0.217357430894535353],
[0.164090497639248711, 0.344983427173926216, 0.219403437596784490],
[0.164614184328972291, 0.349257398605890446, 0.221437621414882768],
[0.165090379765308520, 0.353539938216319238, 0.223460023117762752],
[0.165518062042326164, 0.357831203671595211, 0.225470680103019683],
[0.165896157197441274, 0.362131351055477446, 0.227469626478906284],
[0.166223536097219848, 0.366440534949133312, 0.229456893141817053],
[0.166499011039616451, 0.370758908507749063, 0.231432507849491431],
[0.166721332042202214, 0.375086623533921804, 0.233396495290154327],
[0.166889182781867734, 0.379423830548005769, 0.235348877147790902],
[0.167001176146761410, 0.383770678855591962, 0.237289672163744581],
[0.167055849355758818, 0.388127316612269513, 0.239218896194814456],
[0.167051658594319030, 0.392493890885826979, 0.241136562268011723],
[0.166986973108210174, 0.396870547716028699, 0.243042680632129970],
[0.166860068687804897, 0.401257432172098250, 0.244937258806268321],
[0.166669120465453097, 0.405654688408031205, 0.246820301625445271],
[0.166412194936292390, 0.410062459715853089, 0.248691811283419661],
[0.166087241098582583, 0.414480888576934214, 0.250551787372839563],
[0.165692080592650531, 0.418910116711454839, 0.252400226922826654],
[0.165224396697133152, 0.423350285126130044, 0.254237124434093409],
[0.164681722016983362, 0.427801534160270780, 0.256062471911690570],
[0.164061424668280720, 0.432264003530276664, 0.257876258895470223],
[0.163360692729406121, 0.436737832372635970, 0.259678472488347078],
[0.162576516685051131, 0.441223159285509647, 0.261469097382434179],
[0.161705669536641589, 0.445720122368974236, 0.263248115883123912],
[0.160744684187980491, 0.450228859263982539, 0.265015507931178229],
[0.159689827634541676, 0.454749507190117364, 0.266771251122893738],
[0.158537071385010608, 0.459282202982191856, 0.268515320728392348],
[0.157282057418528215, 0.463827083125753437, 0.270247689708096595],
[0.155920058823082186, 0.468384283791548561, 0.271968328727432262],
[0.154445934059816353, 0.472953940868998501, 0.273677206169808285],
[0.152854073540709984, 0.477536189998734428, 0.275374288147911150],
[0.151138336874600904, 0.482131166604236217, 0.277059538513353409],
[0.149291978702802058, 0.486739005922623147, 0.278732918864712298],
[0.147307560474260024, 0.491359843034635035, 0.280394388553986629],
[0.145176844749719813, 0.495993812893842312, 0.282043904691503255],
[0.142890667600118898, 0.500641050355125850, 0.283681422149297924],
[0.140438783268224815, 0.505301690202457077, 0.285306893562991160],
[0.137809673332860594, 0.509975867176022501, 0.286920269332182898],
[0.134990309909154449, 0.514663715998707971, 0.288521497619381451],
[0.140005674834970173, 0.518574981188410722, 0.291923152796826291],
[0.152356757088175337, 0.521701046546728997, 0.297132998432458606],
[0.163987219546636198, 0.524829581156544656, 0.302341328887679173],
[0.175029413353781221, 0.527960791644547789, 0.307548515067121664],
[0.185581365343461785, 0.531094883026508646, 0.312754906764309504],
[0.195717939233349625, 0.534232058751784256, 0.317960834372830736],
[0.205497747039732170, 0.537372520746741356, 0.323166610440883573],
[0.214967630204867366, 0.540516469457141824, 0.328372531085773745],
[0.224165676762346278, 0.543664103889543004, 0.333578877282943886],
[0.233123317971497213, 0.546815621651766670, 0.338785916042383062],
[0.241866824874329534, 0.549971218992474031, 0.343993901483766518],
[0.250418401456790229, 0.553131090839894646, 0.349203075820372855],
[0.258796999335192790, 0.556295430839759852, 0.354413670260685931],
[0.267018935698981219, 0.559464431392467598, 0.359625905835603443],
[0.275098369389073949, 0.562638283689528729, 0.364839994158299263],
[0.283047672815022300, 0.565817177749330158, 0.370056138123030787],
[0.290877726146942794, 0.569001302452248336, 0.375274532548510453],
[0.298598152659255600, 0.572190845575155649, 0.380495364770871480],
[0.306217508929102045, 0.575385993825341946, 0.385718815190739028],
[0.313743439985463613, 0.578586932873901061, 0.390945057778455563],
[0.321182806948996480, 0.581793847388595187, 0.396174260541104439],
[0.328541792863823345, 0.585006921066244745, 0.401406585954612594],
[0.335825991081431519, 0.588226336664664506, 0.406642191363891514],
[0.343040479566233292, 0.591452276034175384, 0.411881229353688871],
[0.350189883752109743, 0.594684920148725205, 0.417123848092571747],
[0.357278430020131654, 0.597924449136644776, 0.422370191652227944],
[0.364309991440992631, 0.601171042311059001, 0.427620400304071002],
[0.371288127097164744, 0.604424878199994797, 0.432874610794954151],
[0.378216116044608586, 0.607686134576193915, 0.438132956603626611],
[0.385096986773967365, 0.610954988486671735, 0.443395568179427102],
[0.391933542873444118, 0.614231616282036485, 0.448662573164568201],
[0.398728385470271729, 0.617516193645601730, 0.453934096601250114],
[0.405483932927351132, 0.620808895622308343, 0.459210261124733121],
[0.412202438190862885, 0.624109896647488282, 0.464491187143398709],
[0.418886004119268629, 0.627419370575493462, 0.469776993006742527],
[0.425536597070840905, 0.630737490708203174, 0.475067795162160633],
[0.432156058983149904, 0.634064429823453124, 0.480363708301315861],
[0.438746118142105346, 0.637400360203391525, 0.485664845496810826],
[0.445308398808329342, 0.640745453662800668, 0.490971318329825157],
[0.451844429844028339, 0.644099881577400724, 0.496283237009325806],
[0.458355652462883956, 0.647463814912160540, 0.501600710483402934],
[0.464843427208189663, 0.650837424249647967, 0.506923846543248735],
[0.471309040249965727, 0.654220879818440015, 0.512252751920237226],
[0.477753709079513922, 0.657614351521613405, 0.517587532376540316],
[0.484178587669393312, 0.661018008965356563, 0.522928292789669458],
[0.490584771158032618, 0.664432021487720292, 0.528275137231303260],
[0.496973300110613414, 0.667856558187534866, 0.533628169040732847],
[0.503345164401323264, 0.671291787953533170, 0.538987490893219401],
[0.509701306756637496, 0.674737879493699233, 0.544353204863544549],
[0.516042625994390325, 0.678195001364878203, 0.549725412484999842],
[0.522369979989321553, 0.681663322002686978, 0.555104214804043816],
[0.528684188392183119, 0.685143009751750687, 0.560489712430830234],
[0.534986035126383097, 0.688634232896305543, 0.565882005585793824],
[0.541276270683407668, 0.692137159691213144, 0.571281194142458926],
[0.547555614235939125, 0.695651958393414871, 0.576687377666616818],
[0.553824755585474060, 0.699178797293879439, 0.582100655452001847],
[0.560084356959437812, 0.702717844750084919, 0.587521126552581263],
[0.566335054671227245, 0.706269269219087725, 0.592948889811552138],
[0.572577460655113057, 0.709833239291226881, 0.598384043887124184],
[0.578812163886847419, 0.713409923724516393, 0.603826687275159757],
[0.585039731699499188, 0.716999491479801021, 0.609276918328708894],
[0.591260711003291250, 0.720602111756716956, 0.614734835274482472],
[0.597475629417147713, 0.724217954030551336, 0.620200536226274690],
[0.603684996319046818, 0.727847188090049890, 0.625674119195337886],
[0.609889303821414042, 0.731489984076282074, 0.631155682097691795],
[0.616089027677347190, 0.735146512522622309, 0.636645322758337406],
[0.622284628122737882, 0.738816944395968789, 0.642143138912323441],
[0.628476550658970123, 0.742501451139289448, 0.647649228202595739],
[0.634665226780359415, 0.746200204715611104, 0.653163688174539181],
[0.640851074650110375, 0.749913377653580904, 0.658686616267099567],
[0.647034499728174728, 0.753641143094730626, 0.664218109800359002],
[0.653215895354051557, 0.757383674842600274, 0.669758265959391363],
[0.659395643287277178, 0.761141147413881391, 0.675307181774223553],
[0.665574114208012491, 0.764913736091765717, 0.680864954095680153],
[0.671751668179933259, 0.768701616981692037, 0.686431679566856912],
[0.677928655077273401, 0.772504967069731929, 0.692007454589942950],
[0.684105414977745574, 0.776323964283842982, 0.697592375288058397],
[0.690282278522721837, 0.780158787558281941, 0.703186537461727212],
[0.696459567245939826, 0.784009616901466089, 0.708790036539569068],
[0.702637593871655919, 0.787876633467657683, 0.714402967522707377],
[0.708816662583113488, 0.791760019632817502, 0.720025424922355106],
[0.714997069261790852, 0.795659959075101231, 0.725657502689932898],
[0.721179101697850489, 0.799576636860455881, 0.731299294139009515],
[0.727363039771848019, 0.803510239533885562, 0.736950891858241475],
[0.733549155607577275, 0.807460955217010556, 0.742612387614376757],
[0.739737713695697297, 0.811428973712618351, 0.748283872244250081],
[0.745928970987420836, 0.815414486617032863, 0.753965435534544648],
[0.752123176957340767, 0.819417687441213571, 0.759657166087912561],
[0.758320573634044037, 0.823438771741647035, 0.765359151173827690],
[0.764521395596821307, 0.827477937262261709, 0.771071476562298685],
[0.770725869936333852, 0.831535384088757601, 0.776794226338275329],
[0.776934216176573322, 0.835611314816996020, 0.782527482694221899],
[0.783146646154882054, 0.839705934737342785, 0.788271325697925240],
[0.789363363856068978, 0.843819452037185114, 0.794025833032091288],
[0.795584565195869509, 0.847952078024216682, 0.799791079701693386],
[0.801810437747978888, 0.852104027373562389, 0.805567137704298553],
[0.808041160407681369, 0.856275518402370039, 0.811354075657725327],
[0.814276902983710138, 0.860466773376181493, 0.817151958378294685],
[0.820517825708114490, 0.864678018852248043, 0.822960846401608714],
[0.826764078651780809, 0.868909486066006265, 0.828780795436154238],
[0.833015801030518865, 0.873161411368227780, 0.834611855737969477],
[0.839273120383195570, 0.877434036722000821, 0.840454071392037649],
[0.845536151599121100, 0.881727610270777062, 0.846307479482819702],
[0.851804995766370476, 0.886042386991358955, 0.852172109132175559],
[0.858079738805674008, 0.890378629449116832, 0.858047980377569908],
[0.864360449845326451, 0.894736608677135892, 0.863935102856511983],
[0.870647179280496730, 0.899116605206826569, 0.869833474254023464],
[0.876939956444277469, 0.903518910285243559, 0.875743078457792756],
[0.883238786796309183, 0.907943827324731445, 0.881663883349343758],
[0.889543648505354723, 0.912391673644697310, 0.887595838137262727],
[0.895854488261547677, 0.916862782584859870, 0.893538870107740690],
[0.902171216096868123, 0.921357506096849188, 0.899492880624337299],
[0.908493698910400771, 0.925876217960427961, 0.905457740146875967],
[0.914821752275265632, 0.930419317828105275, 0.911433281948779039],
[0.921155129925287475, 0.934987236387778697, 0.917419294076843972],
[0.927493510045364511, 0.939580442064566479, 0.923415508890221282],
[0.933836477057365610, 0.944199449890235076, 0.929421589188595298],
[0.940183496888873260, 0.948844833506242824, 0.935437109407149858],
[0.946533882518803549, 0.953517241837950169, 0.941461529454466928],
[0.952886744479714109, 0.958217422989477874, 0.947494157172707463],
[0.959240917041962571, 0.962946259800272375, 0.953534092414119239],
[0.965594842905154072, 0.967704825280547021, 0.959580139766318063],
[0.971946382083923477, 0.972494474329569258, 0.965630664030295294],
[0.978292469299764433, 0.977317007891966516, 0.971683331355016722],
[0.984628428665436428, 0.982175000817301691, 0.977734591851571300],
[0.990946354961101172, 0.987072575124077312, 0.983778458504276254],
[0.997229980625616297, 0.992017848357232057, 0.989802638293345471],
[1.00341087707828258, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
