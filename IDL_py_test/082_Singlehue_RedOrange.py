from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000385168537281573692, 0.000326479619225092334, 0.000316811360494648631],
[0.00114293340008918753, 0.000921818889936248747, 0.000886124872958800043],
[0.00226939369507360130, 0.00176508256965484376, 0.00168482817314331737],
[0.00375672169623917328, 0.00283455561961165224, 0.00268953365133658539],
[0.00560237382584996557, 0.00411559209244852231, 0.00388420824818605081],
[0.00780639314822110988, 0.00559727923438004590, 0.00525673909859807748],
[0.0103703261015902909, 0.00727100113869582308, 0.00679744268967065815],
[0.0132966896471585962, 0.00912968955411025580, 0.00849828236351740478],
[0.0165886750316045529, 0.0111673847327703885, 0.0103524072591088447],
[0.0202499688011839700, 0.0133789566300021919, 0.0123538582995235957],
[0.0242846379082657035, 0.0157599172566459736, 0.0144973695331006985],
[0.0286970524851228523, 0.0183062885970718230, 0.0167782278174628714],
[0.0334918320295799141, 0.0210145062785620437, 0.0191921701681775289],
[0.0386738068073195079, 0.0238813472561445507, 0.0217353064861769002],
[0.0440867053602964423, 0.0269038742080371894, 0.0244040599948536149],
[0.0494536051380838684, 0.0300793919055417254, 0.0271951204013117544],
[0.0547859668847909889, 0.0334054123798642050, 0.0301054064286765989],
[0.0600877502922529602, 0.0368796266911286461, 0.0331320353980910504],
[0.0653624180969334945, 0.0404989969813612446, 0.0362722982127412288],
[0.0706130216905287156, 0.0441017927867442469, 0.0395236385487776065],
[0.0758422685478202241, 0.0476562708360121975, 0.0428020391998362934],
[0.0810525760003790174, 0.0511652698773303397, 0.0460214869913794719],
[0.0862461146052044270, 0.0546313389898326410, 0.0491939844273261498],
[0.0914248434786319730, 0.0580567778265541137, 0.0523219119736328189],
[0.0965905393510341215, 0.0614436698384620630, 0.0554074281354979062],
[0.101744820660410823, 0.0647939099322634993, 0.0584524977514682340],
[0.106889167686963160, 0.0681092276702219279, 0.0614589157419020357],
[0.112024939499247522, 0.0713912068670809197, 0.0644283271816600833],
[0.117153388310757028, 0.0746413022507655954, 0.0673622443755733102],
[0.122275671716825962, 0.0778608537116526334, 0.0702620614710962599],
[0.127392863183897392, 0.0810510985571895604, 0.0731290670327768289],
[0.132505961088167257, 0.0842131821056106011, 0.0759644549187382667],
[0.137615896542578775, 0.0873481668880570217, 0.0787693337338161437],
[0.142723540205820315, 0.0904570406779756642, 0.0815447350826589978],
[0.147829708231332985, 0.0935407235268753967, 0.0842916208055851102],
[0.152935167486058315, 0.0966000739538770414, 0.0870108893477539169],
[0.158040640146072414, 0.0996358944111690181, 0.0897033813864006879],
[0.163146807758119072, 0.102648936127051948, 0.0923698848200626144],
[0.168254314841342012, 0.105639903411705954, 0.0950111392068381244],
[0.173363772091589735, 0.108609457497294198, 0.0976278397249356333],
[0.178475759240864978, 0.111558219972937578, 0.100220640717452181],
[0.183590827616450597, 0.114486775865946466, 0.102790158873987875],
[0.188709502437579335, 0.117395676413123762, 0.105336976093962364],
[0.193832284881990224, 0.120285441559635053, 0.107861642070047475],
[0.198959653950089355, 0.123156562217661886, 0.110364676624734287],
[0.204092068150564743, 0.126009502312620925, 0.112846571828514403],
[0.209229967028040698, 0.128844700640983079, 0.115307793924327079],
[0.214373772550614794, 0.131662572560556135, 0.117748785079679230],
[0.219523890372757602, 0.134463511531406205, 0.120169964985084643],
[0.224680710987100074, 0.137247890523278015, 0.122571732315117060],
[0.229844610776895608, 0.140016063303423588, 0.124954466066350855],
[0.235015952979524767, 0.142768365617039955, 0.127318526784736097],
[0.240195088570118676, 0.145505116271074292, 0.129664257693455048],
[0.245382357073329727, 0.148226618130885224, 0.131991985731021361],
[0.250578087310316611, 0.150933159038162512, 0.134302022508261926],
[0.255782598087226476, 0.153625012657555127, 0.136594665191848402],
[0.260996198830718729, 0.156302439258637321, 0.138870197321197236],
[0.266219190175490616, 0.158965686439114545, 0.141128889564817783],
[0.271451864508206797, 0.161614989794540032, 0.143371000421535638],
[0.276694506471778956, 0.164250573539254208, 0.145596776871451561],
[0.281947393433503390, 0.166872651082784568, 0.147806454980990515],
[0.287210795920234019, 0.169481425565488647, 0.150000260465957769],
[0.292484978023414777, 0.172077090356865886, 0.152178409216122079],
[0.297770197776532797, 0.174659829519610177, 0.154341107784504134],
[0.303066707507287425, 0.177229818242186171, 0.156488553844237543],
[0.308374754166558851, 0.179787223242437455, 0.158620936615596564],
[0.313694579636050686, 0.182332203144503852, 0.160738437265542933],
[0.319026421016310568, 0.184864908831114311, 0.162841229281923405],
[0.324370510896672182, 0.187385483773124445, 0.164929478824257125],
[0.329727077608520214, 0.189894064338007484, 0.167003345052877478],
[0.335096345463156919, 0.192390780078851159, 0.169062980438034915],
[0.340478534975426517, 0.194875754005277207, 0.171108531050429169],
[0.345873863074164401, 0.197349102837575230, 0.173140136834510877],
[0.351282543300435901, 0.199810937245236575, 0.175157931865778438],
[0.356704785994450657, 0.202261362070968342, 0.177162044593196205],
[0.362140798471964398, 0.204700476541181953, 0.179152598067761903],
[0.367590785190908598, 0.207128374463867726, 0.181129710158169838],
[0.373054947908937839, 0.209545144414686746, 0.183093493754442421],
[0.378533485832513450, 0.211950869912055528, 0.185044056960326553],
[0.384026595758106937, 0.214345629581927710, 0.186981503275196886],
[0.389534472206048199, 0.216729497312925512, 0.188905931766141400],
[0.395057307547517000, 0.219102542402423939, 0.190817437230861281],
[0.400595292125119684, 0.221464829694140219, 0.192716110351962677],
[0.406148614367480787, 0.223816419707740910, 0.194602037843179337],
[0.411717460898221754, 0.226157368760946720, 0.196475302588019374],
[0.417302016639696183, 0.228487729084566493, 0.198335983771302460],
[0.422902464911811160, 0.230807548930868245, 0.200184157004007768],
[0.428518987526227912, 0.233116872675669495, 0.202019894441834658],
[0.434151764876253343, 0.235415740914484917, 0.203843264897841603],
[0.439800976022656387, 0.237704190553068628, 0.205654333949505497],
[0.445466798775687123, 0.239982254892636582, 0.207453164040523386],
[0.451149409773497323, 0.242249963710062244, 0.209239814577648065],
[0.456848984557200077, 0.244507343333296712, 0.211014342022840751],
[0.462565697642753737, 0.246754416712257341, 0.212776799980991860],
[0.468299722589860135, 0.248991203485407098, 0.214527239283455518],
[0.474051232068054051, 0.251217720042237247, 0.216265708067622242],
[0.479820397920135477, 0.253433979581844437, 0.217992251852736629],
[0.485607391223109530, 0.255639992167783270, 0.219706913612160548],
[0.491412382346763266, 0.257835764779366150, 0.221409733842263867],
[0.497235541010019932, 0.260021301359562806, 0.223100750628112909],
[0.503077036335197070, 0.262196602859646522, 0.224779999706124001],
[0.508937036900271145, 0.264361667280727575, 0.226447514523824445],
[0.514815710789276348, 0.266516489712294746, 0.228103326296871967],
[0.520713225640928035, 0.268661062367883785, 0.229747464063458695],
[0.526629748695569888, 0.270795374617986973, 0.231379954736226856],
[0.532565446840542411, 0.272919413020299706, 0.233000823151816083],
[0.538520486654042951, 0.275033161347404964, 0.234610092118148150],
[0.544495034447578186, 0.277136600611975037, 0.236207782459555260],
[0.550489256307065022, 0.279229709089586053, 0.237793913059849871],
[0.556503318132665181, 0.281312462339204095, 0.239368500903424042],
[0.562537385677415847, 0.283384833221425603, 0.240931561114472004],
[0.568591624584717570, 0.285446791914534814, 0.242483106994406727],
[0.574666200424744700, 0.287498305928432563, 0.244023150057556482],
[0.580761278729833075, 0.289539340116494570, 0.245551700065208767],
[0.586877025028894161, 0.291569856685413631, 0.247068765058068240],
[0.593013604880917145, 0.293589815203064652, 0.248574351387197690],
[0.599171183907595384, 0.295599172604438631, 0.250068463743495228],
[0.605349927825129974, 0.297597883195686197, 0.251551105185772672],
[0.611550002475253041, 0.299585898656296645, 0.253022277167480325],
[0.617771573855508849, 0.301563168039453933, 0.254481979562134253],
[0.624014808148834588, 0.303529637770588834, 0.255930210687491999],
[0.630279871752476350, 0.305485251644155131, 0.257366967328521545],
[0.636566931306277506, 0.307429950818649600, 0.258792244759203871],
[0.642876153720368992, 0.309363673809895323, 0.260206036763212745],
[0.649207706202294288, 0.311286356482600612, 0.261608335653504997],
[0.655561756283609798, 0.313197932040204574, 0.262999132290860027],
[0.661938471845967102, 0.315098331013025590, 0.264378416101399394],
[0.666457719560373474, 0.318607601272100305, 0.267638904626227692],
[0.669091799146172894, 0.323728284184321924, 0.272796070235717614],
[0.671712028883340251, 0.328841624289339496, 0.277962354888492580],
[0.674318741416802925, 0.333948199980219240, 0.283137768834794523],
[0.676912268080987922, 0.339048560081306960, 0.288322318219844054],
[0.679492938966337223, 0.344143226060964535, 0.293516005578490113],
[0.682061082984147693, 0.349232694048136172, 0.298718830284700032],
[0.684617027929816935, 0.354317436673156294, 0.303930788960391274],
[0.687161100544571912, 0.359397904750783370, 0.309151875847603452],
[0.689693626575749508, 0.364474528821332355, 0.314382083147563662],
[0.692214930835699405, 0.369547720563945525, 0.319621401329808430],
[0.694725337259375686, 0.374617874094454018, 0.324869819414193683],
[0.697225168960680986, 0.379685367158882348, 0.330127325228312840],
[0.699714748287633692, 0.384750562232440363, 0.335393905642588419],
[0.702194396876400173, 0.389813807532787160, 0.340669546785060673],
[0.704664435704270620, 0.394875437955395481, 0.345954234237695779],
[0.707125185141619039, 0.399935775938052907, 0.351247953215849562],
[0.709576965002921223, 0.404995132260773605, 0.356550688732361731],
[0.712020094596856556, 0.410053806786793540, 0.361862425747603189],
[0.714454892775576833, 0.415112089149715646, 0.367183149306684220],
[0.716881677983174037, 0.420170259391392686, 0.372512844664899367],
[0.719300768303402283, 0.425228588554683873, 0.377851497402391823],
[0.721712481506706860, 0.430287339234808386, 0.383199093528925672],
[0.724117135096601805, 0.435346766092689019, 0.388555619579568135],
[0.726515046355459604, 0.440407116333332460, 0.393921062702013991],
[0.728906532389741013, 0.445468630152039469, 0.399295410736213607],
[0.731291910174728943, 0.450531541150952453, 0.404678652286906415],
[0.733671496598805262, 0.455596076728250920, 0.410070776789608738],
[0.736045608507326810, 0.460662458442073375, 0.415471774570554231],
[0.738414562746134817, 0.465730902351078002, 0.420881636901039413],
[0.740778676204764675, 0.470801619333377330, 0.426300356046588835],
[0.743138265859386249, 0.475874815385438354, 0.431727925311315708],
[0.745493648815534704, 0.480950691902404637, 0.437164339077820874],
[0.747845142350688330, 0.486029445941156657, 0.442609592842944266],
[0.750193063956720585, 0.491111270467354977, 0.448063683249649791],
[0.752537731382310948, 0.496196354587553901, 0.453526608115306595],
[0.754879462675344115, 0.501284883767436740, 0.458998366456602247],
[0.757218576225360152, 0.506377040037103821, 0.464478958511298778],
[0.759555390806114783, 0.511473002184279379, 0.469968385757029539],
[0.761890225618318650, 0.516572945936237815, 0.475466650927314272],
[0.764223400332584069, 0.521677044131180323, 0.480973758024945852],
[0.766555235132688528, 0.526785466879742592, 0.486489712332900004],
[0.768886050759181816, 0.531898381717247570, 0.492014520422893342],
[0.771216168553440107, 0.537015953747278396, 0.497548190161703208],
[0.773545910502206446, 0.542138345777109287, 0.503090730715357592],
[0.775875599282725314, 0.547265718445466898, 0.508642152551276983],
[0.778205558308535328, 0.552398230343082996, 0.514202467438461208],
[0.780536111776007902, 0.557536038126443256, 0.519771688445768154],
[0.782867584711732234, 0.562679296625118841, 0.525349829938366209],
[0.785200303020828327, 0.567828158943028294, 0.530936907572384653],
[0.787534593536299621, 0.572982776553954576, 0.536532938287816785],
[0.789870784069541365, 0.578143299391607024, 0.542137940299692644],
[0.792209203462100331, 0.583309875934509669, 0.547751933087543441],
[0.794550181638838282, 0.588482653285951063, 0.553374937383168453],
[0.796894049662597470, 0.593661777249239075, 0.559006975156694841],
[0.799241139790546451, 0.598847392398448419, 0.564648069600931613],
[0.801591785532347334, 0.604039642144852396, 0.570298245113984859],
[0.803946321710288459, 0.609238668799221061, 0.575957527280115622],
[0.806305084521595661, 0.614444613630109604, 0.581625942848786659],
[0.808668411603092330, 0.619657616918290799, 0.587303519711860456],
[0.811036642098420746, 0.624877818007432140, 0.592990286878869455],
[0.813410116728049748, 0.630105355351126550, 0.598686274450296208],
[0.815789177862321746, 0.635340366556348290, 0.604391513588771412],
[0.818174169597788659, 0.640582988423412436, 0.610106036488079151],
[0.820565437837135980, 0.645833356982473683, 0.615829876339867410],
[0.822963330373013169, 0.651091607526609439, 0.621563067297917660],
[0.825368196976103530, 0.656357874641493200, 0.627305644439830834],
[0.827780389487816182, 0.661632292231667973, 0.633057643725955632],
[0.830200261918009996, 0.666914993543386125, 0.638819101955372171],
[0.832628170548203816, 0.672206111183992316, 0.644590056718712612],
[0.835064474040764226, 0.677505777137780152, 0.650370546347584844],
[0.837509533554619656, 0.682814122778246158, 0.656160609860324095],
[0.839963712868102008, 0.688131278876642827, 0.661960286903779505],
[0.842427378509592484, 0.693457375606690740, 0.667769617690797346],
[0.844900899896682045, 0.698792542545311535, 0.673588642933023340],
[0.847384649484701824, 0.704136908669177108, 0.679417403768608708],
[0.849879002925493232, 0.709490602346879329, 0.685255941684346115],
[0.852384339237467148, 0.714853751326438469, 0.691104298431710729],
[0.854901040988039429, 0.720226482717883365, 0.696962515936208171],
[0.857429494489754251, 0.725608922970536585, 0.702830636199371694],
[0.859970090011474064, 0.731001197844619255, 0.708708701192646395],
[0.862523222006245538, 0.736403432376726563, 0.714596752742323926],
[0.865089289357630631, 0.741815750838643373, 0.720494832404560581],
[0.867668695646538701, 0.747238276688900305, 0.726402981329397290],
[0.870261849440832291, 0.752671132516391839, 0.732321240112544958],
[0.872869164610347692, 0.758114439975247856, 0.738249648633529598],
[0.875491060670259391, 0.763568319710063226, 0.744188245878592447],
[0.878127963156220215, 0.769032891270424734, 0.750137069746506624],
[0.880780304035121975, 0.774508273013527759, 0.756096156835199595],
[0.883448522156001337, 0.779994581993467273, 0.762065542206748048],
[0.886133063746192051, 0.785491933835591016, 0.768045259127936086],
[0.888834382958734293, 0.791000442593997932, 0.774035338783108040],
[0.891552942478001653, 0.796520220589972183, 0.780035809955528681],
[0.894289214191587245, 0.802051378228771261, 0.786046698672799526],
[0.897043679938042793, 0.807594023791680105, 0.792068027811128172],
[0.899816832341593376, 0.813148263199760080, 0.798099816652299232],
[0.902609175747107084, 0.818714199744984716, 0.804142080386069935],
[0.905421227271052231, 0.824291933783677155, 0.810194829549327422],
[0.908253517987267278, 0.829881562386125982, 0.816258069391626373],
[0.911106594270186254, 0.835483178935021886, 0.822331799154638610],
[0.913981019322858135, 0.841096872663790851, 0.828416011250386331],
[0.916877374923110278, 0.846722728123946333, 0.834510690319855253],
[0.919796263428673377, 0.852360824568089481, 0.840615812149385300],
[0.922738310091684055, 0.858011235232058689, 0.846731342416916943],
[0.925704165745322216, 0.863674026495623082, 0.852857235233299371],
[0.928694509941335955, 0.869349256895845412, 0.858993431434952326],
[0.931710054638272611, 0.875036975960273189, 0.865139856572449295],
[0.934751548568041879, 0.880737222817905341, 0.871296418524024840],
[0.937819782446091432, 0.886450024533398495, 0.877463004642066724],
[0.940915595241385017, 0.892175394093109975, 0.883639478312117865],
[0.944039881793130031, 0.897913327948053786, 0.889825674764425645],
[0.947193602160309678, 0.903663802985926967, 0.896021395922567576],
[0.950377793232011325, 0.909426772757130353, 0.902226403994228487],
[0.953593583333607886, 0.915202162710752942, 0.908440413393144519],
[0.956842210872787979, 0.920989864093495036, 0.914663080407961182],
[0.960125048542425641, 0.926789726006672643, 0.920893989768300836],
[0.963443635342058902, 0.932601544867667109, 0.927132636839968494],
[0.966799719892455278, 0.938425050116669102, 0.933378403499569798],
[0.970195320569032238, 0.944259884323005894, 0.939630524584844085],
[0.973632811610284032, 0.950105574628964500, 0.945888039773253753],
[0.977115051138547686, 0.955961490194703667, 0.952149721920827807],
[0.980645580559946661, 0.961826775765565523, 0.958413965264922063],
[0.984228954124419686, 0.967700241631357927, 0.964678600353675475],
[0.987871328104771629, 0.973580166469411590, 0.970940562652938710],
[0.991581636135786426, 0.979463903190268215, 0.977195230401142756],
[0.995374357836355084, 0.985346948450188775, 0.983434862340774596],
[0.999278273377901871, 0.991219993735439009, 0.989643649388876168],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
