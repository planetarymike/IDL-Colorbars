from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000405062630531815215, 0.000332767741038079404, 0.000320958081510554476],
[0.00119499307487395370, 0.000941283120957663597, 0.000900580143846710693],
[0.00236152373072155653, 0.00180529699930003797, 0.00171716024720160372],
[0.00389362938209423864, 0.00290335680663831620, 0.00274803171060520332],
[0.00578632710356009536, 0.00422109112858675556, 0.00397776215944281759],
[0.00803760984961143614, 0.00574787116956987018, 0.00539477809587062072],
[0.0106472061416811557, 0.00747537300032712765, 0.00698989901376801011],
[0.0136159654303244296, 0.00939682770285699825, 0.00875556799409136707],
[0.0169455138031704006, 0.0115065819153407842, 0.0106853984151008968],
[0.0206380443528591459, 0.0137998189087416411, 0.0127738849401985589],
[0.0246961815318636514, 0.0162723709102309995, 0.0150162082715946978],
[0.0291228892110340573, 0.0189205870438919135, 0.0174080972682846939],
[0.0339214060386419797, 0.0217412370521714131, 0.0199457280920989390],
[0.0390951986316307454, 0.0247314390501308309, 0.0226256483003688495],
[0.0444588926857605940, 0.0278886040009240603, 0.0254447183445991598],
[0.0497682803310605174, 0.0312103921724848597, 0.0284000655737322409],
[0.0550376073748424580, 0.0346946783956498736, 0.0314890474458655034],
[0.0602710120990205336, 0.0383395239276556540, 0.0347092216667455530],
[0.0654721112699188368, 0.0420948080567371610, 0.0380583216357297249],
[0.0706440898432610376, 0.0457976897802113633, 0.0415077832162841706],
[0.0757897716339921423, 0.0494543098119581068, 0.0449095450855154996],
[0.0809116756887582056, 0.0530675407388917844, 0.0482648100874290900],
[0.0860120617608611526, 0.0566399655088855938, 0.0515762267191588950],
[0.0910929673684452157, 0.0601739177248303211, 0.0548461894111045359],
[0.0961562382735527410, 0.0636715149112206391, 0.0580768722805356033],
[0.101203553762059528, 0.0671346862078238127, 0.0612702572476967397],
[0.106236447773827736, 0.0705651956000899749, 0.0644281576344032381],
[0.111256326690168078, 0.0739646615424819909, 0.0675522381097396485],
[0.116264484405912916, 0.0773345736422393348, 0.0706440316572879146],
[0.121262115178413732, 0.0806763069290169776, 0.0737049540950310833],
[0.126250324643323114, 0.0839911341276945444, 0.0767363165699632421],
[0.131230139308449817, 0.0872802362685074773, 0.0797393363655039267],
[0.136202514776185196, 0.0905447119041339621, 0.0827151462946618676],
[0.141168342897532051, 0.0937855851528720808, 0.0856648029008682255],
[0.146128458023415064, 0.0970038127471949396, 0.0885892936481307569],
[0.151083642489323378, 0.100200290235296696, 0.0914895432501235950],
[0.156034631445678002, 0.103375857457876585, 0.0943664192621739284],
[0.160982117127294516, 0.106531303401965150, 0.0972207370394192472],
[0.165926752639901559, 0.109667370517020829, 0.100053264147621862],
[0.170869155329167077, 0.112784758564991178, 0.102864724299429555],
[0.175809909787406876, 0.115884128064942526, 0.105655800877628991],
[0.180749570544714272, 0.118966103383700533, 0.108427140097657054],
[0.185688664484270960, 0.122031275516363613, 0.111179353853948198],
[0.190627693015790273, 0.125080204594227307, 0.113913022288284205],
[0.195567134036198464, 0.128113422152373702, 0.116628696112948738],
[0.200507443702606369, 0.131131433184733831, 0.119326898716982904],
[0.205449058039186727, 0.134134718010690629, 0.122008128080031447],
[0.210392394396699878, 0.137123733974104878, 0.124672858515045976],
[0.215337852780939754, 0.140098916992960232, 0.127321542258372028],
[0.220285817064296285, 0.143060682975509973, 0.129954610923402852],
[0.225236656092838050, 0.146009429116844197, 0.132572476831986169],
[0.230190724699786908, 0.148945535088102182, 0.135175534236040284],
[0.235148364634953977, 0.151869364129089995, 0.137764160440360578],
[0.240109905418545433, 0.154781264053814871, 0.140338716836308636],
[0.245075665126794406, 0.157681568177341941, 0.142899549854968944],
[0.250045951115999865, 0.160570596171438818, 0.145446991847387796],
[0.255021060690824142, 0.163448654855642667, 0.147981361898671560],
[0.260001281722049837, 0.166316038929661986, 0.150502966581977343],
[0.264986893218433550, 0.169173031652393058, 0.153012100657795941],
[0.269978165856796293, 0.172019905472273138, 0.155509047723345562],
[0.274975362474061402, 0.174856922613205179, 0.157994080816411614],
[0.279978738524554460, 0.177684335619859996, 0.160467462977516684],
[0.284988542505562104, 0.180502387865772079, 0.162929447773920877],
[0.290005016353820366, 0.183311314027321981, 0.165380279788609808],
[0.295028395815373823, 0.186111340526381119, 0.167820195077118012],
[0.300058910790971467, 0.188902685944144527, 0.170249421594765138],
[0.305096785658989234, 0.191685561408431043, 0.172668179596643712],
[0.310142239577667289, 0.194460170956519796, 0.175076682012473644],
[0.315195486768288624, 0.197226711875402250, 0.177475134798253886],
[0.320256736780764772, 0.199985375021167922, 0.179863737266460794],
[0.325326194742986574, 0.202736345119072236, 0.182242682396393629],
[0.330404061595153897, 0.205479801045718058, 0.184612157126122889],
[0.335490534310199484, 0.208215916094645792, 0.186972342627376942],
[0.340585806101333210, 0.210944858226523480, 0.189323414564582265],
[0.345690066617631631, 0.213666790305023058, 0.191665543339178818],
[0.350803502128533451, 0.216381870319384773, 0.193998894320231707],
[0.355926295698017869, 0.219090251594583063, 0.196323628062281208],
[0.361058627349186478, 0.221792082989940464, 0.198639900511296374],
[0.366200674219912092, 0.224487509086962356, 0.200947863199529120],
[0.371352610710158570, 0.227176670367107036, 0.203247663430001502],
[0.376514608621528302, 0.229859703380152380, 0.205539444451302788],
[0.381686837289564374, 0.232536740903764250, 0.207823345623322775],
[0.386869463709265171, 0.235207912094833105, 0.210099502574497499],
[0.392062652654273314, 0.237873342633091511, 0.212368047351101985],
[0.397266566790126230, 0.240533154857501430, 0.214629108559086124],
[0.402481366781955730, 0.243187467895855380, 0.216882811498911254],
[0.407707211396980185, 0.245836397788001648, 0.219129278293812957],
[0.412944257602121445, 0.248480057603080506, 0.221368628011886337],
[0.418192660657029702, 0.251118557551131993, 0.223600976782361571],
[0.423452574202814846, 0.253752005089398602, 0.225826437906408328],
[0.428724150346727895, 0.256380505023643568, 0.228045121962792197],
[0.434007539743047122, 0.259004159604757756, 0.230257136908675220],
[0.439302891670377504, 0.261623068620941368, 0.232462588175839591],
[0.444610354105589245, 0.264237329485697003, 0.234661578762591583],
[0.449930073794583218, 0.266847037321868763, 0.236854209321586517],
[0.455262196320059764, 0.269452285041960948, 0.239040578243800372],
[0.460606866166475448, 0.272053163424917532, 0.241220781738859247],
[0.465964226782333124, 0.274649761189574959, 0.243394913911922028],
[0.471334420639963947, 0.277242165064952917, 0.245563066837304056],
[0.476717589292933674, 0.279830459857558500, 0.247725330629009921],
[0.482113873431211204, 0.282414728515858915, 0.249881793508344663],
[0.487523412934216471, 0.284995052192070220, 0.252032541868748960],
[0.492946346921862732, 0.287571510301400213, 0.254177660338005651],
[0.498382813803705804, 0.290144180578878530, 0.256317231837950910],
[0.503832951326298128, 0.292713139133891354, 0.258451337641815271],
[0.509296896618840700, 0.295278460502544360, 0.260580057429317114],
[0.514774786237230386, 0.297840217697950715, 0.262703469339615359],
[0.520266756206578362, 0.300398482258558086, 0.264821650022232014],
[0.525772942062284088, 0.302953324294603199, 0.266934674686040818],
[0.531293478889738657, 0.305504812532787162, 0.269042617146416307],
[0.536828501362729971, 0.308053014359257860, 0.271145549870634550],
[0.542378143780611444, 0.310597995860979803, 0.273243544021603835],
[0.547942540104302322, 0.313139821865567380, 0.275336669500010289],
[0.553521823991180106, 0.315678555979652109, 0.277424994984948325],
[0.559116128828908154, 0.318214260625858947, 0.279508587973108458],
[0.564725587768279968, 0.320746997078444340, 0.281587514816591389],
[0.570350333755090921, 0.323276825497671560, 0.283661840759405759],
[0.575990499561123137, 0.325803804962967347, 0.285731629972716838],
[0.581646217814266286, 0.328327993504924365, 0.287796945588895459],
[0.587317621027820036, 0.330849448136197377, 0.289857849734428741],
[0.593004841629030555, 0.333368224881341935, 0.291914403561736147],
[0.598708011986875621, 0.335884378805646089, 0.293966667279944083],
[0.604427264439167722, 0.338397964042995325, 0.296014700184665025],
[0.610162731318981244, 0.340909033822812069, 0.298058560686819962],
[0.615914544980447176, 0.343417640496118337, 0.300098306340553844],
[0.621682837823955836, 0.345923835560747406, 0.302133993870275508],
[0.627467742320778954, 0.348427669685750729, 0.304165679196863548],
[0.631797614472644598, 0.351970312353216630, 0.307536739418055705],
[0.634653249122455354, 0.356554849503986471, 0.312257328551585778],
[0.637500215087107525, 0.361141359073138324, 0.316987504975224821],
[0.640338770411337799, 0.365730047845968076, 0.321727274420303411],
[0.643169171774782278, 0.370321116367911263, 0.326476642692961894],
[0.645991674558535012, 0.374914759321339886, 0.331235615744301992],
[0.648806532910017442, 0.379511165876936063, 0.336004199734731834],
[0.651613999806254673, 0.384110520021653468, 0.340782401092984633],
[0.654414327115607541, 0.388713000865121505, 0.345570226570250327],
[0.657207765658055387, 0.393318782926150634, 0.350367683289820875],
[0.659994565264094280, 0.397928036400864271, 0.355174778792608281],
[0.662774974832315400, 0.402540927413857608, 0.359991521078867727],
[0.665549242385724993, 0.407157618253641163, 0.364817918646423267],
[0.668317615126882592, 0.411778267593530811, 0.369653980525671888],
[0.671080339491909594, 0.416403030699050103, 0.374499716311614716],
[0.673837661203424476, 0.421032059622814037, 0.379355136193139264],
[0.676589825322472027, 0.425665503387785249, 0.384220250979766087],
[0.679337076299492360, 0.430303508159725456, 0.389095072126043107],
[0.682079658024396074, 0.434946217409585056, 0.393979611753765280],
[0.684817813875788217, 0.439593772066530386, 0.398873882672172275],
[0.687551786769398987, 0.444246310662241684, 0.403777898396274093],
[0.690281819205768032, 0.448903969467069286, 0.408691673163432079],
[0.693008153317241970, 0.453566882618580081, 0.413615221948314182],
[0.695731030914321202, 0.458235182243007688, 0.418548560476338927],
[0.698450693531418199, 0.462908998570048580, 0.423491705235705285],
[0.701167382472066558, 0.467588460041445886, 0.428444673488097116],
[0.703881338853627248, 0.472273693413739759, 0.433407483278148264],
[0.706592803651553081, 0.476964823855555997, 0.438380153441743636],
[0.709302017743243751, 0.481661975039766210, 0.443362703613220444],
[0.712009221951549587, 0.486365269230828290, 0.448355154231537212],
[0.714714657087956562, 0.491074827367605715, 0.453357526545458966],
[0.717418563995529501, 0.495790769141914167, 0.458369842617816825],
[0.720121183591626357, 0.500513213073064178, 0.463392125328878246],
[0.722822756910457054, 0.505242276578614646, 0.468424398378873785],
[0.725523525145530979, 0.509978076041553541, 0.473466686289711836],
[0.728223729692035082, 0.514720726874108636, 0.478519014405913323],
[0.730923612189209315, 0.519470343578361637, 0.483581408894792897],
[0.733623414562751819, 0.524227039803845884, 0.488653896745905814],
[0.736323379067330808, 0.528990928402274574, 0.493736505769782064],
[0.739023748329240004, 0.533762121479549712, 0.498829264595962718],
[0.741724765389264684, 0.538540730445190685, 0.503932202670342888],
[0.744426673745812062, 0.543326866059296587, 0.509045350251837614],
[0.747129717398382187, 0.548120638477166855, 0.514168738408369075],
[0.749834140891415979, 0.552922157291677596, 0.519302399012172122],
[0.752540189358615885, 0.557731531573517514, 0.524446364734421300],
[0.755248108567796117, 0.562548869909369698, 0.529600669039171801],
[0.757958144966329628, 0.567374280438117995, 0.534765346176595546],
[0.760670545727287539, 0.572207870885156344, 0.539940431175510049],
[0.763385558796333408, 0.577049748594864909, 0.545125959835171758],
[0.766103432939466811, 0.581900020561315623, 0.550321968716318555],
[0.768824417791717840, 0.586758793457256789, 0.555528495131434763],
[0.771548763906863444, 0.591626173661425114, 0.560745577134203255],
[0.774276722808292406, 0.596502267284233056, 0.565973253508118668],
[0.777008547041120101, 0.601387180191851556, 0.571211563754215668],
[0.779744490225665610, 0.606281018028727026, 0.576460548077869617],
[0.782484807112421077, 0.611183886238557794, 0.581720247374623578],
[0.785229753638646999, 0.616095890083732667, 0.586990703214982368],
[0.787979586986740199, 0.621017134663253811, 0.592271957828113371],
[0.790734565644506726, 0.625947724929143079, 0.597564054084387730],
[0.793494949467553501, 0.630887765701326431, 0.602867035476684188],
[0.796260999743925835, 0.635837361680989588, 0.608180946100376985],
[0.799032979261216969, 0.640796617462384366, 0.613505830631905891],
[0.801811152376352698, 0.645765637543069593, 0.618841734305846658],
[0.804595785088277893, 0.650744526332539652, 0.624188702890345337],
[0.807387145113788507, 0.655733388159217001, 0.629546782660817317],
[0.810185501966790844, 0.660732327275742270, 0.634916020371760315],
[0.812991127041272299, 0.665741447862512992, 0.640296463226539658],
[0.815804293698305760, 0.670760854029406661, 0.645688158844982652],
[0.818625277357446612, 0.675790649815584676, 0.651091155228591845],
[0.821454355592902585, 0.680830939187308859, 0.656505500723190472],
[0.824291808234895784, 0.685881826033648445, 0.661931243978767236],
[0.827137917476703066, 0.690943414159955527, 0.667368433906281311],
[0.829992967987853492, 0.696015807278978715, 0.672817119631155425],
[0.832857247034090698, 0.701099108999447163, 0.678277350443152738],
[0.835731044604694051, 0.706193422811950078, 0.683749175742306647],
[0.838614653547875344, 0.711298852071914456, 0.689232644980529496],
[0.841508369715023186, 0.716415499979440096, 0.694727807598479852],
[0.844412492114639868, 0.721543469555753325, 0.700234712957234828],
[0.847327323076955130, 0.726682863615964569, 0.705753410264231218],
[0.850253168430271988, 0.731833784737822679, 0.711283948492913209],
[0.853190337690260425, 0.736996335226078547, 0.716826376295410572],
[0.856139144263549090, 0.742170617072039573, 0.722380741907527435],
[0.859099905667144004, 0.747356731907837579, 0.727947093045195781],
[0.862072943765383126, 0.752554780954860836, 0.733525476791462738],
[0.865058585026396765, 0.757764864965734253, 0.739115939472931527],
[0.868057160800266181, 0.762987084159136852, 0.744718526524450142],
[0.871069007621426361, 0.768221538146641958, 0.750333282340654106],
[0.874094467538169106, 0.773468325850659277, 0.755960250112783005],
[0.877133888472557244, 0.778727545412404409, 0.761599471648941373],
[0.880187624614559128, 0.783999294088659426, 0.767250987175718158],
[0.883256036854760063, 0.789283668135906336, 0.772914835118735266],
[0.886339493260722255, 0.794580762680169417, 0.778591051859319760],
[0.889438369602916112, 0.799890671570639533, 0.784279671464039541],
[0.892553049937056753, 0.805213487214826440, 0.789980725383271021],
[0.895683927250954248, 0.810549300392575334, 0.795694242114335704],
[0.898831404185323146, 0.815898200045839350, 0.801420246823916438],
[0.901995893839830698, 0.821260273040484656, 0.807158760923506580],
[0.905177820677677492, 0.826635603895726989, 0.812909801590457226],
[0.908377621544712910, 0.832024274475914427, 0.818673381225716867],
[0.911595746822242536, 0.837426363638292814, 0.824449506837569124],
[0.914832661736700192, 0.842841946829070321, 0.830238179338400273],
[0.918088847854449441, 0.848271095618379434, 0.836039392738722409],
[0.921364804796257264, 0.853713877162643131, 0.841853133219090388],
[0.924661052214167056, 0.859170353580105406, 0.847679378055999688],
[0.927978132083885576, 0.864640581221805982, 0.853518094371974123],
[0.931316611379340409, 0.870124609815732586, 0.859369237672436115],
[0.934677085213904912, 0.875622481455899937, 0.865232750121935790],
[0.938060180556287260, 0.881134229400194258, 0.871108558499009811],
[0.941466560660873530, 0.886659876630143451, 0.876996571751057830],
[0.944896930395441981, 0.892199434111237699, 0.882896678046268923],
[0.948352042708854648, 0.897752898672319222, 0.888808741185900475],
[0.951832706565190478, 0.903320250394285651, 0.894732596192867713],
[0.955339796790582008, 0.908901449357897295, 0.900668043824782827],
[0.958874266454072921, 0.914496431541355070, 0.906614843660621839],
[0.962437162664614321, 0.920105103570131533, 0.912572705262422845],
[0.966029647065813957, 0.925727335886330827, 0.918541276687136254],
[0.969653022938863240, 0.931362953691885709, 0.924520129267192514],
[0.973308771847816057, 0.937011724672849655, 0.930508736997565089],
[0.976998604492727130, 0.942673341924609276, 0.936506447884172033],
[0.980724533499852558, 0.948347399457480367, 0.942512442868092881],
[0.984488981599741630, 0.954033355717502807, 0.948525674687591525],
[0.988294950057621580, 0.959730476674679589, 0.954544772547689324],
[0.992146296945906836, 0.965437741612723666, 0.960567884393540683],
[0.996048234452366565, 0.971153674443410719, 0.966592394635499397],
[1.00000000000000000, 0.976876006692262933, 0.972614360464190697],
[1.00000000000000000, 0.982600882439636059, 0.978627182671050533],
[1.00000000000000000, 0.988320340428582189, 0.984617398264659882],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
