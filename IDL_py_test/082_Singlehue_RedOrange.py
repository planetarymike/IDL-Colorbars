from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00041121426715868018, 0.00031771526114732077, 0.00030287401763290166],
[0.0012430656495165103, 0.00088810021118394822, 0.00083345292087954183],
[0.00250002, 0.0016873816514439582, 0.0015650704210359856],
[0.0041811634835188126, 0.0026914891882023660, 0.0024715468809076509],
[0.0062900194709958213, 0.0038837165897677509, 0.0035345304760371530],
[0.0088321088081280003, 0.0052512824016235195, 0.0047399023647621760],
[0.011814054519508656, 0.0067838386033491930, 0.0060762003244861987],
[0.015243140031682416, 0.0084726890814277485, 0.0075337856705101781],
[0.019127073406455620, 0.0103103, 0.0091043500092671380],
[0.023473848203342262, 0.012290158199707440, 0.0107806],
[0.028291655600547007, 0.014406273264298696, 0.012556],
[0.033588825748925549, 0.016653340413546998, 0.014424834304519400],
[0.039373786747008220, 0.019026489289229616, 0.016381673559885040],
[0.045387589895534992, 0.021521238872598603, 0.0184217],
[0.051354620970368532, 0.0241334, 0.020540498958049616],
[0.0572894, 0.026859230701247325, 0.022733919686970652],
[0.063195938558062298, 0.029695000732652223, 0.024998166613820469],
[0.069077771637746976, 0.032637363441104482, 0.027329701620717996],
[0.074937882150616336, 0.035683132854645257, 0.029725230880554492],
[0.080778873593237460, 0.038829305079565592, 0.032181683175526818],
[0.086603016440091024, 0.042027471539313958, 0.034696191845974153],
[0.092412299532726283, 0.045164271078042141, 0.037266079644272643],
[0.098208471476112919, 0.048250621284963095, 0.039888845939289645],
[0.10399307432855442, 0.051289036628729905, 0.042495877606994838],
[0.109767, 0.054281819555792664, 0.045046690970672550],
[0.11553286956192280, 0.057231088960407205, 0.0475508],
[0.12129, 0.060138804108090978, 0.050010288833431261],
[0.127041, 0.063006784882259748, 0.052427275106808162],
[0.132785, 0.065836729032335062, 0.054803628788922011],
[0.13852415420340028, 0.068630226957371476, 0.057141136829629950],
[0.14425839453105821, 0.071388774449416686, 0.059441486354231223],
[0.14998849275849083, 0.074113783736318745, 0.0617063],
[0.15571496414198763, 0.0768066, 0.063937025707866441],
[0.16143826087488908, 0.079468475279707768, 0.066135185436947991],
[0.16715877772718787, 0.082100644882187657, 0.068302142594239029],
[0.17287685699409017, 0.084704264882508151, 0.070439228730737685],
[0.17859279285562457, 0.087280452405881587, 0.0725477],
[0.18430683523203517, 0.089830283854027637, 0.074628869330480352],
[0.19001919320566532, 0.092354799475701188, 0.076683857095219299],
[0.19573003806862521, 0.094855007452065654, 0.078713849179258222],
[0.20143950604620470, 0.097331887558157110, 0.080719973683840263],
[0.207148, 0.099786394452331589, 0.082703329616538229],
[0.212855, 0.10221946063784143, 0.084664989848599631],
[0.21856053449599305, 0.10463199913421709, 0.086606003774095691],
[0.22426523634269668, 0.10702490589072722, 0.088527399704888043],
[0.22996879388167091, 0.10939906196965021, 0.090430187030738601],
[0.23567117658264186, 0.11175533552323996, 0.092315358169928946],
[0.24137233170579614, 0.11409458358503641, 0.094183890332400322],
[0.24707218553372651, 0.11641765369340007, 0.096036747114573273],
[0.25277064450069620, 0.11872538536279786, 0.097874879942571130],
[0.25846759623038362, 0.12101861141635220, 0.099699229378485021],
[0.26416291049187873, 0.12329815919144563, 0.10151072630253097],
[0.26985644008252407, 0.12556485162867820, 0.10331029298240538],
[0.27554802164516679, 0.12781950825320223, 0.10509884403981284],
[0.28123747642649677, 0.13006294605636195, 0.10687728732298793],
[0.286925, 0.13229598028459519, 0.10864652469303299],
[0.29260921783551735, 0.13451942514174978, 0.110407],
[0.29829107608983274, 0.13673409441023984, 0.11216096337203671],
[0.30396995200619315, 0.13894080199585573, 0.11390794447174479],
[0.30964559954272952, 0.14114036240050837, 0.11564928031032698],
[0.31531776086335400, 0.14333359112672697, 0.11738585203833551],
[0.32098616681736236, 0.14552130501733138, 0.11911853806839259],
[0.32665053739282041, 0.14770432253336188, 0.12084821441636120],
[0.33231058214614195, 0.14988346397305946, 0.12257575499524503],
[0.33796600061004167, 0.15205955163443719, 0.12430203186477473],
[0.34361648268182582, 0.15423340992378162, 0.12602791543937336],
[0.34926170899380676, 0.15640586541224591, 0.12775427465696210],
[0.35490135126746031, 0.15857774684255199, 0.12948197711085807],
[0.36053507265278884, 0.16074988508771021, 0.131212],
[0.36616252805423821, 0.16292311306356436, 0.13294487592729279],
[0.371783, 0.16509826559690874, 0.13468180146422540],
[0.37739722116651109, 0.16727617925087493, 0.13642352862278473],
[0.38300373022708267, 0.16945769210924375, 0.13817091909684945],
[0.38860251657908818, 0.17164364352133241, 0.13992483335814035],
[0.39419319839707534, 0.17383487380909882, 0.14168613058022800],
[0.39977538734469598, 0.17603222393810897, 0.14345566853874617],
[0.40534868883548258, 0.17823653515403906, 0.14523430348905192],
[0.41091270228753812, 0.18044864858640494, 0.14702289002252997],
[0.41646702137275843, 0.18266940482124649, 0.14882228090268357],
[0.42201123426117704, 0.18489964344453402, 0.15063332688212699],
[0.42754492386095683, 0.18714020255810904, 0.15245687650154602],
[0.43306766805454844, 0.18939191827001109, 0.15429377587168228],
[0.43857903993146508, 0.19165562416110096, 0.15614486843935219],
[0.44407860801812454, 0.19393215072992520, 0.15801099473851069],
[0.44956593650515703, 0.19622232481782670, 0.159893],
[0.45504058547256626, 0.19852696901634548, 0.16179169451226705],
[0.46050211111310174, 0.20084690105899217, 0.16370793206006137],
[0.46595006595417882, 0.20318293319952341, 0.16564253089860179],
[0.47138399907866163, 0.205536, 0.16759631280758558],
[0.47680345634481230, 0.20790651558295942, 0.16957009489987787],
[0.48220798060568554, 0.21029565719346471, 0.17156468929447005],
[0.48759711192823402, 0.21270408033399341, 0.17358090278192265],
[0.49297038781237795, 0.21513256021365423, 0.17561953648316567],
[0.49832734341027490, 0.21758186267039314, 0.17768138550251331],
[0.50366751174601465, 0.22005274351625875, 0.17976723857573937],
[0.50899042393595739, 0.22254594788679460, 0.18187787771404276],
[0.51429560940990771, 0.225062, 0.18401407784471396],
[0.519583, 0.227602, 0.18617660644929868],
[0.52485091083074154, 0.23016677988454404, 0.18836622320003418],
[0.53010007921057289, 0.23275649381902364, 0.19058367959531342],
[0.53532962619146651, 0.23537207459465426, 0.19282971859491163],
[0.54053907613035279, 0.238014, 0.19510507425568641],
[0.54572795305234056, 0.24068349337542266, 0.19741047136843692],
[0.550896, 0.24338062183984532, 0.19974662509658486],
[0.55604208368028340, 0.24610619699684005, 0.20211424061731298],
[0.56116638587485090, 0.24886082382013769, 0.20451401276576742],
[0.56626821250449255, 0.25164509030076465, 0.20694662568290623],
[0.57134708945717116, 0.25445956699678623, 0.20941275246754193],
[0.57640254371413346, 0.25730480660968785, 0.211913],
[0.58143410359605197, 0.26018134358839284, 0.21444818276961014],
[0.58644129901187791, 0.26308969376181029, 0.21701877421131172],
[0.59142366171046701, 0.26603, 0.21962545471044503],
[0.59638072553505062, 0.26900380190912465, 0.22226883711749312],
[0.60131202668060368, 0.27201049554703777, 0.22494952126833134],
[0.60621710395416317, 0.27505087318259591, 0.227668],
[0.61109549903813287, 0.278125, 0.230425],
[0.61594675675661337, 0.28123433329528713, 0.23322118095825706],
[0.62077042534477977, 0.28437819156026484, 0.23605679961456783],
[0.62556605672132126, 0.28755728512132411, 0.23893251354825873],
[0.63033320676395421, 0.29077195066596046, 0.24184883836334520],
[0.63507143558801316, 0.29402250425680709, 0.24480627467772259],
[0.63978030782810280, 0.29730924129933889, 0.24780530787564453],
[0.644459, 0.30063243653890187, 0.25084640786929518],
[0.64910826540238298, 0.30399234408642378, 0.25393002886959126],
[0.65372650517954256, 0.30738919747209725, 0.25705660916633827],
[0.65831369784305438, 0.31082320972624078, 0.26022657091785062],
[0.66286943495433381, 0.31429457348647705, 0.26344031995013201],
[0.66739331434683491, 0.31780346113032648, 0.26669824556570143],
[0.67188494042821700, 0.32135002493223386, 0.27000072036214601],
[0.67634392448519198, 0.32493439724403289, 0.27334810006046484],
[0.68076988499098656, 0.32855669069779309, 0.27674072334327315],
[0.68516244791529724, 0.33221699842998176, 0.28017891170292153],
[0.68952124703665241, 0.33591539432584211, 0.28366296929959028],
[0.69384592425706249, 0.33965193328287280, 0.28719318282940964],
[0.69813612991882568, 0.34342665149229867, 0.29076982140266194],
[0.70239152312337316, 0.34723956673739331, 0.29439313643211529],
[0.70661177205199643, 0.35109067870755278, 0.29806336153154855],
[0.71079655428832156, 0.35497996932698783, 0.30178071242451693],
[0.71494555714235697, 0.35890740309695346, 0.30554538686342131],
[0.71905847797595945, 0.36287292745041982, 0.30935756455894098],
[0.72313502452954115, 0.36687647311812838, 0.31321740711989188],
[0.72717491524982003, 0.37091795450500281, 0.31712505800358060],
[0.73117787961844272, 0.37499727007589284, 0.32108064247672147],
[0.73514365848126018, 0.37911430274968766, 0.32508426758699205],
[0.73907200437806331, 0.38326892030084392, 0.32913602214530441],
[0.74296268187254655, 0.38746097576742233, 0.33323597671886718],
[0.74681546788229869, 0.39169030786475439, 0.33738418363512507],
[0.75063015200856020, 0.39595674140391440, 0.34158067699665345],
[0.75440653686554970, 0.40026008771417815, 0.34582547270709457],
[0.75814443840907631, 0.40460014506872866, 0.35011856850821654],
[0.76184368626422227, 0.408977, 0.35445994402818060],
[0.76550412405181867, 0.41338952329407774, 0.35884956084109204],
[0.76912560971346677, 0.41783837929324513, 0.36328736253792138],
[0.772708, 0.42232301745648976, 0.36777327480885813],
[0.77625122996699081, 0.42684317722699350, 0.37230720553717844],
[0.77975515494539738, 0.43139858757630128, 0.37688904490467867],
[0.78321970920647133, 0.43598896743460325, 0.38151866550873803],
[0.78664482710125150, 0.44061402611952322, 0.38619592249105134],
[0.79003045920599291, 0.44527346376298088, 0.39092065367807338],
[0.79337657262938666, 0.44996697173572314, 0.39569267973319672],
[0.79668315131610912, 0.45469423306915019, 0.40051180432067807],
[0.79995019634642828, 0.45945492287408768, 0.40537781428131475],
[0.803178, 0.46424870875618446, 0.41029],
[0.80636577720463121, 0.46907525122763011, 0.41524955470409786],
[0.80951440350656090, 0.47393420411493264, 0.42025477647568293],
[0.81262367766725296, 0.47882521496248048, 0.425306],
[0.81569369078116150, 0.483748, 0.43040253106217186],
[0.81872455277735079, 0.48870197169537594, 0.43554445988808604],
[0.82171639268365448, 0.49368698482754375, 0.44073132812514870],
[0.82466935888470250, 0.49870259118775401, 0.44596279574782743],
[0.82758361937353708, 0.50374841280054328, 0.45123850800867876],
[0.83045936199660331, 0.50882406772934041, 0.45655809572771416],
[0.83329679469184814, 0.51392917044485631, 0.46192117559230234],
[0.83609614571972968, 0.51906333218778444, 0.46732735046736912],
[0.83885766388688454, 0.52422616132566702, 0.47277620971561812],
[0.84158161876228721, 0.52941726370380360, 0.47826732952748768],
[0.84426830088567661, 0.53463624299006596, 0.48380027326050840],
[0.84691802196808808, 0.53988270101350300, 0.48937459178772608],
[0.84953111508433743, 0.54515623809660119, 0.49498982385480156],
[0.85210793485728820, 0.55045645338109750, 0.50064549644539302],
[0.85464885763379517, 0.55578294514721649, 0.50634112515438434],
[0.85715428165222374, 0.56113531112620352, 0.51207621456850094],
[0.85962462720143595, 0.56651314880605175, 0.51785025865382284],
[0.86206, 0.57191605573028403, 0.52366274114968336],
[0.86446187519404460, 0.57734362978967324, 0.52951313596840188],
[0.86682972977836215, 0.582795, 0.53540090760027914],
[0.86916441043310433, 0.58827117431302933, 0.54132551152325126],
[0.87146644978381482, 0.59377034481865243, 0.54728639461656670],
[0.87373640328027957, 0.59929258307455158, 0.553283],
[0.87597484929587910, 0.60483749282672650, 0.55931474534266523],
[0.87818238921882419, 0.61040467976261981, 0.56538106750643835],
[0.88035964753548546, 0.61599375174937265, 0.57148137874699478],
[0.882507, 0.62160431906376634, 0.57761508924791238],
[0.88462593323339289, 0.62723599461366530, 0.58378160312126515],
[0.88671632572380366, 0.63288839415073972, 0.58998031882909885],
[0.88877916694299186, 0.63856113647424007, 0.59621062960270299],
[0.89081519786495733, 0.64425384362557125, 0.60247192385874804],
[0.89282518291611790, 0.64996614107340867, 0.60876358561129851],
[0.89480991001482124, 0.65569765788905277, 0.61508499487867430],
[0.89677, 0.66144802691171034, 0.62143552808408176],
[0.89870685970000375, 0.66721688490335596, 0.62781455844888079],
[0.90062077589234491, 0.67300387269279738, 0.63422145637728977],
[0.90251282140611899, 0.67880863530851421, 0.64065558983127391],
[0.90438390211791364, 0.68463082209982906, 0.64711632469427138],
[0.906235, 0.69047008684588207, 0.65360302512234236],
[0.908067, 0.69632608785185624, 0.66011505388122260],
[0.90988076977480681, 0.70219848803181839, 0.66665177266765485],
[0.911678, 0.708087, 0.67321254241325235],
[0.91345819987705468, 0.71399116101200255, 0.67979672356899557],
[0.91522384484751351, 0.71991078322823954, 0.68640367636831667],
[0.91697553214811200, 0.72584550350992394, 0.69303276106651024],
[0.918714, 0.73179500853515622, 0.69968333815401595],
[0.92044144597502109, 0.73775898976060872, 0.70635476854083623],
[0.92215793958297110, 0.74373714338505104, 0.71304641370906496],
[0.92386501006170363, 0.74972917029051645, 0.71975763583013985],
[0.92556385283380271, 0.75573477595915339, 0.72648779784301654],
[0.92725568856285190, 0.76175367036351815, 0.73323626348896198],
[0.92894176350923852, 0.76778556782772878, 0.74000239729808093],
[0.93062334995375418, 0.77383018685646532, 0.74678556452198019],
[0.93230174670048604, 0.77988724992828950, 0.75358513100614233],
[0.93397827967238178, 0.78595648324918488, 0.76040046299455832],
[0.93565430261521909, 0.79203761646145887, 0.76723092685796101],
[0.93733119792847164, 0.79813038230228595, 0.774076],
[0.93901037764494688, 0.80423451620509556, 0.780935],
[0.94069328458519419, 0.81034975583569480, 0.78780676707811337],
[0.942381, 0.81647584055336842, 0.79469140997187460],
[0.94407621376270534, 0.82261251078525666, 0.80158800218912529],
[0.945779, 0.82875950729971071, 0.80849589933044619],
[0.94749220192056505, 0.83491657036126443, 0.81541445193946527],
[0.94921657503992363, 0.84108343874579106, 0.82234300403435112],
[0.95095407486901851, 0.84725984858935954, 0.82928089135319616],
[0.95270641523428667, 0.85344553203769225, 0.836227],
[0.954475, 0.85964021565458315, 0.84318196021892755],
[0.95626273753827629, 0.86584361853634639, 0.85014375081144455],
[0.95807042895004624, 0.872055, 0.857112],
[0.95990039412559181, 0.87827540720800401, 0.86408622511227673],
[0.96175467218388400, 0.88450317126123579, 0.87106538573827885],
[0.96363539505295826, 0.89073840386101377, 0.87804875788077574],
[0.96554480206351145, 0.89698074207823142, 0.88503548542614852],
[0.96748525824826503, 0.90322979229803624, 0.89202465800265451],
[0.96945927755741990, 0.90948512249243096, 0.89901529804015590],
[0.97146955270957813, 0.91574625232040618, 0.90600634415147352],
[0.97351899417682663, 0.92201264023314156, 0.91299662944743898],
[0.975611, 0.92828366635511361, 0.91998485271255814],
[0.97774843637302256, 0.93455860924881395, 0.92696953925111747],
[0.97993591546428582, 0.940837, 0.93394898632127898],
[0.98217775663691798, 0.94711664344238511, 0.94092118472107367],
[0.98447928628145298, 0.95339741330097760, 0.94788370181715587],
[0.98684694750075719, 0.95967727920240009, 0.954833],
[0.98928884240013704, 0.96595405904626219, 0.96176662754847742],
[0.99181570260953478, 0.97222470977913444, 0.96867768755716976],
[0.99444282689454144, 0.97848468114357934, 0.97555873858813802],
[0.99719464807577351, 0.98472638767628695, 0.98239673247944992],
[1, 0.99093435808704367, 0.98916536707263048],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
