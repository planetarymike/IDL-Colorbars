from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00031393097862362471, 0.00034795252382774372, 0.00038052275696592928],
[0.000866067, 0.0010053506254644661, 0.0011331923362983864],
[0.0016259, 0.00195951, 0.0022566809975147289],
[0.0025626442347426925, 0.0031959742532597034, 0.0037452140166691975],
[0.0036529181372401322, 0.00470678, 0.0055977199515135773],
[0.0048771538096910863, 0.0064874174330655761, 0.0078152104183543073],
[0.0062180792057467673, 0.0085355058485139194, 0.010399720928373397],
[0.0076599128084344830, 0.010850127827600843, 0.013353780860620697],
[0.0091878967353226509, 0.013431441109225268, 0.016680109628299151],
[0.010788004047586357, 0.016280433742770838, 0.020381424359276468],
[0.012446745727345516, 0.0193988, 0.024460308286794213],
[0.014151038843159195, 0.022788625050272505, 0.028919114753430612],
[0.0158881, 0.0264527, 0.033759893395420314],
[0.0176455, 0.030394059427510573, 0.038984330864467780],
[0.019410734672737313, 0.034616128702029604, 0.044408544118680733],
[0.021171814326668311, 0.039122646622289703, 0.049772947139166364],
[0.022916692061395624, 0.043777786588075997, 0.055089466934279387],
[0.024633503011770676, 0.048393810955706017, 0.060360360275293144],
[0.026310508881460779, 0.052984239760016198, 0.065587374291151163],
[0.027936095295736069, 0.057552578520745211, 0.070771830968535870],
[0.029498773299925500, 0.062101935899291826, 0.075914693952977730],
[0.030987184316943021, 0.066635081155325904, 0.081016622091685725],
[0.032390108036447984, 0.071154490529659831, 0.086078012901613543],
[0.033696472823123880, 0.075662385057313569, 0.091099038283317418],
[0.034895368315601798, 0.080160761670446612, 0.096079674197689618],
[0.035976059949595338, 0.084651418991408822, 0.10101972559347155],
[0.036928005184984965, 0.089135978883514128, 0.10591884756350547],
[0.037740871251121397, 0.093615904582933590, 0.110777],
[0.0384046, 0.098092516053510992, 0.11559228069625643],
[0.038909199480442136, 0.10256700306968686, 0.12036530425637204],
[0.039245222846625211, 0.10704043642880506, 0.12509484899749174],
[0.039403333253604698, 0.11151377761425049, 0.12978005030680603],
[0.039374555864593160, 0.11598788716894712, 0.13441997377753678],
[0.039150256128921680, 0.12046353199031606, 0.13901362394411773],
[0.038722164479210099, 0.12494139171957549, 0.14355995224728405],
[0.0380824, 0.12942206436788650, 0.14805786435123250],
[0.037223504193998294, 0.133906, 0.15250622691273369],
[0.036138451092689802, 0.13839386165655004, 0.15690387388412277],
[0.034820689718391210, 0.14288581634980590, 0.16124961241753455],
[0.033264162704331635, 0.14738225161544877, 0.16554222842586980],
[0.0314633, 0.15188342226626311, 0.16978],
[0.0294132, 0.15638952464553674, 0.17396316164343678],
[0.027109403924284310, 0.16090069934020759, 0.17808899058484884],
[0.024548080501826265, 0.165417, 0.18215672981157996],
[0.021726067189226470, 0.16993856410793023, 0.18616513322726100],
[0.0186408, 0.17446527828669450, 0.19011296172103687],
[0.015290540461381114, 0.17899711723465678, 0.19399898723848452],
[0.011674034884516075, 0.18353397724076617, 0.19782199671129253],
[0.0077909040316948251, 0.18807571173793250, 0.20158079585422256],
[0.0036414837219479425, 0.19262213309553758, 0.20527421283590325],
[-0.00077311610424901785, 0.19717301435153556, 0.20890110182835103],
[-0.0054509898284832367, 0.20172809089507970, 0.21246034643872164],
[-0.010389415646155848, 0.20628706210901154, 0.21595086302563082],
[-0.015584836197708707, 0.21084959298018158, 0.21937160390141741],
[-0.021032840427982438, 0.21541531568432548, 0.22272156042092900],
[-0.026728146759424858, 0.21998383115114212, 0.22599976595676785],
[-0.0326646, 0.22455471061424964, 0.22920529876042334],
[-0.038835095694897168, 0.22912749714983027, 0.23233728470832832],
[-0.0452317, 0.23370170720701572, 0.23539489993158358],
[-0.0518455, 0.23827683213235618, 0.23837737332790659],
[-0.058666600409841077, 0.24285233969012671, 0.24128398895424230],
[-0.065684304600581375, 0.24742767557964773, 0.24411408829843834],
[-0.072886863829958307, 0.25200226495032402, 0.24686707242841782],
[-0.080261609464727893, 0.25657551391465211, 0.24954240401736577],
[-0.087794922174826248, 0.26114681105906662, 0.25213960924358564],
[-0.095472232014710015, 0.265716, 0.254658],
[-0.10327802045150496, 0.27028102564936252, 0.25709807335948037],
[-0.11119582436069274, 0.27484264619341325, 0.25945871745398352],
[-0.11920824200286674, 0.27939972410870162, 0.26174000850271833],
[-0.12729694098790870, 0.28395158288863215, 0.26394181425368796],
[-0.13544266822568085, 0.28849753747398677, 0.26606407468025151],
[-0.14362526185508764, 0.29303689572062891, 0.26810680298622697],
[-0.15182366513597759, 0.29756895985463072, 0.27007],
[-0.16001594228149388, 0.30209302791285769, 0.271954],
[-0.16817929620122010, 0.30660839516697103, 0.27375904325017525],
[-0.17629, 0.31111435552877720, 0.27548526785335287],
[-0.18432385902061063, 0.31561020293484754, 0.277133],
[-0.19225535288750045, 0.320095, 0.27870316006957424],
[-0.200059, 0.324569, 0.28019583795679159],
[-0.20770665182071393, 0.32903003557771959, 0.28161180530935082],
[-0.21517219269848400, 0.33347841814898094, 0.28295175938288414],
[-0.22242698613564144, 0.33791320457013657, 0.28421647410626849],
[-0.22944219772981636, 0.34233371658512979, 0.28540679983222539],
[-0.23618836939750037, 0.346739, 0.28652366299654813],
[-0.24263545323305183, 0.35112925035714793, 0.287568],
[-0.24875284656775171, 0.35550296499387168, 0.28854108515518062],
[-0.25450942813924038, 0.35985979316696942, 0.28944387319272535],
[-0.25987359527927845, 0.36419911255905935, 0.290278],
[-0.26481330202613024, 0.36852031517542710, 0.29104373103550851],
[-0.26929609806667920, 0.37282280829383724, 0.29174347106790821],
[-0.27328916841259770, 0.377106, 0.29237831852155077],
[-0.27675937371468673, 0.38136937691033512, 0.29295],
[-0.27967329111969630, 0.38561235127467403, 0.29345945994598532],
[-0.28199725557475119, 0.38983441546999015, 0.29390898956609507],
[-0.28369740148545441, 0.39403506587350673, 0.29430009596751738],
[-0.28474, 0.39821381892199020, 0.29463456608765604],
[-0.28509002427694330, 0.40237021175500531, 0.29491425267618720],
[-0.28471414530476718, 0.40650380281410775, 0.29514107324932620],
[-0.28357782042761898, 0.41061417239830600, 0.29531700903270025],
[-0.281647, 0.41470092317626334, 0.29544410389669507],
[-0.27888693522188601, 0.41876368065582070, 0.295524],
[-0.27526409727041889, 0.42280209361153465, 0.29556025315799528],
[-0.27074434122596119, 0.42681583447103816, 0.29555369889699201],
[-0.26529388579046942, 0.43080459966111157, 0.29550708426486227],
[-0.25887916609514589, 0.43476810991446718, 0.29542275033022292],
[-0.25146687375092763, 0.43870611053830688, 0.295303],
[-0.24302399634194913, 0.44261837164580076, 0.29515056902357106],
[-0.23351785631137431, 0.44650468835170193, 0.29496768082251018],
[-0.22291614919311292, 0.45036488093335975, 0.29475698955604557],
[-0.21118698114764398, 0.45419879495844845, 0.29452110700689904],
[-0.198299, 0.45800630138077420, 0.29426269593088850],
[-0.184221, 0.46178729660554146, 0.293984],
[-0.16892269990758815, 0.46554170252549692, 0.29368918762500956],
[-0.15237423407885781, 0.469269, 0.29337966101009161],
[-0.13454625820209881, 0.47297056148411548, 0.29305874483261635],
[-0.11541008729480566, 0.476645, 0.292729],
[-0.094937687652732611, 0.48029276282563110, 0.29239439208169166],
[-0.073101707821024556, 0.48391394183804398, 0.29205688862364187],
[-0.0498755, 0.48750859685604547, 0.29172],
[-0.025233192634652676, 0.491077, 0.29138637302290704],
[0.00085036806830921072, 0.49461875649602854, 0.29105953799088857],
[0.028399503933343454, 0.49813453399861601, 0.29074249854204676],
[0.055465140081921348, 0.50162433292838748, 0.290438],
[0.076947810198082584, 0.50508835102295124, 0.29015055703121823],
[0.095196289191080557, 0.508527, 0.28988211065607145],
[0.11147582306807680, 0.51193995626082345, 0.28963636687555377],
[0.12641650584181524, 0.51532805882366750, 0.28941662377664246],
[0.14038272646722610, 0.51869141092647863, 0.28922620297721269],
[0.15360597912212062, 0.52203032886139633, 0.289068],
[0.16624319649818323, 0.52534515190497955, 0.28894671507002601],
[0.178406, 0.52863624205724014, 0.28886438207800291],
[0.19017651711508787, 0.53190398377415060, 0.28882483278257032],
[0.20161730924651477, 0.53514878369426822, 0.28883145916585651],
[0.21277680129616572, 0.53837107036005039, 0.28888765618786000],
[0.22369335244489780, 0.54157129393434278, 0.28899681752375211],
[0.23439780186512726, 0.54474992591248217, 0.28916233106112260],
[0.24491527384637468, 0.54790745883035297, 0.28938757416386240],
[0.255266, 0.55104440596867788, 0.289676],
[0.26546860254121263, 0.55416130105376160, 0.29003067593847082],
[0.27553611713049264, 0.55725869795481808, 0.29045519106007200],
[0.28548120632824486, 0.560337, 0.29095273775898101],
[0.29531423007164748, 0.56339731155685091, 0.29152656250606412],
[0.30504403420812837, 0.56643973393998481, 0.29217986877613433],
[0.31467820375719246, 0.56946506887443948, 0.29291581118123428],
[0.32422326525341594, 0.57247396628596658, 0.29373748955907297],
[0.33368485003401205, 0.57546709435516474, 0.29464794305554021],
[0.343068, 0.57844513918945772, 0.29565014424249053],
[0.35237641290450927, 0.58140880449055121, 0.29674699331366256],
[0.36161426055296719, 0.58435881121698619, 0.29794131240263016],
[0.37078453629038077, 0.58729589724136699, 0.29923584006697412],
[0.37988998210099229, 0.59022081700181739, 0.30063322598240649],
[0.38893296915634978, 0.59313434114716690, 0.30213602588932570],
[0.39791554308635596, 0.59603725617534675, 0.30374669683224465],
[0.40683946261370652, 0.59893036406445543, 0.30546759272970397],
[0.41570623269027002, 0.60181448189592368, 0.307301],
[0.42451713305240696, 0.60469, 0.30924893543386456],
[0.43327324293905661, 0.60755908890736499, 0.311314],
[0.44197546257953851, 0.61042128425304354, 0.31349667839644507],
[0.45062453194955848, 0.61327790105407665, 0.31580013659516670],
[0.45922104720691065, 0.61613, 0.31822557880556390],
[0.467765, 0.61897795817670165, 0.32077454676410266],
[0.47625816597391463, 0.62182320923490808, 0.32344845861514193],
[0.48469936459395774, 0.62466650231150689, 0.32624860838650721],
[0.49308922068632605, 0.62750877186358711, 0.329176],
[0.50142779766774814, 0.63035096311841532, 0.33223217709500230],
[0.50971508072776739, 0.63319403157093035, 0.33541756474428386],
[0.51795098404723960, 0.63603894246658643, 0.33873312952588625],
[0.52613535730720806, 0.638887, 0.34217955142548795],
[0.534268, 0.64173819811268806, 0.34575739142981132],
[0.54234862467238309, 0.644595, 0.34946709347519811],
[0.55037694601350728, 0.64745662641535184, 0.35330898661266103],
[0.55835260110455132, 0.65032553134281568, 0.35728328735037723],
[0.56627519562294737, 0.65320224403958216, 0.36139010213473904],
[0.57414429920075139, 0.65608778221374420, 0.36562942993189196],
[0.58195944892458384, 0.65898316861687811, 0.37000116487304696],
[0.58972015259026656, 0.66188943038123971, 0.37450509892877543],
[0.59742589174233918, 0.66480759834021919, 0.37914092457980980],
[0.60507612452517512, 0.66773870633213950, 0.383908],
[0.61267028836921777, 0.67068379048757598, 0.388807],
[0.62020780253334373, 0.67364388850040202, 0.39383523850921604],
[0.62768807052190312, 0.67662003888286082, 0.39899365644377910],
[0.63511048239304124, 0.67961328020499323, 0.40428102577079744],
[0.64247441697309193, 0.68262465031883179, 0.40969649456394158],
[0.64977924399026132, 0.68565518556783001, 0.41523912790077549],
[0.65702432613951745, 0.68870591998202124, 0.42090790970187297],
[0.66420902108925506, 0.69177788445950394, 0.42670174441460784],
[0.67133268343937835, 0.69487210593486037, 0.43261945854058220],
[0.67839466663938719, 0.69798960653518116, 0.43865980200832388],
[0.68539432487424390, 0.701131, 0.44482144939530466],
[0.69233101492504667, 0.70429850443678532, 0.45110300100554518],
[0.69920409801085348, 0.70749191420011637, 0.45750298381097881],
[0.70601294161738770, 0.71071262624980558, 0.46401985226646653],
[0.71275692131782964, 0.71396162563440124, 0.470652],
[0.71943542259041771, 0.71723988731359622, 0.47739770545899723],
[0.72604784263711097, 0.72054837524957771, 0.48425524232098510],
[0.73259359220723630, 0.72388804149262753, 0.491223],
[0.739072, 0.72725982526193222, 0.49829838909527263],
[0.74548280165630953, 0.73066465202250708, 0.50548],
[0.75182516732128824, 0.73410343255920374, 0.51276595585320484],
[0.75809867781600970, 0.73757706204871332, 0.52015375788896723],
[0.76430283938506227, 0.74108641913051754, 0.52764136055547684],
[0.77043718304372277, 0.74463236497768215, 0.53522651940864341],
[0.77650126651963958, 0.74821574236840260, 0.54290692192091006],
[0.78249467622056135, 0.75183737475918744, 0.55068018785161399],
[0.788417, 0.755498, 0.55854386967279168],
[0.79426797533225046, 0.75919859621575170, 0.56649545306247717],
[0.80004719906940258, 0.76294, 0.57453235747664355],
[0.80575442183042056, 0.76672219552899390, 0.58265193680993532],
[0.81138940397557335, 0.77054671401013197, 0.59085148015425903],
[0.81695194699697593, 0.77441397098412090, 0.59912821266313154],
[0.82244189571742299, 0.77832462900982346, 0.60747929652841948],
[0.82785914052942233, 0.78227932406154754, 0.615902],
[0.83320361967668066, 0.78627866464952856, 0.62439285897572283],
[0.83847532158052318, 0.79032323094806367, 0.632949],
[0.84367428721413218, 0.79441357393139178, 0.64156825044374732],
[0.84880061252796213, 0.79855021451724562, 0.65024640378379872],
[0.85385445093033008, 0.80273364271779424, 0.65898062932157975],
[0.85883601582786362, 0.806964, 0.66776768604044812],
[0.86374558323154205, 0.81124266243692500, 0.67660428213261104],
[0.86858349443506899, 0.81556907190180361, 0.68548707703158929],
[0.87335015877391908, 0.81994390321507893, 0.69441268353138852],
[0.87804605647499956, 0.824367, 0.70337766997699969],
[0.88267174160917838, 0.82884008730506564, 0.71237856250737985],
[0.88722784516148712, 0.83336197746576191, 0.721412],
[0.89171507823725948, 0.83793336256824635, 0.73047397298599204],
[0.89613423542647097, 0.84255441693984901, 0.73956135261339118],
[0.90048619835382404, 0.847225, 0.74867036610151205],
[0.90477193944849099, 0.85194603335676289, 0.75779736215645710],
[0.90899252597563329, 0.85671674384479712, 0.76693866018011025],
[0.91314912438219831, 0.861537, 0.77609055190682041],
[0.917243, 0.86640802562556796, 0.785249],
[0.92127554734738692, 0.87132848891563852, 0.79441115248411354],
[0.92524824565886365, 0.87629868645901277, 0.803572],
[0.92916271556926766, 0.881318, 0.81272898223262058],
[0.93302070133251458, 0.88638755894866006, 0.82187731356706950],
[0.93682408427490449, 0.89150574715646502, 0.83101344271677802],
[0.94057489261930816, 0.89667269192684729, 0.84013346893100360],
[0.94427531309499679, 0.90188801563550636, 0.849233],
[0.94792770486138689, 0.90715128152921742, 0.85830940299379566],
[0.95153461646845872, 0.91246198960443670, 0.86735727336203061],
[0.95509880685948778, 0.91781957142415316, 0.87637293703445285],
[0.95862327184281615, 0.92322338348974631, 0.88535216806147610],
[0.96211127810180275, 0.92867269861316815, 0.89429060886215350],
[0.96556640782112735, 0.93416669446592260, 0.90318372630466359],
[0.96899261864480846, 0.93970443804585080, 0.91202674992363131],
[0.97239432644222623, 0.945285, 0.92081458336473476],
[0.97577652322797859, 0.95090674400643438, 0.92954167421986211],
[0.97914495164656745, 0.95656864007284848, 0.93820181629376787],
[0.98250637545525443, 0.96226883373667993, 0.94678783605143402],
[0.98586902434572366, 0.96800520802260614, 0.95529106647704876],
[0.98924338489962749, 0.97377503828835443, 0.96370039406395625],
[0.99264376903963136, 0.97957457790558544, 0.97200033547834452],
[0.99609198392834875, 0.98539809110204379, 0.98016645834363392],
[0.99962884647167083, 0.99123482857770096, 0.98815075039794065],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
