from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00033321971306960466, 0.00033955857242321495, 0.00038814323644112490],
[0.00094073432159540562, 0.000972662, 0.00116456],
[0.0017984448897230740, 0.0018835474709478248, 0.00233328],
[0.0028807045436071367, 0.0030551722415475468, 0.0038938567622686950],
[0.0041684296914730207, 0.0044773197807808068, 0.0058507508017247561],
[0.0056458021376385647, 0.0061434106167221518, 0.0082107083837615873],
[0.00729887, 0.00804914, 0.010981766865095102],
[0.0091148047512946573, 0.0101918, 0.014172739118577825],
[0.011081524101093898, 0.012569792458936021, 0.017792920162311657],
[0.013187390547160050, 0.015182497304276513, 0.021851899922035838],
[0.015421059463268445, 0.018029989408203099, 0.026359432999445386],
[0.017771356716218621, 0.021112968941506160, 0.031325341231078205],
[0.020227194944100007, 0.0244327, 0.036759436088102400],
[0.022777513106818224, 0.027990767875482287, 0.042600118342098044],
[0.025411232307375471, 0.031789384340996436, 0.048451497049156113],
[0.028117223381378526, 0.035830993572174216, 0.054278064392852217],
[0.030884283261344205, 0.040118418684429238, 0.060083110689218948],
[0.033701118069175771, 0.044465272891853348, 0.065869297456736309],
[0.036556331503854671, 0.048778058000826262, 0.071638763958086188],
[0.039438417500372733, 0.053065403434980320, 0.077393209920193884],
[0.042279455372638629, 0.057330786966730378, 0.083133960695143838],
[0.045003212294031931, 0.061577348362379554, 0.088862019269045328],
[0.047619478480899445, 0.065807936715662568, 0.094578108278677742],
[0.050128125237533829, 0.070025149013476312, 0.10028270433985348],
[0.052528735354124757, 0.074231361824170672, 0.10597606639307206],
[0.054820623944735199, 0.078428757532473414, 0.11165825934661056],
[0.057002854209455368, 0.082619346207344124, 0.11732917399004142],
[0.059074248857808993, 0.086804983940982877, 0.12298854392628456],
[0.061033397725512910, 0.090987388312701173, 0.12863596010349698],
[0.062878661954081955, 0.095168151492508651, 0.13427088340291526],
[0.064608174969062709, 0.099348751393653345, 0.139893],
[0.066219840377797434, 0.10353056120221754, 0.14550050929334821],
[0.067711326803846478, 0.10771485754895294, 0.15109357611453106],
[0.0690801, 0.11190282753934489, 0.15667089493772604],
[0.070323209088797134, 0.11609557481910249, 0.16223141871103994],
[0.071437675545813373, 0.12029412482145990, 0.16777402095359686],
[0.072420069672564175, 0.12449942931802896, 0.17329750171546682],
[0.073266688849496636, 0.12871237037509464, 0.17880059312962773],
[0.073973487941669969, 0.13293376380114785, 0.18428196462690327],
[0.074536043892864834, 0.13716436215834141, 0.18974022787293937],
[0.074949512885073261, 0.14140485739978584, 0.19517394147648037],
[0.075208578521896247, 0.14565588318572892, 0.20058161551007525],
[0.075307389047168521, 0.14991801692430007, 0.20596171587754380],
[0.075239481017802118, 0.15419178157635413, 0.21131266855681174],
[0.074997686054350143, 0.15847764725880637, 0.21663286374187646],
[0.074574016209605159, 0.16277603267649818, 0.22192065990354026],
[0.073959521998833322, 0.16708730640895672, 0.22717438778500648],
[0.073144115035183727, 0.17141178807526711, 0.23239235434537903],
[0.0721163, 0.17574974939757573, 0.237573],
[0.0708631, 0.18010141518142281, 0.242714],
[0.069369295346761256, 0.18446696422907449, 0.24781448063813433],
[0.067617280351175535, 0.188847, 0.25287213172120399],
[0.065586296011103801, 0.19324020243313669, 0.257885],
[0.063251543754060169, 0.19764802673701032, 0.26285233572519262],
[0.060582970988703723, 0.20207000616692944, 0.26777138200909722],
[0.057543522621375583, 0.20650610178937834, 0.27264072875741430],
[0.054086566730736592, 0.210956, 0.27745864128966441],
[0.050151962952809055, 0.21542028053035234, 0.28222339905077209],
[0.045659784340465505, 0.21989808276067263, 0.28693329927523537],
[0.040499720776654473, 0.22438944099316516, 0.29158666061904009],
[0.034671307084307171, 0.22889411804170745, 0.29618182675461496],
[0.028463984685015039, 0.23341183953150874, 0.30071716992365610],
[0.021878732679674075, 0.23794229478246426, 0.30519109444223513],
[0.014916518513210330, 0.24248513772624797, 0.30960204015228787],
[0.0075792213410060347, 0.24703998785951564, 0.313948],
[-0.00013034354531103685, 0.25160643123505128, 0.31822895242791027],
[-0.0082084016821638347, 0.25618402149218583, 0.32244200649469301],
[-0.016650197892790913, 0.26077228092733978, 0.32658626318196393],
[-0.025449976341630265, 0.26537070160508563, 0.33066038941562392],
[-0.034600962281508454, 0.26997874650969606, 0.33466310687475120],
[-0.044095345586481233, 0.27459585073674186, 0.33859319488842487],
[-0.0539243, 0.27922142272391909, 0.34244949322749507],
[-0.0640778, 0.28385484551993084, 0.34623090478520663],
[-0.074545, 0.28849547808990617, 0.34993639814081384],
[-0.085313649786640938, 0.29314265665554445, 0.35356501000061463],
[-0.096370719792820678, 0.29779569606786810, 0.35711584751114472],
[-0.10770190716079772, 0.30245389121022304, 0.36058809043963780],
[-0.11929185993853025, 0.307117, 0.36398099321724786],
[-0.13112413257116015, 0.31178283698864290, 0.36729388684094644],
[-0.14318118868014462, 0.316452, 0.370526],
[-0.15544440619790600, 0.32112350866434997, 0.37367736383709876],
[-0.16789408487029955, 0.325796, 0.376747],
[-0.18050945613043209, 0.33046969529863923, 0.37973476376000437],
[-0.193269, 0.33514286603733862, 0.38264037099251563],
[-0.20614893636862808, 0.33981500883526067, 0.38546365081982037],
[-0.21912628853123262, 0.34448530555597912, 0.38820451094071312],
[-0.232176, 0.34915293312969869, 0.39086294541431615],
[-0.24527175816087762, 0.35381706508237065, 0.39343903518625228],
[-0.25838715550537822, 0.35847687305516745, 0.39593294845993965],
[-0.271494, 0.36313152831074968, 0.39834494091453232],
[-0.28456443010691457, 0.36778020322285765, 0.40067535577152036],
[-0.29756806839561328, 0.37242207274581590, 0.40292462371250615],
[-0.31047478539367712, 0.37705631586066712, 0.40509326265113199],
[-0.323253, 0.38168211699476123, 0.407182],
[-0.33587182405095228, 0.38629866741175772, 0.40919115897448249],
[-0.34829742735366209, 0.39090516656916613, 0.41112188432349350],
[-0.36049674820716782, 0.39550082344068910, 0.41297491518209817],
[-0.37243569738129884, 0.40008485780082315, 0.41475119736061045],
[-0.38407956659265524, 0.40465650146934545, 0.41645175968958442],
[-0.395393, 0.40921499951350743, 0.41807771288812773],
[-0.40634039263921212, 0.41376, 0.41963024832385576],
[-0.41688522515347565, 0.41828961213659643, 0.421111],
[-0.42699081890291823, 0.42280429327682428, 0.42252022646845799],
[-0.43662002712511794, 0.42730296399476014, 0.42386044259684785],
[-0.445735, 0.43178495202032091, 0.42513278465936621],
[-0.45429899448991751, 0.43624960455918538, 0.42633882529421852],
[-0.46227289631031571, 0.44069628915488984, 0.42748020841205253],
[-0.46961879308110482, 0.44512439449853308, 0.42855864736895760],
[-0.47629825937336750, 0.449533, 0.42957592308062054],
[-0.48227275703937517, 0.45392253242061936, 0.43053388208372662],
[-0.48750368288164159, 0.45829145466713156, 0.43143443455057129],
[-0.49195241610237078, 0.46263957824743868, 0.43227955226264930],
[-0.49558, 0.46696640788826810, 0.43307126654881323],
[-0.49834901583128283, 0.471271, 0.43381166619333111],
[-0.50021997469725144, 0.47555432919753721, 0.43450289531893788],
[-0.50115501744630564, 0.47981455653911948, 0.43514715124967535],
[-0.50111613243074926, 0.48405176202520012, 0.435747],
[-0.50006556508848476, 0.48826557881737059, 0.43630378590036151],
[-0.49796586126226833, 0.49245566670324575, 0.43682080584497662],
[-0.49477990962199597, 0.49662171230041535, 0.43730013069538842],
[-0.49047098313012166, 0.50076342921635386, 0.43774419131277131],
[-0.48500277949672071, 0.50488055816580324, 0.43815545873974710],
[-0.47833946057595145, 0.50897286704720801, 0.43853644202801306],
[-0.47044569066215430, 0.51304015097985722, 0.43888968607169765],
[-0.46128667364892706, 0.51708223230341921, 0.43921776944798147],
[-0.45082818902080934, 0.52109896054162364, 0.43952330226612762],
[-0.43903662665211818, 0.52509, 0.439809],
[-0.42587902039328646, 0.52905589132238040, 0.44007730148422641],
[-0.41132308042986682, 0.53299592803926121, 0.44033112653477058],
[-0.39533722440460378, 0.53691, 0.44057311409238681],
[-0.37789060729730328, 0.54079893014648450, 0.44080599998955755],
[-0.35895315006223866, 0.54466188938776960, 0.44103253887925870],
[-0.33849556702636824, 0.54849919360620936, 0.44125550214460268],
[-0.31648939205610777, 0.55231090477701272, 0.44147767581361136],
[-0.29290700350392290, 0.55609711041393461, 0.44170185847747773],
[-0.26772164794897979, 0.55985792327243233, 0.441931],
[-0.24090746274982072, 0.56359348103625773, 0.44216749548978074],
[-0.21243949742914539, 0.56730394598905753, 0.44241459111254222],
[-0.18229373391373033, 0.57098950467250820, 0.44267497410916062],
[-0.15044710565432115, 0.57465036753245158, 0.44295147464963341],
[-0.11687751565253719, 0.57828676855444028, 0.44324692294154711],
[-0.0815639, 0.58189896489002690, 0.44356414711754483],
[-0.044486010920710382, 0.58548723647508594, 0.44390597111046237],
[-0.0056248974642599901, 0.58905188564136202, 0.44427521251449847],
[0.035037546313675248, 0.592593, 0.44467468043099723],
[0.070163662164046903, 0.59611163565487713, 0.44510717329770250],
[0.0961109, 0.59960744957645074, 0.44557547670066505],
[0.11775719882006402, 0.60308106642085379, 0.44608236116833705],
[0.13683879092365192, 0.60653289451128289, 0.44663057994779259],
[0.15419186996470705, 0.60996336215273084, 0.447223],
[0.17029112515167297, 0.61337291722402987, 0.44786193355904508],
[0.18543469674262025, 0.61676202677021630, 0.44855046822439398],
[0.19982321854778629, 0.62013117659580563, 0.44929113230838397],
[0.21359866410009998, 0.62348087085945270, 0.45008655872087794],
[0.22686541302392477, 0.62681163167045917, 0.45093934942616282],
[0.239703, 0.63012399868747115, 0.45185207313135228],
[0.25217145158067095, 0.633419, 0.452827],
[0.26432073099640713, 0.63669579533084608, 0.45386741421036320],
[0.27618951649614626, 0.63995638844608027, 0.45497498191775282],
[0.28780975665223446, 0.64320091396194445, 0.45615237870173025],
[0.29920785036377984, 0.64642999335951390, 0.45740197242813913],
[0.31040583695484025, 0.64964426332069314, 0.45872608397719600],
[0.32142228122667216, 0.65284437534767614, 0.46012698502864829],
[0.33227294332950796, 0.65603099538549048, 0.46160689588392628],
[0.34297129372119395, 0.659205, 0.46316798333172066],
[0.35352891456629582, 0.66236649324387087, 0.46481235856348530],
[0.36395581653484144, 0.66551677181234192, 0.46654207514531670],
[0.374261, 0.668656, 0.46835912705255051],
[0.38445111718024766, 0.67178598785805155, 0.47026544677322896],
[0.394534, 0.67490640276070180, 0.47226290348629890],
[0.40451432042484597, 0.67801836056279408, 0.47435330132006165],
[0.41439802958968147, 0.68112262948078939, 0.47653837769596302],
[0.42418935854966921, 0.68421998888578905, 0.47881980176230204],
[0.43389228936761332, 0.68731122894522356, 0.48119917292189857],
[0.44351034306489673, 0.69039715026466064, 0.48367801945711147],
[0.45304663600328604, 0.69347856352935366, 0.48625779725496671],
[0.46250392800006707, 0.69655628914509571, 0.48893988863442511],
[0.47188466359680009, 0.69963115687798472, 0.49172560127710824],
[0.48119100762507255, 0.70270400549264633, 0.49461616726204344],
[0.49042487599572388, 0.70577568238850918, 0.49761274220424573],
[0.499588, 0.70884704323368342, 0.50071640449619159],
[0.50868176201406168, 0.71191895159601404, 0.50392815465053042],
[0.51770759130445620, 0.714992, 0.50724891474164857],
[0.526667, 0.71806790240532459, 0.51068],
[0.53556, 0.72114670811803761, 0.51422075815689217],
[0.54438811356797801, 0.72422958711487218, 0.51787328973140501],
[0.55315225062606510, 0.72731743679939176, 0.52163772726149837],
[0.56185288874050210, 0.73041116017809782, 0.52551459546729173],
[0.57049058864145852, 0.73351166545994240, 0.52950433914503481],
[0.57906582344119861, 0.73661986564974147, 0.53360732318451431],
[0.58757898672290554, 0.73973667813512123, 0.53782383264683664],
[0.59603039985160378, 0.74286302426665674, 0.54215407289631390],
[0.60442031860400225, 0.74599982893085071, 0.54659816978010323],
[0.612749, 0.74914802011562987, 0.55115616984922511],
[0.62101640381495826, 0.75230852846805574, 0.55582804061466129],
[0.62922280561652144, 0.75548228684393714, 0.560614],
[0.63736819341363205, 0.75867, 0.56551287081093726],
[0.64545257593370431, 0.76187329337191323, 0.57052537273688975],
[0.65347592578993519, 0.76509241410717022, 0.57565083101079750],
[0.66143818316973746, 0.76832852907051941, 0.58088882259031738],
[0.66933925927843063, 0.77158257510378014, 0.58623884733448439],
[0.67717903956754799, 0.77485548837060125, 0.59170032834501030],
[0.68495738677401941, 0.77814820384236672, 0.59727261230039619],
[0.69267414379354531, 0.78146165477416252, 0.60295496977906560],
[0.70032913640921501, 0.78479677217060806, 0.60874659556808697],
[0.70792217589418072, 0.78815448424140500, 0.61464660895438605],
[0.71545306150549182, 0.79153571584643578, 0.62065405399565310],
[0.72292158288450803, 0.79494138793027636, 0.62676789976841796],
[0.73032752237810195, 0.79837241694595740, 0.63298704059097466],
[0.73767065729353820, 0.80182971426785998, 0.63931029621899382],
[0.74495076209901723, 0.80531418559359513, 0.64573641201172149],
[0.75216761058103632, 0.80882673033472663, 0.65226405906666118],
[0.75932097796895215, 0.81236824099620775, 0.65889183432049392],
[0.76641064303666528, 0.81593960254437148, 0.66561826061376239],
[0.77343639019079802, 0.81954169176333191, 0.672442],
[0.78039801155458321, 0.823175, 0.679361],
[0.787295, 0.82684151549474660, 0.686374],
[0.79412809653125926, 0.83054095670587857, 0.693478],
[0.80089620184620536, 0.834275, 0.70067326984776723],
[0.80759946905544477, 0.83804308401765570, 0.70795643011489351],
[0.81423776059823161, 0.84184740941844527, 0.71532582277804402],
[0.82081095954762240, 0.84568831428641389, 0.72277937457730368],
[0.82731897192184634, 0.84956658531638141, 0.73031493633919753],
[0.83376172907021839, 0.85348299466766664, 0.73793028234336344],
[0.84013919014711935, 0.85743829918877135, 0.74562310954198863],
[0.84645134468926442, 0.86143323962579810, 0.753391],
[0.85269821531385048, 0.86546853981350091, 0.76123160273710899],
[0.85887986055794008, 0.86954490584763089, 0.76914226627333793],
[0.86499637788323613, 0.87366302523691264, 0.77712040290979267],
[0.87104790687492695, 0.877824, 0.78516330358580022],
[0.87703463266936477, 0.88202717593338487, 0.79326817187685206],
[0.88295678965287305, 0.88627448136168585, 0.80143212080407034],
[0.88881466548404842, 0.89056608650894642, 0.809652],
[0.89460860550475019, 0.89490257234366000, 0.81792523546238827],
[0.90033901762215818, 0.89928449557701529, 0.82624813442474632],
[0.90600637776708037, 0.90371238757829420, 0.83461756710337243],
[0.91161123606452665, 0.90818675323050069, 0.84303011285831486],
[0.91715422389476808, 0.91270806971402185, 0.85148221747444330],
[0.92263606208183724, 0.91727678520267974, 0.85997017843200652],
[0.92805757052965154, 0.92189331745187508, 0.86849012609819953],
[0.93341967974583284, 0.92655805225236099, 0.877038],
[0.93872344487047021, 0.93127134171459425, 0.88560951448306446],
[0.94397006309488751, 0.93603350233680349, 0.89420012212868061],
[0.94916089577218676, 0.94084481279319310, 0.90280495197884370],
[0.95429749719149026, 0.94570551135461434, 0.91141873472535895],
[0.95938165310677792, 0.95061579281881914, 0.920036],
[0.96441543406576347, 0.95557580477478388, 0.92864938478207326],
[0.96940127218603400, 0.96058564294573123, 0.93725246454843170],
[0.97434207711262644, 0.96564534523338008, 0.94583631420944070],
[0.979241, 0.97075488390338804, 0.95439],
[0.98410386654117354, 0.97591415511344082, 0.96290128620231530],
[0.98893558200681764, 0.98112296489973250, 0.97135016800518781],
[0.99374578011035031, 0.98638101254313992, 0.97970786754374128],
[0.99855108262889891, 0.99168789277841951, 0.98791807013174104],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
