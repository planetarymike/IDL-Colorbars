from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00031470937432691510, 0.00034758540761724993, 0.00038110569876305032],
[0.00087213134553781554, 0.0010024798320630438, 0.00113784],
[0.0016470500717221880, 0.00194947, 0.0022731950769221865],
[0.0026149749791741861, 0.00317106, 0.0037866983379407216],
[0.0037596483059088260, 0.00465586, 0.0056834994060552067],
[0.00506942, 0.0063954893629270433, 0.0079717006316876952],
[0.0065356736291701124, 0.0083833522254660366, 0.010661280216015983],
[0.00815197, 0.010613942098531798, 0.013763552630335395],
[0.0099135928984886625, 0.013082477328253309, 0.0172909],
[0.011817194469245632, 0.015784661781705584, 0.021256383065765688],
[0.013860622848372441, 0.018716526790667879, 0.025674001924263695],
[0.016042760459557347, 0.021874320850223061, 0.030558209468606736],
[0.018363423586060724, 0.025254429759085113, 0.035924034278338207],
[0.020823286216103347, 0.028853317070677731, 0.041752047739870630],
[0.023423823158388580, 0.032667478624815179, 0.047649537278480571],
[0.026167266936722167, 0.036693407170150641, 0.053543119844866975],
[0.029056574738675026, 0.040917909375795557, 0.0594371],
[0.032095402813204207, 0.045122621880251380, 0.065335227788217404],
[0.035288086445837544, 0.049268411216266426, 0.0712406],
[0.038639624134322939, 0.053357917810650572, 0.077155775747074884],
[0.042106817744217963, 0.057393408430018673, 0.083083155222852589],
[0.045559134621813054, 0.061376834126115255, 0.089024618801320399],
[0.049008114249776906, 0.065309877254215470, 0.0949818],
[0.0524584, 0.069193990047915099, 0.10095601686941366],
[0.055914498711789738, 0.073030426593078013, 0.106948],
[0.0593805, 0.076820269587100254, 0.11295988572063009],
[0.062860306059270926, 0.080564452939157316, 0.11899111818304001],
[0.066357715061564487, 0.084263781024550233, 0.12504262942309360],
[0.069876233974008828, 0.087918945225952838, 0.131115],
[0.073419204308566410, 0.091530538258733002, 0.13720771234416401],
[0.076989786845181929, 0.095099066674384725, 0.14332151174283911],
[0.080590968098471938, 0.098624961856865839, 0.14945606341866988],
[0.084225565645153239, 0.10210858976518369, 0.15561113537696375],
[0.087896232569494553, 0.10555025962747935, 0.16178636956078932],
[0.091605461237497188, 0.10895023175391169, 0.16798128736355056],
[0.095355586572354045, 0.11230872460544861, 0.17419529450749960],
[0.099148788972201613, 0.11562592123147666, 0.180428],
[0.10298709698485761, 0.11890197516960377, 0.186678],
[0.10687238983217909, 0.12213701588513640, 0.19294426273332874],
[0.11080639985802163, 0.12533115381471791, 0.19922651512483797],
[0.11479071495805224, 0.12848448506788895, 0.20552328955850391],
[0.118827, 0.13159709583145138, 0.21183337685043696],
[0.12291590452196305, 0.13466906651410015, 0.218155],
[0.12705925497080520, 0.13770047566256224, 0.22448819739198611],
[0.13125786776682197, 0.14069140367521910, 0.23083],
[0.13551264693406392, 0.14364193633473246, 0.23717951709105728],
[0.13982436806238968, 0.14655216817736563, 0.24353491415428114],
[0.14419368134682334, 0.14942220571342488, 0.24989453578465259],
[0.14862111473659326, 0.15225217051040996, 0.256257],
[0.153107, 0.15504220214801026, 0.26261919663233579],
[0.15765186200693371, 0.15779246105194405, 0.26898],
[0.16225565028740327, 0.16050313121177276, 0.27533827209291106],
[0.16691851440749245, 0.16317442278617725, 0.28169065864899234],
[0.17164042159862558, 0.16580657459774051, 0.28803545403610287],
[0.17642123755980810, 0.16839985651802505, 0.29437046659686433],
[0.18126073011064395, 0.17095457174259773, 0.30069344945936466],
[0.18615857287089888, 0.173471, 0.30700210390374277],
[0.19111434895568652, 0.17594969437535576, 0.31329408284696531],
[0.19612755467594117, 0.17839089369709235, 0.31956699444763609],
[0.20119760323450386, 0.18079511389756150, 0.32581840583149130],
[0.206324, 0.18316285492911721, 0.33204584693706035],
[0.21150548821273074, 0.18549466127969769, 0.33824681447986227],
[0.21674176852798160, 0.18779112340013385, 0.34441877603242299],
[0.22203178670203100, 0.19005287899268752, 0.35055917421635618],
[0.22737459510292735, 0.19228061415543127, 0.35666543100174264],
[0.23276918462788271, 0.19447506437698314, 0.36273495210807860],
[0.23821448816018448, 0.19663701537607414, 0.36876513150012646],
[0.24370938397038372, 0.19876730378048391, 0.37475335597112497],
[0.24925269905809805, 0.20086681764001763, 0.38069700980496052],
[0.25484321243121588, 0.20293649676841419, 0.38659347950811335],
[0.26047965831967845, 0.20497733290937342, 0.39244015860144232],
[0.26616072932134133, 0.20699036972227519, 0.39823445246117928],
[0.27188507947772905, 0.20897670258361883, 0.403974],
[0.277651, 0.210937, 0.40965559456143402],
[0.28345805858743600, 0.21287389403509571, 0.41527735685994704],
[0.28930382950475947, 0.21478719753270392, 0.42083657187943541],
[0.29518716913708726, 0.21667868516088462, 0.42633077779142997],
[0.30110658230102827, 0.21854970125030337, 0.43175755403485611],
[0.30706055214288824, 0.22040163664300916, 0.43711452615855562],
[0.31304754267887885, 0.22223592714772905, 0.44239937061058943],
[0.31906600125406537, 0.22405405180483123, 0.44760981946041117],
[0.32511436091920237, 0.22585753096439060, 0.45274366504000413],
[0.33119104272463640, 0.227648, 0.45779876449016449],
[0.33729445793058621, 0.22942682793765012, 0.46277304419828386],
[0.34342301013320420, 0.23119587318565393, 0.46766450411423016],
[0.34957509730589720, 0.23295672274183227, 0.47247122193126106],
[0.35574911375553686, 0.23471106851899337, 0.47719135711929567],
[0.36194345199325362, 0.23646062862000022, 0.48182315479835952],
[0.36815650451970672, 0.23820714430026740, 0.48636494944056058],
[0.37438666552478406, 0.23995237681224552, 0.490815],
[0.38063233250189554, 0.24169810414549259, 0.49517233518726428],
[0.38689190777713650, 0.24344611767691943, 0.49943507269794191],
[0.39316379995378853, 0.24519821874665049, 0.50360210602126765],
[0.39944642527277113, 0.24695621517572369, 0.50767226518602049],
[0.40573820888985412, 0.248722, 0.51164448761753611],
[0.412038, 0.25049713663523471, 0.51551782037270111],
[0.41834300330424024, 0.25228367789848982, 0.51929142213728729],
[0.42465291933768096, 0.25408333989163912, 0.52296456498140831],
[0.43096580613141711, 0.25589790977738725, 0.52653663586986355],
[0.43728014973879259, 0.25772916005848984, 0.53000713792514409],
[0.44359445111063506, 0.25957884518043123, 0.53337569144190045],
[0.44990722682725587, 0.26144869821746508, 0.53664203465264282],
[0.45621700976002638, 0.26334042765881427, 0.53980602424549229],
[0.46252234966486822, 0.26525571431109224, 0.54286763563573426],
[0.46882181371015835, 0.26719620833208330, 0.54582696299392286],
[0.47511398694166523, 0.26916352640995728, 0.54868421903419584],
[0.48139747268724359, 0.27115924910080108, 0.55143973456736439],
[0.48767089290413118, 0.27318491833600689, 0.55409395782420456],
[0.49393288847176359, 0.27524203510963952, 0.55664745355518619],
[0.50018211943311219, 0.277332, 0.55910090191364503],
[0.50641726518759755, 0.27945639801280120, 0.56145509713012454],
[0.51263702463867233, 0.28161642331002312, 0.563711],
[0.51884011629921234, 0.28381345123017787, 0.565869],
[0.52502527835784185, 0.28604875019987430, 0.56793178401214572],
[0.531191, 0.28832353797819743, 0.56989913314268792],
[0.53733686495234101, 0.29063898075217354, 0.571773],
[0.54346086435710628, 0.29299619243470470, 0.57355437946102228],
[0.54956208380698768, 0.29539623416057975, 0.57524525694481021],
[0.55563935971601597, 0.29784011397471377, 0.57684712106072056],
[0.561692, 0.30032878670549162, 0.57836170318928837],
[0.56771752358523608, 0.30286315401492914, 0.57979082613765132],
[0.57371618101358335, 0.305444, 0.58113640117092036],
[0.57968643355337646, 0.30807231464898976, 0.58240042496101096],
[0.58562721341199797, 0.31074864819964759, 0.58358497646433560],
[0.59153747149670055, 0.31347375795796961, 0.58469221373958480],
[0.597416, 0.31624828599517857, 0.585724],
[0.603262, 0.31907282465283415, 0.58668375392758154],
[0.60907490109477080, 0.32194791752951585, 0.58757273920968955],
[0.61485294917003774, 0.32487406055290136, 0.58839376839158020],
[0.62059550451686185, 0.32785170312487327, 0.58914934597122182],
[0.62630162666044620, 0.33088124932752533, 0.58984203579577244],
[0.63197039265665333, 0.33396305917829600, 0.59047445775189456],
[0.637601, 0.33709744992288976, 0.59104928447497163],
[0.64319225122206714, 0.34028469735518463, 0.59156923808508544],
[0.648744, 0.34352503715391869, 0.59203708695708623],
[0.65425404202407778, 0.34681866622661539, 0.59245564253152694],
[0.65972278714821753, 0.350166, 0.59282775617266159],
[0.66514899927865800, 0.35356639401214063, 0.59315631607911645],
[0.67053187480095022, 0.35702070470897979, 0.59344424425225173],
[0.67587062683759147, 0.360529, 0.59369449352663373],
[0.68116448522236983, 0.36409049653794601, 0.59391004466641983],
[0.68641269649444048, 0.36770599244542501, 0.59409390353087621],
[0.69161452391298339, 0.37137518105763678, 0.59424909831161943],
[0.69676924749322566, 0.37509799579267528, 0.59437867684360590],
[0.701876, 0.37887434250863483, 0.59448570399128586],
[0.70693458735155412, 0.38270410055789755, 0.59457325911077696],
[0.71194384807825317, 0.38658712379230070, 0.59464443358833485],
[0.71690329409685971, 0.39052324151811824, 0.59470232845487092],
[0.72181229054095697, 0.39451225940029705, 0.59475005207573040],
[0.72667022000413617, 0.398554, 0.59479071791442040],
[0.73147648274450317, 0.40264810515690719, 0.59482744236853158],
[0.73623049691564146, 0.40679443358369721, 0.59486334267559293],
[0.740932, 0.410993, 0.59490153488619235],
[0.74557954321728137, 0.415242, 0.59494513190128140],
[0.75017350359219381, 0.419544, 0.59499724157020995],
[0.75471307254237985, 0.423896, 0.59506096484567761],
[0.75919776212672829, 0.42829831624160419, 0.59513939399150018],
[0.76362710427076841, 0.43275117301521110, 0.59523561083879983],
[0.76800065119756367, 0.43725384993901101, 0.59535268508598138],
[0.772318, 0.44180593842965093, 0.595494],
[0.77657867257943514, 0.44640701346428074, 0.59566161397767503],
[0.78078235727764633, 0.45105663392952561, 0.59585953257064750],
[0.78492866832514963, 0.455754, 0.59609043328761724],
[0.78901726698373476, 0.46049966814368176, 0.59635730084977912],
[0.79304783805720003, 0.46529212197146880, 0.59666309828554409],
[0.79702009054620981, 0.47013120190818586, 0.59701076539557851],
[0.80093375833686575, 0.47501639071224472, 0.59740321722076051],
[0.80478860092335180, 0.47994715663112236, 0.59784334250807947],
[0.80858440416500221, 0.48492295359973353, 0.59833400216971366],
[0.81232098107805706, 0.48994322142586871, 0.59887802773070886],
[0.81599817266237906, 0.495007, 0.59947821976096061],
[0.819616, 0.50011485928367416, 0.60013734628750193],
[0.82317390896873555, 0.50526503982126958, 0.60085814118342740],
[0.826672, 0.510457, 0.60164330253018350],
[0.83011093438802008, 0.515691, 0.60249549095032961],
[0.83348985605958315, 0.52096560785810098, 0.60341732790835423],
[0.83680907679233463, 0.52628033432130994, 0.60441139397756571],
[0.84006865957932730, 0.53163456097635164, 0.60548022707158611],
[0.84326870327810677, 0.53702760759732016, 0.60662632063949107],
[0.84640934375202470, 0.542459, 0.60785212182414305],
[0.84949075504485383, 0.54792737701693439, 0.60916002958383031],
[0.85251315058791455, 0.55343267701842236, 0.61055239277784579],
[0.85547678443879160, 0.55897395172013076, 0.61203150821718166],
[0.85838195255056848, 0.56455045953893335, 0.6136],
[0.86122899407028530, 0.57016144714179828, 0.61525891090858598],
[0.86401829266520691, 0.57580614964085564, 0.61701151354711559],
[0.86675027787521197, 0.58148379079969314, 0.618859],
[0.86942542648947940, 0.58719358325184445, 0.62080486181297423],
[0.87204426394534995, 0.59293472873246467, 0.62284955561195132],
[0.87460736574706288, 0.59870641832412985, 0.62499545194384420],
[0.877115, 0.60450783271767094, 0.62724435767209852],
[0.87956892337005155, 0.61033814248894425, 0.62959800894456719],
[0.88196879352764979, 0.61619650839240359, 0.63205806906828221],
[0.884316, 0.62208208167230850, 0.63462612639253557],
[0.886611, 0.62799400439239894, 0.63730369220596628],
[0.88885442901285505, 0.63393140978480200, 0.64009219865344646],
[0.89104800549196095, 0.63989342261894289, 0.64299299667857357],
[0.89319242727119563, 0.64587915959117370, 0.64600735399750919],
[0.89528878608429008, 0.651888, 0.649136],
[0.89733823830631487, 0.657918, 0.65238138935190149],
[0.89934200635781281, 0.66396976999052026, 0.65574316899794172],
[0.90130138007827698, 0.670041, 0.65922270741391731],
[0.903218, 0.67613227944474463, 0.66282082726875391],
[0.90509244895462415, 0.68224141439428299, 0.66653825680719747],
[0.90692707268846817, 0.688368, 0.67037562818809726],
[0.90872316167435729, 0.69451081015338467, 0.67433347589140946],
[0.91048236191746257, 0.70066920508723218, 0.67841223519666927],
[0.91220639406435411, 0.70684214887239882, 0.682612],
[0.91389705436829460, 0.71302870163394250, 0.686934],
[0.91555621556535138, 0.71922792191464557, 0.69137681763337699],
[0.91718582765303403, 0.72543886737635232, 0.69594154303808298],
[0.918788, 0.73166059552582663, 0.70062782039860350],
[0.92036459472069432, 0.73789216446465333, 0.70543546202525786],
[0.921918, 0.74413263366250615, 0.71036417246911887],
[0.92345052343226808, 0.75038106475298538, 0.71541354758731512],
[0.924964, 0.75663652235096313, 0.72058307367047469],
[0.92646204832280166, 0.76289807489018913, 0.72587212662611489],
[0.92794601740825500, 0.769165, 0.73127997121030286],
[0.92941887356788622, 0.775436, 0.73680576029825895],
[0.930883, 0.78171006187644254, 0.74244853418263135],
[0.93234196630634769, 0.78798678520981125, 0.74820721988596173],
[0.93379775660631492, 0.79426503345619082, 0.75408063047122342],
[0.93525353970622382, 0.800544, 0.76006746433121086],
[0.93671228244271609, 0.80682255414064463, 0.76616630443384737],
[0.93817702553790117, 0.81310007742549162, 0.77237561749595818],
[0.93965088220021087, 0.81937562914044093, 0.77869375305258959],
[0.94113703659789150, 0.825648, 0.78511894238218971],
[0.94263874222705624, 0.83191745403585415, 0.79164929723961497],
[0.94415932020394711, 0.83818208031831631, 0.79828280833843657],
[0.94570215752042486, 0.84444144287185252, 0.80501734351081566],
[0.94727070531370738, 0.85069475685706830, 0.81185064545640828],
[0.948868, 0.85694125415089117, 0.81878032897011743],
[0.95049904787332917, 0.86318018392136442, 0.82580387751047424],
[0.95216605173343438, 0.86941081308272128, 0.832919],
[0.95387318226553230, 0.87563242659738216, 0.84012182016910086],
[0.95562419178215274, 0.88184432758177089, 0.84741048054786383],
[0.95742289212328047, 0.888046, 0.85478152340408575],
[0.95927315653140777, 0.89423629398606797, 0.86223168544849316],
[0.961179, 0.90041505334487948, 0.86975752323817734],
[0.96314420088078612, 0.90658148567129271, 0.87735539582010469],
[0.96517307810261121, 0.91273497431016415, 0.88502144226458679],
[0.96727, 0.918875, 0.89275155226656411],
[0.96943846821278801, 0.92500069722109524, 0.90054132716911994],
[0.97168370828280637, 0.93111172511906315, 0.90838602746753583],
[0.97401007150762708, 0.93720737979172641, 0.91628050074369849],
[0.97642241522544648, 0.94328701859588482, 0.92421908041673584],
[0.97892593009619266, 0.94934995048448856, 0.93219543939375959],
[0.98152628113362994, 0.95539540214512064, 0.94020237094367043],
[0.98422983442650402, 0.961422, 0.94823144567518158],
[0.98704404156159586, 0.96742999409572661, 0.95627244276303480],
[0.98997814141784468, 0.97341645297730917, 0.96431233137704686],
[0.99304458483810565, 0.97937954701062779, 0.972333],
[0.99626244166578382, 0.98531538415026876, 0.98030766171186079],
[0.99966832487098844, 0.99121572428693094, 0.98818337251770061],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
