from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000333947091413827266, 0.000356553628165449628, 0.000360209155804038352],
[0.000933053353178839783, 0.00102890040246225701, 0.00104490011134463086],
[0.00177281939136416972, 0.00200222572972924735, 0.00204111511610012781],
[0.00282785281151196445, 0.00325988773117477735, 0.00333391218911108450],
[0.00408045302815818710, 0.00479177379857352766, 0.00491467790836182163],
[0.00551703150594231619, 0.00659113379942955022, 0.00677803387126475320],
[0.00712655178535198490, 0.00865324926807105148, 0.00892054632691054519],
[0.00889970842871967011, 0.0109747526085135876, 0.0113400700805498782],
[0.0108284421159324483, 0.0135532346828249554, 0.0140353723651846455],
[0.0129056297688133360, 0.0163869994258517802, 0.0170058988180008530],
[0.0151248747492332206, 0.0194749009793365041, 0.0202516188970685192],
[0.0174803583757352637, 0.0228162305501455331, 0.0237729189915204427],
[0.0199667310771576810, 0.0264106349219107896, 0.0275705257886539219],
[0.0225790302859283261, 0.0302580560193124355, 0.0316454496999899748],
[0.0253126170114682941, 0.0343586849856477236, 0.0359989420733105650],
[0.0281631258490025321, 0.0387129265694785979, 0.0406291334651812178],
[0.0311264248929551610, 0.0432167726144153594, 0.0452891398786936308],
[0.0341985831082688430, 0.0476688815314761996, 0.0499087261882912511],
[0.0373758434215251956, 0.0520803424614513302, 0.0544916597465239308],
[0.0406508393358581618, 0.0564545470207787545, 0.0590412647475241012],
[0.0438843065164404092, 0.0607945083938870659, 0.0635604940575241195],
[0.0470609304649960633, 0.0651029196144949362, 0.0680519866138314111],
[0.0501833285264231196, 0.0693822006848861805, 0.0725181138059024788],
[0.0532538536190496140, 0.0736345370563429857, 0.0769610173332353764],
[0.0562746289444563327, 0.0778619113434250443, 0.0813826403908240181],
[0.0592475768984448078, 0.0820661296810507035, 0.0857847535740190459],
[0.0621744433336278920, 0.0862488437976712263, 0.0901689765626114692],
[0.0650568180619781056, 0.0904115696314821693, 0.0945367964003697159],
[0.0678961522904105996, 0.0945557031335017562, 0.0988895830052677893],
[0.0706937735353368180, 0.0986825337636323685, 0.103228602409572767],
[0.0734508984500487627, 0.102793256081129325, 0.107555028125556035],
[0.0761686439125767722, 0.106888979750503016, 0.111869950953214198],
[0.0788480366546914224, 0.110970738221580711, 0.116174387484890618],
[0.0814900216603044736, 0.115039496293733973, 0.120469287513619627],
[0.0840954695200997193, 0.119096156735893494, 0.124755540514154301],
[0.0866651828963082849, 0.123141566103478956, 0.129033981335570147],
[0.0891999022251357965, 0.127176519868993504, 0.133305395220305462],
[0.0917003107630901815, 0.131201766963395722, 0.137570522245152232],
[0.0941670390661596968, 0.135218013809460552, 0.141830061264040214],
[0.0966006689767205384, 0.139225927915370584, 0.146084673419690836],
[0.0990017371814545244, 0.143226141086163605, 0.150334985280760808],
[0.101370738394011312, 0.147219252301896336, 0.154581591652468070],
[0.103708128208233663, 0.151205830304143696, 0.158825058101572464],
[0.106014325661142161, 0.155186415926416604, 0.163065923230637649],
[0.108289715539357567, 0.159161524199040116, 0.167304700731551681],
[0.110534650457988104, 0.163131646254801033, 0.171541881244115096],
[0.112749452737073458, 0.167097251058107937, 0.175777934042006062],
[0.114934416097356273, 0.171058786977385968, 0.180013308565458552],
[0.117089807194312473, 0.175016683217865343, 0.184248435817476852],
[0.119215867006953191, 0.178971351129737555, 0.188483729638256325],
[0.121312812095830863, 0.182923185404782501, 0.192719587870653908],
[0.123380835742914807, 0.186872565172963495, 0.196956393427965337],
[0.125420108984418105, 0.190819855009112915, 0.201194515273921570],
[0.127430781546377575, 0.194765405858629365, 0.205434309323638098],
[0.129412982691581829, 0.198709555890080547, 0.209676119273244366],
[0.131366821985458210, 0.202652631281708184, 0.213920277365037714],
[0.133292389987628740, 0.206594946948049307, 0.218167105094237756],
[0.135189758875076532, 0.210536807212207355, 0.222416913862759247],
[0.137058983002188300, 0.214478506428708970, 0.226670005584822920],
[0.138900099402308824, 0.218420329561361648, 0.230926673248723069],
[0.140713128234935148, 0.222362552720064000, 0.235187201438612603],
[0.142498073182190460, 0.226305443660117900, 0.239451866819773651],
[0.144254921797794144, 0.230249262247228692, 0.243720938590486491],
[0.145983645811348234, 0.234194260891073591, 0.247994678903306343],
[0.147684201390449382, 0.238140684950022774, 0.252273343258274996],
[0.149356529362801915, 0.242088773109358002, 0.256557180870355006],
[0.151000555400208042, 0.246038757735112967, 0.260846435013154965],
[0.152616190166109861, 0.249990865205449997, 0.265141343340822400],
[0.154203329428055341, 0.253945316221324657, 0.269442138189804670],
[0.155761854136279715, 0.257902326098021884, 0.273749046862025003],
[0.157291630469392790, 0.261862105039007365, 0.278062291890883273],
[0.158792509847935970, 0.265824858393413965, 0.282382091291365434],
[0.160264328916439602, 0.269790786898362556, 0.286708658795432614],
[0.161706909494388012, 0.273760086907220979, 0.291042204073760136],
[0.163120058496380421, 0.277732950604803352, 0.295382932944809939],
[0.164503567821593588, 0.281709566210430307, 0.299731047572131370],
[0.165857214212466547, 0.285690118169705909, 0.304086746650714501],
[0.167180759082452668, 0.289674787335773287, 0.308450225583154269],
[0.168473948312422739, 0.293663751140778861, 0.312821676646319102],
[0.169736512015243784, 0.297657183758194222, 0.317201289149167620],
[0.170968164267844308, 0.301655256256600224, 0.321589249582297010],
[0.172168602809914251, 0.305658136745504405, 0.325985741759775682],
[0.173337508708261562, 0.309665990513693756, 0.330390946953755871],
[0.174474545985635748, 0.313678980160610354, 0.334805044022334353],
[0.175579361212635066, 0.317697265721190836, 0.339228209531089120],
[0.176651583061187778, 0.321721004784573383, 0.343660617868691898],
[0.177690821817803518, 0.325750352607058535, 0.348102441356962777],
[0.178696668854642693, 0.329785462219673031, 0.352553850355712128],
[0.179668696056187238, 0.333826484530660994, 0.357015013362684153],
[0.180606455199033816, 0.337873568423212478, 0.361486097108900950],
[0.181509477282075199, 0.341926860848708936, 0.365967266649678991],
[0.182377271804037872, 0.345986506915746062, 0.370458685451575620],
[0.183209325984989901, 0.350052649975186092, 0.374960515475501799],
[0.184005103928104957, 0.354125431701462545, 0.379472917256226228],
[0.184764045717562081, 0.358204992170354342, 0.383996049978474363],
[0.185485566448035377, 0.362291469933425703, 0.388530071549819889],
[0.186169055180721632, 0.366385002089324285, 0.393075138670546165],
[0.186813873820377702, 0.370485724352103363, 0.397631406900649242],
[0.187419355907184837, 0.374593771116739638, 0.402199030724140427],
[0.187984805316653569, 0.378709275521993127, 0.406778163610793331],
[0.188509494860030519, 0.382832369510757276, 0.411368958075482294],
[0.188992664776831687, 0.386963183888031581, 0.415971565735233251],
[0.189433521110247138, 0.391101848376642025, 0.420586137364115209],
[0.189831233955102458, 0.395248491670830204, 0.425212822946087199],
[0.190184935566908408, 0.399403241487820471, 0.429851771725905440],
[0.190493718319228178, 0.403566224617471936, 0.434503132258195313],
[0.190756632495086287, 0.407737566970111542, 0.439167052454782270],
[0.190972683896504181, 0.411917393622643513, 0.443843679630372079],
[0.191140831254307475, 0.416105828863019667, 0.448533160546664977],
[0.191259983418155144, 0.420302996233157589, 0.453235641454983462],
[0.191328996304335142, 0.424509018570380037, 0.457951268137490930],
[0.191346669575957612, 0.428724018047449196, 0.462680185947067557],
[0.191311743026923109, 0.432948116211270440, 0.467422539845917362],
[0.191222892637351399, 0.437181434020323500, 0.472178474442964180],
[0.191078726263742976, 0.441424091880889047, 0.476948134030098225],
[0.190877778922212138, 0.445676209682127011, 0.481731662617333300],
[0.190618507617253463, 0.449937906830060019, 0.486529203966922508],
[0.190299285661783391, 0.454209302280519311, 0.491340901626487192],
[0.189918396426266400, 0.458490514571097962, 0.496166898961207192],
[0.189474026445466265, 0.462781661852162352, 0.501007339185118084],
[0.188964257800499413, 0.467082861916962966, 0.505862365391555935],
[0.188387059680952818, 0.471394232230892107, 0.510732120582793381],
[0.187740279016699735, 0.475715889959922256, 0.515616747698907418],
[0.187021630050761889, 0.480047951998269273, 0.520516389645912403],
[0.186228682703136361, 0.484390534995313204, 0.525431189323194436],
[0.185358849549378341, 0.488743755381813860, 0.530361289650285284],
[0.184409371206529199, 0.493107729395452277, 0.535306833592998577],
[0.189105358789234068, 0.496889882289286711, 0.539121215386538233],
[0.199196828059898856, 0.500086887959176774, 0.541800525545793388],
[0.208921035035570135, 0.503290405992552592, 0.544490226746941919],
[0.218325693599587478, 0.506500552019458206, 0.547190369171643542],
[0.227449668832969076, 0.509717441089278855, 0.549901004247424496],
[0.236325085747779440, 0.512941187700270085, 0.552622184611535894],
[0.244978836931650346, 0.516171905828450961, 0.555353964077203388],
[0.253433685417673082, 0.519409708955881455, 0.558096397602144467],
[0.261709087697384768, 0.522654710098357400, 0.560849541259221374],
[0.269821818739742536, 0.525907021832548449, 0.563613452209115518],
[0.277786454064553989, 0.529166756322601128, 0.566388188674922133],
[0.285615746739858345, 0.532434025346236628, 0.569173809918559814],
[0.293320925887960660, 0.535708940320361648, 0.571970376218899013],
[0.300911935704390399, 0.538991612326219283, 0.574777948851530440],
[0.308397628799165213, 0.542282152134103135, 0.577596590070083793],
[0.315785924044550248, 0.545580670227648778, 0.580426363089023622],
[0.323083936541921135, 0.548887276827731196, 0.583267332067854416],
[0.330298085468702152, 0.552202081915986853, 0.586119562096663160],
[0.337434184214652211, 0.555525195257978055, 0.588983119182941661],
[0.344497516217607991, 0.558856726426015360, 0.591858070239629108],
[0.351492899161454930, 0.562196784821669238, 0.594744483074322261],
[0.358424739634389200, 0.565545479697973308, 0.597642426379604963],
[0.365297079914100875, 0.568902920181347915, 0.600551969724445689],
[0.372113638214301434, 0.572269215293256139, 0.603473183546625713],
[0.378877843468612419, 0.575644473971614001, 0.606406139146154710],
[0.385592865525459238, 0.579028805091967080, 0.609350908679639924],
[0.392261641467776812, 0.582422317488450081, 0.612307565155569500],
[0.398886898644212118, 0.585825119974550002, 0.615276182430484764],
[0.405471174896810060, 0.589237321363683120, 0.618256835206009270],
[0.412016836388133134, 0.592659030489609773, 0.621249599026708177],
[0.418526093364421925, 0.596090356226690044, 0.624254550278756204],
[0.425001014137175726, 0.599531407510011327, 0.627271766189389846],
[0.431443537521225939, 0.602982293355388888, 0.630301324827125975],
[0.437855483930801592, 0.606443122879264940, 0.633343305102729182],
[0.444238565304890587, 0.609914005318520358, 0.636397786770913632],
[0.450594394008017762, 0.613395050050205448, 0.639464850432760135],
[0.456924490831628838, 0.616886366611221648, 0.642544577538849193],
[0.463230292203615834, 0.620388064717953935, 0.645637050393087164],
[0.469513156698762868, 0.623900254285879807, 0.648742352157227531],
[0.475774370930326762, 0.627423045449167605, 0.651860566856075185],
[0.482015154892396269, 0.630956548580281384, 0.654991779383377271],
[0.488236666813588738, 0.634500874309609775, 0.658136075508389484],
[0.494440007575025098, 0.638056133545133353, 0.661293541883129832],
[0.500626224738769943, 0.641622437492148978, 0.664464266050309060],
[0.506796316227396293, 0.645199897673074396, 0.667648336451949209],
[0.512951233690360886, 0.648788625947342768, 0.670845842438699713],
[0.519091885588649937, 0.652388734531414438, 0.674056874279848506],
[0.525219140025532383, 0.656000336018918273, 0.677281523174048994],
[0.531333827348013266, 0.659623543400955525, 0.680519881260770232],
[0.537436742540900458, 0.663258470086568130, 0.683772041632483507],
[0.543528647432841128, 0.666905229923419052, 0.687038098347611870],
[0.549610272731701266, 0.670563937218685013, 0.690318146444248604],
[0.555682319904719613, 0.674234706760201141, 0.693612281954682830],
[0.561745462917226157, 0.677917653837883716, 0.696920601920745342],
[0.567800349842347063, 0.681612894265444025, 0.700243204410010200],
[0.573847604352748286, 0.685320544402444054, 0.703580188532885620],
[0.579887827104406672, 0.689040721176710225, 0.706931654460624004],
[0.585921597021374807, 0.692773542107144369, 0.710297703444297435],
[0.591949472489631034, 0.696519125326961364, 0.713678437834777246],
[0.597971992467266511, 0.700277589607404827, 0.717073961103772861],
[0.603989677517623447, 0.704049054381966410, 0.720484377865978853],
[0.610003030771298804, 0.707833639771158984, 0.723909793902385523],
[0.616012538822417577, 0.711631466607898555, 0.727350316184834922],
[0.622018672564014552, 0.715442656463523341, 0.730806052901871284],
[0.628021887966923709, 0.719267331674541488, 0.734277113485984123],
[0.634022626806208800, 0.723105615370121080, 0.737763608642321378],
[0.640021317338680284, 0.726957631500430357, 0.741265650378970520],
[0.646018374934820505, 0.730823504865872331, 0.744783352038915769],
[0.652014202668039888, 0.734703361147296174, 0.748316828333785766],
[0.658009191863942688, 0.738597326937276200, 0.751866195379523261],
[0.664003722612018010, 0.742505529772541806, 0.755431570734115043],
[0.669998164241880856, 0.746428098167667864, 0.759013073437545760],
[0.675992875766056489, 0.750365161650125345, 0.762610824054145375],
[0.681988206290974452, 0.754316850796828198, 0.766224944717527778],
[0.687984495397726437, 0.758283297272301260, 0.769855559178332260],
[0.693982073493922935, 0.762264633868622199, 0.773502792855011778],
[0.699981262137781446, 0.766260994547310115, 0.777166772887932233],
[0.705982374335447749, 0.770272514483331672, 0.780847628197082866],
[0.711985714812327530, 0.774299330111446138, 0.784545489543726715],
[0.717991580259076723, 0.778341579175111486, 0.788260489596375513],
[0.724000259552713854, 0.782399400778207132, 0.791992763001497679],
[0.730012033953096662, 0.786472935439876730, 0.795742446459442698],
[0.736027177274921174, 0.790562325152799006, 0.799509678806105573],
[0.742045956035101151, 0.794667713445269541, 0.803294601100946970],
[0.748068629575237343, 0.798789245447507290, 0.807097356722046633],
[0.754095450158675185, 0.802927067962655894, 0.810918091468969204],
[0.760126663041350903, 0.807081329543027359, 0.814756953674337536],
[0.766162506515422948, 0.811252180572196280, 0.818614094325125441],
[0.772203211924303745, 0.815439773353660469, 0.822489667194834406],
[0.778249003647436877, 0.819644262206875807, 0.826383828987904967],
[0.784300099052708033, 0.823865803571608324, 0.830296739497908498],
[0.790356708413939013, 0.828104556121683877, 0.834228561781316769],
[0.796419034790356584, 0.832360680889417615, 0.838179462348950022],
[0.802487273864342043, 0.836634341402172299, 0.842149611377541629],
[0.808561613732891926, 0.840925703832813620, 0.846139182944294244],
[0.814642234647458108, 0.845234937166067901, 0.850148355287807078],
[0.820729308695593906, 0.849562213383229681, 0.854177311099385217],
[0.826822999416588877, 0.853907707668072446, 0.858226237849490259],
[0.832923461341611770, 0.858271598637407873, 0.862295328155046836],
[0.839030839446813448, 0.862654068600434143, 0.866384780194461968],
[0.845145268505384406, 0.867055303851873238, 0.870494798178666929],
[0.851266872321395640, 0.871475495004989109, 0.874625592888311876],
[0.857395762824209928, 0.875914837371980393, 0.878777382289525288],
[0.863532038997250506, 0.880373531400963083, 0.882950392243589177],
[0.869675785608318597, 0.884851783181065943, 0.887144857329646985],
[0.875827071700150062, 0.889349805030078988, 0.891361021804466747],
[0.881985948788785001, 0.893867816182980834, 0.895599140729711585],
[0.888152448702433372, 0.898406043604800475, 0.899859481305728015],
[0.894326580973626828, 0.902964722958179755, 0.904142324462358427],
[0.900508329670195562, 0.907544099765434154, 0.908447966772967908],
[0.906697649513013792, 0.912144430817922402, 0.912776722779556571],
[0.912894461075526520, 0.916765985903855829, 0.917128927847318365],
[0.919098644784246077, 0.921409049951890657, 0.921504941710662107],
[0.925310033328739734, 0.926073925726119018, 0.925905152936436271],
[0.931528401924179294, 0.930760937265225685, 0.930329984625293149],
[0.937753455616147646, 0.935470434346084678, 0.934779901817905934],
[0.943984812417698049, 0.940202798390022188, 0.939255421302568560],
[0.950221980417405354, 0.944958450454649546, 0.943757124895080235],
[0.956464325894026524, 0.949737862334499305, 0.948285677895641554],
[0.962711027518993512, 0.954541572467208055, 0.952841855550002337],
[0.968961008073176422, 0.959370209600754476, 0.957426582440443208],
[0.975212827803888627, 0.964224529690351884, 0.962040993921848497],
[0.981464507712198064, 0.969105476941799604, 0.966686537802568302],
[0.987713212834580134, 0.974014293062327785, 0.971365156389580764],
[0.993954618864948292, 0.978952735454610923, 0.976079650186416070],
[1.00000000000000000, 0.983923591818509302, 0.980834535932483154],
[1.00000000000000000, 0.988932309462959069, 0.985638764160646663],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
