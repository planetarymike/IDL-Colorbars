from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00030135830486738085, 0.00035461882939667369, 0.00036396301593125363],
[0.00081871883758886043, 0.0010306691112249280, 0.00106867],
[0.0015194607235569115, 0.00201685, 0.0021073747535993916],
[0.0023718704149277010, 0.0032994651655791490, 0.0034703452049029372],
[0.0033524053199567127, 0.0048709044947836989, 0.00515362],
[0.00444193, 0.0067266858325867379, 0.0071561744594931202],
[0.0056240804056073446, 0.0088642010656219475, 0.0094787091122006967],
[0.0068843400321084124, 0.011282085466192457, 0.012123108045680791],
[0.0082095622177471208, 0.013979854356875337, 0.015092080784555741],
[0.00958761, 0.0169577, 0.018388959588733947],
[0.011007153164210161, 0.020216223599598994, 0.022017562657570197],
[0.012457471438540086, 0.023756566224756571, 0.025982099299869051],
[0.013928376014502033, 0.027580097938924068, 0.030287101460613655],
[0.0154101, 0.031688479262806858, 0.034937372530057145],
[0.016893258599689057, 0.036083594574446549, 0.039937947884446608],
[0.0183688, 0.0407614, 0.045056110086377173],
[0.019827782005119119, 0.045467668230429949, 0.0501365],
[0.021261775340752995, 0.050136277456960525, 0.055189795620848740],
[0.022662387532135224, 0.054770918831490066, 0.060219514293156855],
[0.024021471961978767, 0.059374795729024092, 0.065228702482471396],
[0.025331067346281925, 0.063950740191892313, 0.070220051638102410],
[0.026583386229476567, 0.068501269486529681, 0.075195943635137513],
[0.027770806275409066, 0.073028631795536730, 0.080158495028830878],
[0.028885863889873683, 0.077534843505424528, 0.085109593111679233],
[0.029921249809413721, 0.082021719915397251, 0.090050925559388373],
[0.030869806365579133, 0.086490900739981419, 0.094984005008165839],
[0.031724526190565892, 0.090943871450874458, 0.099910189584923120],
[0.032478552173822090, 0.095381981263172655, 0.10483070017674315],
[0.033125178513184708, 0.099806458392639685, 0.10974663505130183],
[0.033657852730712409, 0.10421842307649501, 0.11465898230870342],
[0.0340702, 0.10861889874821712, 0.11956863054553182],
[0.034355919504064206, 0.11300882167857620, 0.12447637803545497],
[0.034509003311809484, 0.11738904933446184, 0.12938294067152850],
[0.0345235, 0.12176, 0.13428895886909362],
[0.034393761231919118, 0.12612349744441620, 0.13919500359176362],
[0.034114158696257148, 0.13047909992087770, 0.14410158163409398],
[0.033679358178386055, 0.13482778169798229, 0.14900914027145037],
[0.033084192637204316, 0.13917009913005238, 0.15391807136901320],
[0.032323696227461472, 0.14350656219807453, 0.15882871502682133],
[0.031393111906894318, 0.14783763796996235, 0.16374136282550980],
[0.030287899356746546, 0.15216375369580434, 0.16865626072736750],
[0.029003743185490899, 0.15648529958558832, 0.17357361167907637],
[0.027536561387148401, 0.16080263130986105, 0.178494],
[0.025882514026939366, 0.165116, 0.18341628327947346],
[0.024038012128052389, 0.16942591558323963, 0.18834181474333919],
[0.021999726734089241, 0.17373242606171660, 0.19327022456288859],
[0.019764598122385867, 0.17803584178488163, 0.19820153167987686],
[0.017329845143901387, 0.18233637570725236, 0.20313572323533058],
[0.014693, 0.18663421706454708, 0.20807275592899871],
[0.011851791092000245, 0.19092953267733431, 0.21301255727949631],
[0.0088044059410485910, 0.19522246815288335, 0.217955],
[0.0055492474528634943, 0.19951314899641853, 0.22290003708498002],
[0.0020850702057974941, 0.20380168164163504, 0.22784743486459419],
[-0.0015890352824170285, 0.20808815440917017, 0.23279704195732903],
[-0.0054736329923977742, 0.21237263840072074, 0.23774865620660168],
[-0.0095689319032157220, 0.21665518833561648, 0.242702],
[-0.013874776578486427, 0.22093584333589583, 0.24765698292178512],
[-0.018390637862172116, 0.22521462766526668, 0.25261317895483459],
[-0.0231156, 0.22949155142674205, 0.25757035088173952],
[-0.028048370164800270, 0.23376661122322828, 0.26252818924437404],
[-0.033187232545977038, 0.23803979078488929, 0.26748636545268856],
[-0.038530076799473644, 0.24231106156670534, 0.27244453251711959],
[-0.044074371109323440, 0.24658038331929316, 0.27740232576890195],
[-0.049817157748020702, 0.25084770463573108, 0.282359],
[-0.055755045204636859, 0.255113, 0.28731524802171471],
[-0.0618842, 0.25937608767725051, 0.29226956565399131],
[-0.0682003, 0.263637, 0.297222],
[-0.074698733865652706, 0.26789559577923328, 0.30217177293919384],
[-0.081374175683544270, 0.27215178904044057, 0.30711876408520922],
[-0.088221000706562191, 0.27640546728597565, 0.31206239278831321],
[-0.095233067753077882, 0.28065651476107800, 0.31700217817920734],
[-0.10240375639621663, 0.28490480831313836, 0.321938],
[-0.10972596211125246, 0.28915021780804828, 0.32686823930918324],
[-0.11719209189605427, 0.29339260653843957, 0.33179349918843715],
[-0.12479406038394022, 0.29763183162463469, 0.33671288545748007],
[-0.13252328646747888, 0.30186774440903053, 0.34162586739149758],
[-0.14037069045110251, 0.30610019084456419, 0.346532],
[-0.14832669174926050, 0.31032901187781647, 0.35143045697973718],
[-0.15638120714627826, 0.31455404382725616, 0.35632096700071159],
[-0.16452364963268718, 0.31877511875704384, 0.36120287889368363],
[-0.17274292783206110, 0.32299206484676696, 0.36607563017044797],
[-0.18102744603107809, 0.32720470675741903, 0.37093865421769456],
[-0.18936510482445706, 0.33141286599388142, 0.37579138105037124],
[-0.197743, 0.33561636126411792, 0.38063323806891480],
[-0.20614893636862808, 0.33981500883526067, 0.38546365081982037],
[-0.21456840646008340, 0.34400862288670592, 0.39028204375896269],
[-0.22298761756913080, 0.348197, 0.39508784101701255],
[-0.23139198367893993, 0.35237999880780568, 0.39988046716623771],
[-0.239766, 0.35655738173526680, 0.40465934798792486],
[-0.24809540989626325, 0.360729, 0.40942391123960892],
[-0.25636288718853501, 0.36489458437414135, 0.41417358742125260],
[-0.26455236616028260, 0.36905402193118608, 0.41890781053947629],
[-0.27264688693726413, 0.37320709582849793, 0.42362601886890894],
[-0.280629, 0.37735361591251815, 0.42832765570969089],
[-0.28848095278669894, 0.38149339299047219, 0.43301217014013743],
[-0.29618434244632663, 0.38562623915379962, 0.43767901776355572],
[-0.30372048187522960, 0.38975196809810625, 0.44232766144816699],
[-0.31107023188490207, 0.39387039543947327, 0.44695757205910241],
[-0.318214, 0.39798133902695060, 0.451568],
[-0.32513199086521472, 0.40208461925104044, 0.456159],
[-0.33180374061744444, 0.40618005934798274, 0.46073],
[-0.33820860730921126, 0.41026748569962879, 0.46527962115864535],
[-0.34432554526321285, 0.41434672812869788, 0.46980825928735587],
[-0.350133, 0.41841762018919831, 0.47431519719310861],
[-0.35560975549996954, 0.42247999945178666, 0.4788],
[-0.36073328294537094, 0.42653370778384814, 0.48326217157697310],
[-0.36548142193082678, 0.43057859162406470, 0.48770134188934949],
[-0.36983156310647874, 0.434615, 0.492117],
[-0.37376083083547862, 0.43864129604719038, 0.49650899229104300],
[-0.37724609963694611, 0.44265883475336937, 0.50087669579188421],
[-0.380264, 0.44666698572117319, 0.50521982726746983],
[-0.38279099045284026, 0.45066562215553269, 0.50953803945420073],
[-0.38480326512068480, 0.45465462335168222, 0.51383100240544766],
[-0.38627688130465226, 0.45863387492485069, 0.51809840395835261],
[-0.38718772248914513, 0.46260326903267784, 0.52233995017658452],
[-0.38751152748373408, 0.46656270459015053, 0.52655536576840123],
[-0.38722390875581991, 0.47051208747686751, 0.53074439447942057],
[-0.38630037090935593, 0.47445133073644324, 0.53490679945955943],
[-0.38471632927765814, 0.47838035476787716, 0.53904236360364788],
[-0.38244712859760960, 0.48229908750870937, 0.54315088986528459],
[-0.37946806173296094, 0.48620746460981706, 0.54723220154356345],
[-0.37575438841384246, 0.49010542960168552, 0.55128614254234720],
[-0.37128135396036321, 0.49399293405203032, 0.55531257760183139],
[-0.36602420795755508, 0.49786993771462723, 0.55931139250220163],
[-0.35995822284981088, 0.50173640866924418, 0.56328249423924104],
[-0.35305871242298559, 0.505592, 0.56722581117181514],
[-0.34530105014275769, 0.50943766718000139, 0.571141],
[-0.33666068731854437, 0.51327243365834974, 0.57502891156235281],
[-0.32711317106249144, 0.51709662548915891, 0.57888865948706458],
[-0.31663416201417832, 0.52091025416281855, 0.58272055163941317],
[-0.30519945180203550, 0.52471334014328486, 0.58652462442347508],
[-0.29278498021349614, 0.52850591294343086, 0.590301],
[-0.27936685204660811, 0.53228801119099234, 0.59404956575835621],
[-0.26492135361699937, 0.53605968268511817, 0.59777061520604358],
[-0.24942496889486604, 0.53982098444352333, 0.60146420690635305],
[-0.23285439524785614, 0.54357198274027441, 0.60513048483450638],
[-0.21518655876672407, 0.54731275313423944, 0.60876961413089514],
[-0.19639862915176498, 0.55104338048824475, 0.61238178092596329],
[-0.17646803413957809, 0.55476395897901787, 0.61596719214107165],
[-0.15537247345016461, 0.55847459209796246, 0.61952607526600201],
[-0.13308993223663745, 0.56217539264288063, 0.62305867811380378],
[-0.10959869402019203, 0.56586648270071738, 0.62656526855371497],
[-0.084877353094878538, 0.56954799362145092, 0.630046],
[-0.058904826387874552, 0.57322006598324837, 0.63350158221800812],
[-0.031660364762154308, 0.57688284954901481, 0.63693193876676868],
[-0.0031235637501318657, 0.58053650321448769, 0.640338],
[0.026725626292147808, 0.58418119494802956, 0.64371877599437888],
[0.055840212042790889, 0.58781710172227919, 0.64707600157602285],
[0.078467561195860180, 0.59144440943784771, 0.65041],
[0.097399867157916292, 0.59506331283923741, 0.65372006182044951],
[0.11412028563681653, 0.59867401542317888, 0.65700774596528166],
[0.12934885007400484, 0.60227672933959420, 0.66027312667663762],
[0.14349635392317942, 0.60587167528539765, 0.66351666936885556],
[0.15682176510294207, 0.60945908239134683, 0.66673885490333495],
[0.16949989299635279, 0.613039, 0.66994017911512549],
[0.18165477894790638, 0.616612, 0.67312115233022540],
[0.193378, 0.62017848592319502, 0.67628229887455538],
[0.20473858750645241, 0.62373819332478742, 0.679424],
[0.21579102252094135, 0.62729162963126517, 0.68254727625743483],
[0.22657808594709150, 0.63083907184122301, 0.68565222123078584],
[0.23713443614163043, 0.63438080442069489, 0.68873956677788106],
[0.24748846030147287, 0.63791711914322680, 0.69180989963418760],
[0.25766369564323754, 0.64144831492528254, 0.69486381746723414],
[0.26767986641265107, 0.64497469765725690, 0.69790192835363951],
[0.277554, 0.64849658003038257, 0.70092485025519646],
[0.28729929092830542, 0.65201428135981299, 0.70393321049484559],
[0.29692899246772381, 0.65552812740416133, 0.70692764523338791],
[0.30645332604277675, 0.65903845018178897, 0.70990879894773584],
[0.31588147935571093, 0.66254558778413863, 0.71287732391149761],
[0.32522148373914878, 0.66604988418639410, 0.71583387967865708],
[0.33448039291998249, 0.66955168905576035, 0.71877913257108972],
[0.343664, 0.67305135755766987, 0.72171375517063663],
[0.35277910018851272, 0.67654925016019107, 0.72463842581641991],
[0.36182930357218712, 0.68004573243694744, 0.72755382810807701],
[0.37081940393029861, 0.68354117486883947, 0.73046065041554076],
[0.37975330491308140, 0.68703595264485040, 0.73335958539599422],
[0.38863450719616910, 0.69053044546225317, 0.73625132951857775],
[0.39746615819387637, 0.69402503732648846, 0.73913658259742043],
[0.40625109450884545, 0.69752, 0.74201604733352622],
[0.41499187835917672, 0.70101607455745507, 0.74489],
[0.423691, 0.70451330767621734, 0.74776043433332584],
[0.43235004982541925, 0.70801221494806854, 0.75062677244448584],
[0.44097145218363704, 0.71151319892675979, 0.75349015306148082],
[0.44955677582747394, 0.715017, 0.75635128679255437],
[0.45810760706779890, 0.71852302261075396, 0.75921088459718333],
[0.46662539462913372, 0.72203268223398032, 0.76206965740298505],
[0.47511146364104390, 0.72554605801771432, 0.76492831573493836],
[0.48356702800690449, 0.72906356618016721, 0.76778756935724313],
[0.49199320136837094, 0.73258562510828240, 0.77064812692814755],
[0.50039100684995608, 0.73611265517633451, 0.77351069566804753],
[0.50876138574025331, 0.739645, 0.77637598104114725],
[0.51710520524312575, 0.74318331910175694, 0.77924468645096689],
[0.52542326541280404, 0.74672780206123024, 0.78211751294996046],
[0.53371630537066461, 0.75027895402855294, 0.78499515896352023],
[0.54198500888778955, 0.75383720272327037, 0.78787832002861247],
[0.55023000940589217, 0.75740297684574298, 0.79076768854731649],
[0.55845189455952748, 0.760977, 0.79366395355551567],
[0.56665121025400522, 0.76455882017689891, 0.79656780050701126],
[0.57482846434657475, 0.76814975035614719, 0.79947991107332639],
[0.582984, 0.77174992763043604, 0.80240096295948715],
[0.59111864854978480, 0.77535978344912881, 0.80533162973608585],
[0.59923243250147529, 0.77897974942362114, 0.808273],
[0.60732586771097963, 0.78261, 0.81122448067973063],
[0.61539931574699647, 0.78625173842434593, 0.81418799003894382],
[0.62345311587197783, 0.789905, 0.81716376445664163],
[0.63148758685526218, 0.79356934665895307, 0.82015245490645239],
[0.63950302860692421, 0.79724633577407777, 0.82315470758238629],
[0.64749972364665165, 0.80093602234036332, 0.82617116385605827],
[0.65547793842012458, 0.804639, 0.82920246025404665],
[0.66343792447368943, 0.80835520747903200, 0.83224922845617255],
[0.67137991949668119, 0.81208556458596903, 0.83531209531563155],
[0.67930414823923047, 0.81583033615070211, 0.838392],
[0.68721082331216876, 0.81958995003082347, 0.84148860856866659],
[0.69510014587442970, 0.82336483351064571, 0.84460348504513028],
[0.70297230621201390, 0.82715541331933873, 0.84773692055746819],
[0.71082748421157060, 0.83096211566587019, 0.85088951897724552],
[0.718666, 0.83478536629227840, 0.85406188000211214],
[0.72648756286306648, 0.83862559054699670, 0.85725459937037707],
[0.73429277410501215, 0.84248321348024679, 0.86046826911269581],
[0.74208162440921566, 0.84635865996381387, 0.863703],
[0.74985424513408416, 0.85025235483793138, 0.866961],
[0.75761075787610732, 0.85416472308845681, 0.87024085173703347],
[0.76535127418030824, 0.85809619005809090, 0.87354418034610004],
[0.77307589511878727, 0.86204718169610495, 0.87687137579198959],
[0.780785, 0.86601812485185692, 0.880223],
[0.78847779926834127, 0.870009, 0.88359967749736190],
[0.79615522634873859, 0.87402157973435823, 0.88700193841574149],
[0.80381704378800123, 0.87805495305174230, 0.89043037711089867],
[0.81146328828614711, 0.88211000208374168, 0.89388557428082815],
[0.81909397980523513, 0.88618716464370861, 0.89736811388779014],
[0.82670911963261240, 0.89028688259419186, 0.90087858448528224],
[0.83430868806323333, 0.89441, 0.90441758076095924],
[0.841893, 0.89855577780142693, 0.907986],
[0.84946090974643040, 0.90272586777501906, 0.91158357090884823],
[0.85701339074952621, 0.90692034127100740, 0.91521180272416558],
[0.86455, 0.91113967733957024, 0.91887104161624300],
[0.87207039893896743, 0.91538436758799657, 0.92256194759767052],
[0.87957451792444841, 0.91965491877954264, 0.92628520425190475],
[0.88706201712293387, 0.923952, 0.93004152412313301],
[0.89453254029159623, 0.92827572682547332, 0.93383165541528113],
[0.90198564748153898, 0.93262710600171506, 0.93765639042925209],
[0.90942079667490006, 0.93700660224641774, 0.941517],
[0.91683731979692284, 0.94141486646286021, 0.94541312926897991],
[0.92423439078690162, 0.94585260290892703, 0.949347],
[0.93161098215859694, 0.95032058429933486, 0.95331946320985572],
[0.93896580435521759, 0.95481967283174052, 0.957332],
[0.94629721843231807, 0.95935085038287882, 0.96138499947683209],
[0.95360310553851668, 0.96391526353629609, 0.96548132334026671],
[0.96088066253371862, 0.96851429393038002, 0.96962272277000905],
[0.96812606238768428, 0.97314967489130100, 0.97381190990050370],
[0.97533384379042431, 0.97782370061539792, 0.97805253200184261],
[0.98249568690388245, 0.98253964483122436, 0.98234987133421015],
[0.98959751358335490, 0.98730275032262094, 0.98671250012503464],
[0.99661, 0.99212336898173958, 0.99115753526938388],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
