from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00035752279965303821, 0.00033036382751623264, 0.00038436817419908826],
[0.0010372539315231801, 0.00093613359244872931, 0.0011495460747114044],
[0.0020273138005390437, 0.0017968757169193807, 0.0022979618413111673],
[0.0033135295869756143, 0.0028911275473270377, 0.00382799],
[0.0048880120405509816, 0.0042043319046887496, 0.0057431666958687004],
[0.0067461049731726060, 0.0057255512712962716, 0.0080496029418648078],
[0.0088851088221455626, 0.0074460594752532045, 0.010755],
[0.011303629732140632, 0.0093586100635680396, 0.013867968186853147],
[0.0140012, 0.011457009137513179, 0.017398092832683613],
[0.016978070018855911, 0.013735845297516827, 0.021355418690004409],
[0.020235001351996885, 0.016190308733725314, 0.025750511948353049],
[0.023773210307646821, 0.018816064582396406, 0.030594349701220592],
[0.027594263979715476, 0.021609161164487054, 0.035898265178958673],
[0.031700027108741632, 0.024565961646374524, 0.041642873507166119],
[0.036092617384438204, 0.0276831, 0.0474452],
[0.040768151613762758, 0.030957400668269821, 0.0532304],
[0.045472539504222607, 0.034385926805327274, 0.059002771229595470],
[0.050140355940536029, 0.037965875036339518, 0.064766031071136460],
[0.054775339915518022, 0.041662861233392932, 0.070523377251924590],
[0.059380782000656156, 0.045309242267334300, 0.076277597157402149],
[0.063959595798245061, 0.048904585820561307, 0.082031127269212828],
[0.068514375016461127, 0.052451676446337157, 0.087786104990589114],
[0.073047439566567118, 0.055953019790966500, 0.093544410324974542],
[0.077560873166888811, 0.059410882752726248, 0.099307699726492532],
[0.0820566, 0.0628273, 0.10507743383866758],
[0.086536181890475100, 0.0662042, 0.11085490040959256],
[0.091001296817793703, 0.069543337070701761, 0.11664123336257021],
[0.0954533, 0.072846226675239351, 0.12243742877490366],
[0.099893467644682571, 0.076114380155182015, 0.12824435834966477],
[0.10432296450918768, 0.079349170192760110, 0.13406278083932885],
[0.10874285491386959, 0.082551878429393905, 0.13989335178464449],
[0.11315411249201318, 0.085723706308890091, 0.14573663185891703],
[0.11755762852866886, 0.088865784547514010, 0.15159309405129198],
[0.121954, 0.091979181446802422, 0.157463],
[0.126345, 0.095064910225481025, 0.16334705477953826],
[0.13072955135201628, 0.098123935515417399, 0.16924511282117763],
[0.13510960312700532, 0.101157, 0.17515748081834820],
[0.139485, 0.10416552528413675, 0.18108427195814725],
[0.14385734248650289, 0.10714982510972768, 0.18702553900006844],
[0.14822602741551932, 0.11011090093476653, 0.19298127711437080],
[0.15259184598975758, 0.11304954998599562, 0.19895142641074232],
[0.15695518901266203, 0.11596654780367174, 0.20493587420162135],
[0.16131640884525317, 0.11886265133055424, 0.21093445703807923],
[0.16567582162090941, 0.12173860172202689, 0.21694696255079071],
[0.17003370924953245, 0.12459512690758845, 0.22297313112412426],
[0.17439032123737397, 0.12743294392948715, 0.22901265742762700],
[0.17874587634525665, 0.13025276108052902, 0.23506519182599017],
[0.18310056410498965, 0.13305527985988735, 0.24113034168589875],
[0.18745454621123883, 0.13584119676303050, 0.24720767259587451],
[0.19180795780395279, 0.13861120491957074, 0.25329670951326277],
[0.19616090865461794, 0.14136599559084129, 0.25939693785084089],
[0.20051348426800986, 0.14410625953732040, 0.26550780451406475],
[0.20486574690974679, 0.14683268826454365, 0.27162871889872292],
[0.20921773656876541, 0.14954597515489559, 0.27775905385766741],
[0.21356947186279956, 0.152247, 0.28389814664433455],
[0.217921, 0.15493591238013701, 0.29004529983992727],
[0.22227215206141815, 0.15761396757208177, 0.29619978227037958],
[0.22662303483506052, 0.16028169219452901, 0.30236082991856966],
[0.23097354049825020, 0.16293980238911523, 0.30852764683664491],
[0.23532359286119203, 0.16558902086299942, 0.31469940606279650],
[0.239673, 0.16823007735433290, 0.32087525054633392],
[0.244022, 0.17086370901422709, 0.32705429408447151],
[0.24837002049992513, 0.17349066070697505, 0.33323562227383807],
[0.25271717203800531, 0.17611168523005760, 0.339418],
[0.25706325072392089, 0.17872754345529562, 0.34560133982271740],
[0.26140808940657678, 0.18133900439239054, 0.35178376819264479],
[0.265752, 0.18394684517601878, 0.35796456127825377],
[0.27009331390470570, 0.18655185097761526, 0.364143],
[0.27443330297251550, 0.18915481484297819, 0.370317],
[0.27877125973879274, 0.19175653745687407, 0.37648661513015008],
[0.28310695820067783, 0.194358, 0.38265024756259292],
[0.28744016237591080, 0.196959, 0.38880683311942471],
[0.29177062689855587, 0.19956237228047863, 0.39495523244351410],
[0.29609809761584205, 0.202167, 0.40109428995011437],
[0.30042231218667403, 0.20477504588872175, 0.40722283507610635],
[0.30474300068224636, 0.207387, 0.41333968355646394],
[0.30905988618906649, 0.21000252850006734, 0.41944363872733070],
[0.31337268541456603, 0.21262392927895657, 0.42553349285490161],
[0.31768110929539145, 0.21525156556813485, 0.43160802848914082],
[0.32198486360834094, 0.21788628649820174, 0.43766601984118808],
[0.326284, 0.22052894189011074, 0.44370623418315475],
[0.33057716452167152, 0.22318038128563345, 0.449727],
[0.33486510240887468, 0.22584145293464070, 0.45572837477383404],
[0.33914715453908401, 0.22851300274306680, 0.46170781375306119],
[0.34342301013320420, 0.23119587318565393, 0.46766450411423016],
[0.34769235696068723, 0.23389090218778896, 0.47359720010485157],
[0.35195488196090313, 0.23659892198094468, 0.47950465781091905],
[0.35621, 0.23932075793643293, 0.48538563666495777],
[0.36045821381011883, 0.24205722738234509, 0.49123890096114092],
[0.36469839596752235, 0.24480913840867852, 0.49706322137505882],
[0.36893050814666900, 0.24757728866579476, 0.50285737648565532],
[0.37315424241156087, 0.25036246416142344, 0.50862015429677165],
[0.37736929368620659, 0.253165, 0.51435035375567695],
[0.38157536035572676, 0.25598696950014455, 0.520047],
[0.385772, 0.25882780240410502, 0.52570827719175228],
[0.38995935428672251, 0.26168866433692217, 0.53133366735147802],
[0.39413670093950026, 0.26457026536804373, 0.53692181449681076],
[0.39830390291903084, 0.26747329697197481, 0.54247159477561047],
[0.40246068467738383, 0.27039843096243837, 0.54798190417514248],
[0.40660677756782559, 0.27334631846633461, 0.55345165994311996],
[0.41074192038141261, 0.27631758894209757, 0.55887980198378917],
[0.41486585987050600, 0.27931284924680250, 0.56426529422633909],
[0.41897835125828048, 0.28233268275612061, 0.56960712596298002],
[0.42307915873329260, 0.285378, 0.57490431315406421],
[0.42716805592820584, 0.28844828060403149, 0.580156],
[0.43124482638181555, 0.291545, 0.58536095866139526],
[0.43530926398350966, 0.29466855010254139, 0.59051859347326985],
[0.43936117339937769, 0.297819, 0.595628],
[0.44340037047919206, 0.30099723698616476, 0.60068816300358019],
[0.44742668264353963, 0.30420328787035617, 0.60569846649166770],
[0.45143994925042080, 0.30743764817460773, 0.61065808543148092],
[0.45544002194068983, 0.31070066067582519, 0.61556629135340601],
[0.45942676496176088, 0.31399263944231509, 0.62042239232575980],
[0.46340005546904201, 0.31731386970851216, 0.62522573380470725],
[0.46735978380464199, 0.32066460782415995, 0.62997569942849552],
[0.47130585375293882, 0.32404508127723103, 0.63467171175467874],
[0.47523818277264224, 0.32745548878950725, 0.63931323293916753],
[0.47915670220508472, 0.33089600048338574, 0.64389976535607651],
[0.48306135745849715, 0.334367, 0.64843085215750595],
[0.48695210816810758, 0.33786787539364982, 0.65290607777254506],
[0.49082892833196706, 0.34139943831900449, 0.65732506834495374],
[0.49469180642245342, 0.34496150564376388, 0.66168749210912203],
[0.49854074547350397, 0.34855410934861619, 0.66599305970408251],
[0.50237576314362409, 0.35217725519262821, 0.67024152442549645],
[0.50619689175486837, 0.355831, 0.67443268241570276],
[0.51000417830797362, 0.35951506887909823, 0.67856637279206666],
[0.51379768447393037, 0.36322962278179743, 0.68264247771402020],
[0.51757748656232117, 0.36697449238020779, 0.686661],
[0.52134367546681570, 0.37074956227636885, 0.69062167502034599],
[0.525096, 0.37455469512957940, 0.69452474669086184],
[0.52883564973584885, 0.37838973250143548, 0.69837019119489174],
[0.53256168900696632, 0.38225449572852371, 0.70215810480812457],
[0.53627462264621273, 0.38614878681901110, 0.70588862600348778],
[0.539975, 0.39007238936940519, 0.70956193511209764],
[0.54366183575769944, 0.39402506949783062, 0.71317825393106815],
[0.54733648090901066, 0.39800657679024021, 0.71673784527974227],
[0.550999, 0.40201664525607800, 0.72024101250601880],
[0.55464886332744356, 0.40605499429002623, 0.72368809894452912],
[0.55828704587146272, 0.41012132963658649, 0.72707948732851446],
[0.56191354073010780, 0.41421534435438734, 0.73041559915732002],
[0.56552860198792842, 0.41833671977724984, 0.73369689402150839],
[0.56913249579131475, 0.42248512646919967, 0.73692386888763273],
[0.57272550004088130, 0.42666, 0.74009705734479114],
[0.57630790407190002, 0.430862, 0.74321702881510943],
[0.57988000832370412, 0.43508909804465246, 0.746284],
[0.58344212399900464, 0.43934215292688139, 0.74929977267684056],
[0.58699457271404121, 0.44362046303281305, 0.75226385551105657],
[0.59053768614051572, 0.44792365371074511, 0.75517734044797558],
[0.59407180564023421, 0.452251, 0.758041],
[0.59759728189338190, 0.45660315672135149, 0.76085548964091731],
[0.60111447452135369, 0.46097870074794206, 0.76362171558034997],
[0.60462375170504745, 0.46537759031206544, 0.76634046501233677],
[0.60812548979951342, 0.46979943649030048, 0.76901258947889217],
[0.61162007294582354, 0.47424384978007911, 0.771639],
[0.61510789268104737, 0.47871044079567743, 0.77422050087295380],
[0.61858934754713735, 0.48319882093612915, 0.77675811894880664],
[0.62206484269957341, 0.48770860302462787, 0.77925277225299261],
[0.62553478951653252, 0.49223940191912369, 0.78170543408722082],
[0.629, 0.49679083509393457, 0.78411709893361481],
[0.63245971243509236, 0.50136252319229890, 0.78648878139006728],
[0.63591553891170471, 0.50595409054990348, 0.78882151510626231],
[0.63936751703682215, 0.51056516568952148, 0.79111635172221106],
[0.64281608351048947, 0.51519538178697444, 0.79337435981106075],
[0.64626167896265230, 0.51984437710872511, 0.79559662382788820],
[0.649705, 0.52451179542147841, 0.79778424306611340],
[0.653146, 0.52919728637422969, 0.79993833062309982],
[0.656585, 0.53390050585328219, 0.80206001237644098],
[0.660023, 0.53862111631078047, 0.80415042597234931],
[0.66346074228040441, 0.54335878706738550, 0.80621071982751869],
[0.66689793941495024, 0.54811319458974139, 0.80824205214572031],
[0.67033532992708511, 0.552884, 0.81024558995035312],
[0.67377337321844644, 0.557671, 0.81222250813408015],
[0.67721252956577394, 0.56247371475365304, 0.81417398852661005],
[0.68065325982238079, 0.567292, 0.81610121898163124],
[0.68409602512904299, 0.57212549013969949, 0.81800539248379756],
[0.68754128663450453, 0.57697395316919287, 0.81988770627665020],
[0.69098950522584523, 0.58183710666513244, 0.82174936101223850],
[0.69444114126885337, 0.58671469146695654, 0.82359155992318200],
[0.69789665435861559, 0.59160645704551273, 0.82541550801782537],
[0.70135650308039632, 0.59651216157023612, 0.827222],
[0.70482114478096103, 0.60143157195971853, 0.82901347600759090],
[0.70829103535040727, 0.60636446391648346, 0.83078990788942597],
[0.71176662901456766, 0.61131062194675123, 0.83255291148921751],
[0.71524837813802544, 0.61626983936597812, 0.83430368946865130],
[0.71873673303779662, 0.62124191829092201, 0.836043],
[0.72223214180762840, 0.62622666961899454, 0.83777336589151563],
[0.72573505015297002, 0.63122391299560965, 0.83949465447512361],
[0.72924590123654265, 0.63623347677024633, 0.84120849653970697],
[0.732765, 0.64125519794189856, 0.84291607602712138],
[0.73629319070314148, 0.64628892209458155, 0.84461857146095154],
[0.73983050145605467, 0.65133450332351517, 0.846317],
[0.74337749945174603, 0.65639180415260456, 0.84801299422841336],
[0.746935, 0.66146069544378960, 0.84970724720009738],
[0.75050226792792885, 0.66654105629881544, 0.85140106654165682],
[0.75408088558273301, 0.67163277395395415, 0.85309559680986147],
[0.75767088467589916, 0.67673574366815781, 0.85479197458621914],
[0.76127268026394734, 0.68184986860511865, 0.85649132814797580],
[0.76488668388859116, 0.68697505970964212, 0.85819477716723491],
[0.76851330353519831, 0.69211123557876175, 0.85990343243837031],
[0.772153, 0.69725832232792040, 0.86161839563394826],
[0.77580600487408846, 0.70241625345256808, 0.86334075908940577],
[0.77947288451973462, 0.70758496968546381, 0.86507160561679730],
[0.783154, 0.712764, 0.86681200834797612],
[0.78684966947957769, 0.71795455570917210, 0.86856303060766205],
[0.79056035104518385, 0.72315534181218233, 0.87032572581692536],
[0.79428640353109192, 0.72836674533574219, 0.87210113742773521],
[0.79802820615740833, 0.73358874092321391, 0.87389029888934089],
[0.80178613465742876, 0.73882130951977676, 0.87569423364739352],
[0.80556056133555964, 0.74406443820419488, 0.87751395517689101],
[0.80935185513586216, 0.749318, 0.87935046705022468],
[0.81316, 0.75458235378506244, 0.88120476304182704],
[0.81698650356580438, 0.75985714394188886, 0.88307782727119744],
[0.820831, 0.76514250034407871, 0.88497063438638168],
[0.82469296760115918, 0.77043843808277990, 0.88688414979035113],
[0.828574, 0.77574497729010195, 0.88881932991314938],
[0.83247408744460283, 0.78106214293969734, 0.89077712253316987],
[0.83639351893181069, 0.78638996464078570, 0.89275846715152551],
[0.84033266018839203, 0.79172847642468180, 0.89476429542415869],
[0.84429185498533066, 0.79707771652275161, 0.89679553165716552],
[0.84827144512348762, 0.80243772713444406, 0.89885309337181030],
[0.85227177066531545, 0.80780855418383968, 0.90093789194686424],
[0.85629317019040385, 0.81319024706282428, 0.90305083334734038],
[0.86033598107778841, 0.81858285835862232, 0.90519281895041337],
[0.86440053981852782, 0.82398644356299600, 0.90736474648140131],
[0.86848718236276245, 0.829401, 0.90956751107525558],
[0.87259624450634343, 0.83482677028734031, 0.91180200648213594],
[0.87672806232322609, 0.84026363436969687, 0.914069],
[0.88088297265114135, 0.84571171671305145, 0.91636976623863264],
[0.88506131363977791, 0.85117108205813608, 0.91870482451736235],
[0.889263, 0.85664179568117815, 0.92107520532309717],
[0.89349, 0.862124, 0.92348182049439365],
[0.89774033544396259, 0.86761752809713422, 0.92592559242668038],
[0.90201583056137014, 0.87312267466706872, 0.92840745730202101],
[0.90631649202590092, 0.87863942349248991, 0.93092836888528740],
[0.91064268272944648, 0.88416783229532503, 0.93348930301805355],
[0.91499477389310813, 0.88970795440245565, 0.93609126298057343],
[0.91937314690182970, 0.89526, 0.93873528594555478],
[0.92377819552354712, 0.90082352122024045, 0.94142245082124820],
[0.92821032862423170, 0.90639903655188669, 0.94415388788534083],
[0.93266997353169845, 0.911986, 0.94693079076007913],
[0.93715758026141571, 0.91758562027732027, 0.94975443149682837],
[0.94167362690811285, 0.92319667576452180, 0.95262617986387788],
[0.94621862664578049, 0.92881952751881980, 0.95554752843058643],
[0.95079313699761248, 0.93445410308748367, 0.95852012582888546],
[0.95539777239486223, 0.94010028880317908, 0.96154582185831516],
[0.96003322164926408, 0.94575791650127738, 0.96462673027896806],
[0.96470027303801886, 0.951427, 0.96776531899888030],
[0.96939985171124265, 0.957106, 0.97096454459044656],
[0.97413307815227335, 0.96279647885773734, 0.97422806251892269],
[0.97890136515102000, 0.96849618350107314, 0.97756057583147904],
[0.98370659184350207, 0.97420447750797356, 0.98096846082522016],
[0.98855145231529862, 0.97991967506172351, 0.98446101990819235],
[0.99344028027781139, 0.98563883779389638, 0.98805344439656284],
[0.99838166864479894, 0.991356, 0.99177622193322235],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
