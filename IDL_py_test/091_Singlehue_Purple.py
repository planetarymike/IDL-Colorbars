from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000352476982338700297, 0.000334240450128192829, 0.000365979593694792113],
[0.00101733745170087971, 0.000951474945790817738, 0.00107631699801770961],
[0.00198049557345402914, 0.00183300931597510223, 0.00212467906460947660],
[0.00322583818312607113, 0.00295891860870896436, 0.00350160704331499862],
[0.00474368502113916776, 0.00431607132795609923, 0.00520330029989295693],
[0.00652767647687457590, 0.00589489110731647361, 0.00722881283816887658],
[0.00857346456624027802, 0.00768797345355170473, 0.00957890594557191631],
[0.0108780429924200082, 0.00968936874569166322, 0.0122554746744643114],
[0.0134393609222162643, 0.0118941641654359952, 0.0152612243788187857],
[0.0162560814736200446, 0.0142982195015161715, 0.0185994727075158746],
[0.0193274214529780171, 0.0168979900583425963, 0.0222740209810385926],
[0.0226530400666434956, 0.0196904024616456098, 0.0262890668064075655],
[0.0262329588180548329, 0.0226727643801295335, 0.0306491426069872355],
[0.0300675021522584240, 0.0258426969560752485, 0.0353590711799890711],
[0.0341572524076715831, 0.0291980829895128712, 0.0404239328590167909],
[0.0385030149339104372, 0.0327370263786380469, 0.0455651143334298361],
[0.0430128276198423962, 0.0364578198068913895, 0.0506745492751855611],
[0.0474750682364282403, 0.0403589186029865085, 0.0557567555799909562],
[0.0518986671828514309, 0.0442646310400002588, 0.0608153427725371745],
[0.0562870242455625960, 0.0481218343229581555, 0.0658535021647009000],
[0.0606431633302049258, 0.0519350548064195436, 0.0708740753403269974],
[0.0649697903917319797, 0.0557070469776396668, 0.0758796088112272116],
[0.0692693402721855922, 0.0594402825089109452, 0.0808723981277255366],
[0.0735440149532533560, 0.0631369896796224461, 0.0858545238407260602],
[0.0777958150844436092, 0.0667991859018868539, 0.0908278810917289847],
[0.0820265661869796492, 0.0704287047800546129, 0.0957942041654222809],
[0.0862379405999860182, 0.0740272187947375315, 0.100755087020112211],
[0.0904314759907770549, 0.0775962584524233501, 0.105712000577171589],
[0.0946085910690867837, 0.0811372285561145490, 0.110666307376899087],
[0.0987705990082392848, 0.0846514221126867805, 0.115619274077644690],
[0.102918718972221462, 0.0881400322863396812, 0.120572082175940898],
[0.107054086067725540, 0.0916041627258023516, 0.125525837249350625],
[0.111177759978309615, 0.0950448365295827602, 0.130481576964890461],
[0.115290732489410241, 0.0984630040639561110, 0.135440278049928836],
[0.119393934074793123, 0.101859549809282912, 0.140402862386273419],
[0.123488239684721751, 0.105235298379159514, 0.145370202359460465],
[0.127574473851884945, 0.108591019832034480, 0.150343125572325625],
[0.131653415211626990, 0.111927434374871904, 0.155322419013495694],
[0.135725800517198458, 0.115245216542198464, 0.160308832756507341],
[0.139792328217869633, 0.118544998920615569, 0.165303083253110633],
[0.143853661657184495, 0.121827375477986638, 0.170305856274359235],
[0.147910431939935111, 0.125092904547547290, 0.175317809544898673],
[0.151963240509222580, 0.128342111509761131, 0.180339575109089129],
[0.156012661468986513, 0.131575491208558604, 0.185371761461962714],
[0.160059243682356744, 0.134793510133424443, 0.190414955473313302],
[0.164103512671992913, 0.137996608394458403, 0.195469724129271105],
[0.168145972345017769, 0.141185201513863962, 0.200536616112391153],
[0.172187106562149278, 0.144359682054225863, 0.205616163238477923],
[0.176227380568098113, 0.147520421101291877, 0.210708881765982070],
[0.180267242298115527, 0.150667769616731006, 0.215815273591777379],
[0.184307123573718895, 0.153802059674411240, 0.220935827345389135],
[0.188347441199025606, 0.156923605592096338, 0.226071019392260486],
[0.192388597967764530, 0.160032704969021250, 0.231221314755360119],
[0.196430983589831798, 0.163129639638593477, 0.236387167963334255],
[0.200474975545244960, 0.166214676544388012, 0.241569023832447660],
[0.204520939872444851, 0.169288068546688708, 0.246767318188734708],
[0.208569231897135610, 0.172350055166009514, 0.251982478536051435],
[0.212620196907157333, 0.175400863269338819, 0.257214924675103207],
[0.216674170778306530, 0.178440707704219631, 0.262465069277962870],
[0.220731480555486637, 0.181469791885247228, 0.267733318422113231],
[0.224792444993132390, 0.184488308337080437, 0.273020072087632626],
[0.228857375058424295, 0.187496439197650078, 0.278325724620757220],
[0.232926574400476871, 0.190494356684871941, 0.283650665166735649],
[0.237000339788348446, 0.193482223529845537, 0.288995278074593354],
[0.241078961520462765, 0.196460193379224601, 0.294359943276171154],
[0.245162723807763494, 0.199428411169190745, 0.299745036641568541],
[0.249251905132711782, 0.202387013473228461, 0.305150930312925062],
[0.253346778586050425, 0.205336128825687525, 0.310577993018287091],
[0.257447612183054453, 0.208275878022948613, 0.316026590367144644],
[0.261554669160863396, 0.211206374403825614, 0.321497085129084537],
[0.265668208258317273, 0.214127724110706019, 0.326989837496869939],
[0.269788483979627736, 0.217040026332782132, 0.332505205335139997],
[0.273915746843058028, 0.219943373532622222, 0.338043544415827513],
[0.278050243615729498, 0.222837851657206099, 0.343605208641285631],
[0.282192217535537804, 0.225723540334468065, 0.349190550256041399],
[0.286341908521110855, 0.228600513056287646, 0.354799920048007922],
[0.290499553370646035, 0.231468837348797751, 0.360433667539928282],
[0.294665385950396763, 0.234328574930807276, 0.366092141171749541],
[0.298839637373535250, 0.237179781861058869, 0.371775688474580146],
[0.303022536170027057, 0.240022508675001023, 0.377484656236824256],
[0.307214308448142515, 0.242856800511678128, 0.383219390663043946],
[0.311415178048150110, 0.245682697231309421, 0.388980237526057038],
[0.315625366688708886, 0.248500233524073910, 0.394767542312738584],
[0.319845094106446792, 0.251309439010574565, 0.400581650363959263],
[0.324074578189151752, 0.254110338334425534, 0.406422907009064582],
[0.328314035102995394, 0.256902951247364231, 0.412291657695262104],
[0.332563679414167313, 0.259687292687256599, 0.418188248112266847],
[0.336823724205263464, 0.262463372849342846, 0.424113024312520626],
[0.341094381186770379, 0.265231197251033224, 0.430066332827286346],
[0.345375860803937396, 0.267990766790546508, 0.436048520778893611],
[0.349668372339323630, 0.270742077799656811, 0.442059935989391806],
[0.353972124011294409, 0.273485122090785515, 0.448100927085854639],
[0.358287323068687769, 0.276219886998680442, 0.454171843602557523],
[0.362614175881913692, 0.278946355416865854, 0.460273036080240894],
[0.366952888030674607, 0.281664505829066381, 0.466404856162649317],
[0.371303664388517141, 0.284374312335775981, 0.472567656690541404],
[0.375666709204411420, 0.287075744676119404, 0.478761791793327285],
[0.380042226181515674, 0.289768768245160180, 0.484987616978510394],
[0.384430418553305953, 0.292453344106780255, 0.491245489219071907],
[0.388831489157222543, 0.295129429002242760, 0.497535767038948806],
[0.393245640505971050, 0.297796975354556182, 0.503858810596735207],
[0.397673074856622566, 0.300455931268720111, 0.510214981767735054],
[0.402113994277638054, 0.303106240527947157, 0.516604644224480269],
[0.406568600713935024, 0.305747842585927965, 0.523028163515833588],
[0.411037096050118567, 0.308380672555204349, 0.529485907144774615],
[0.415519682171966276, 0.311004661191714049, 0.535978244644973789],
[0.420016561026291091, 0.313619734875537459, 0.542505547656245368],
[0.424527934679263697, 0.316225815587897141, 0.549068189998969669],
[0.429054005373272318, 0.318822820884442415, 0.555666547747573292],
[0.433594975582439424, 0.321410663864822033, 0.562300999303139259],
[0.438151048066837911, 0.323989253138586730, 0.568971925465231565],
[0.442722425925510088, 0.326558492787403454, 0.575679709503003401],
[0.447309312648345336, 0.329118282323599187, 0.582424737225657574],
[0.451911912166892804, 0.331668516645018729, 0.589207397052324389],
[0.456530428904170338, 0.334209085986183652, 0.596028080081423384],
[0.461165067823539776, 0.336739875865732730, 0.602887180159566438],
[0.465816034476683238, 0.339260767030118038, 0.609785093950055868],
[0.470483535050773505, 0.341771635393516293, 0.616722221001042792],
[0.475167776414854359, 0.344272351973921809, 0.623698963813384855],
[0.479868966165507505, 0.346762782825364491, 0.630715727908266133],
[0.484587312671833248, 0.349242788966212303, 0.637772921894618095],
[0.489323025119817456, 0.351712226303476039, 0.644870957536394340],
[0.494076313556094882, 0.354170945553070216, 0.652010249819743648],
[0.498847388931185243, 0.356618792155934727, 0.659191217020117848],
[0.503636463142213886, 0.359055606189949472, 0.666414280769364931],
[0.508443749075167761, 0.361481222277547365, 0.673679866122844917],
[0.513269460646730402, 0.363895469488919265, 0.680988401626602124],
[0.517049255958883736, 0.367637997872070354, 0.685005770810808712],
[0.519783124592326562, 0.372695343631502085, 0.685725475606741353],
[0.522535426520562729, 0.377724674758639745, 0.686479394019478994],
[0.525305981582407822, 0.382727642757709985, 0.687267027061730706],
[0.528094619311941349, 0.387705802157613411, 0.688087897241171031],
[0.530901178518696337, 0.392660618220596225, 0.688941547610116944],
[0.533725506891002843, 0.397593473904094219, 0.689827540867139488],
[0.536567460621064640, 0.402505676161367232, 0.690745458507376342],
[0.539426904050401390, 0.407398461655234079, 0.691694900018535952],
[0.542303709334448936, 0.412273001949594986, 0.692675482119810781],
[0.545197756125129107, 0.417130408235226735, 0.693686838041096543],
[0.548108931270338107, 0.421971735639285028, 0.694728616840101898],
[0.551037128529326625, 0.426797987161918746, 0.695800482755103422],
[0.553982248303058644, 0.431610117278170835, 0.696902114591243182],
[0.556944197378662853, 0.436409035238851106, 0.698033205138414381],
[0.559922888687164666, 0.441195608100151293, 0.699193460618917628],
[0.562918241073742998, 0.445970663508390042, 0.700382600163177771],
[0.565930179079804585, 0.450734992263300771, 0.701600355311939539],
[0.568958632736203618, 0.455489350680718885, 0.702846469543450536],
[0.572003537366990833, 0.460234462773243369, 0.704120697824247688],
[0.575064833403112763, 0.464971022265474543, 0.705422806182246620],
[0.578142466205525119, 0.469699694458678374, 0.706752571300925614],
[0.581236385897189400, 0.474421117958205352, 0.708109780133456490],
[0.584346547203504540, 0.479135906275613255, 0.709494229535727716],
[0.587472909300700508, 0.483844649316265418, 0.710905725917258757],
[0.590615435671803524, 0.488547914762087532, 0.712344084909072972],
[0.593774093969747674, 0.493246249358243627, 0.713809131047648537],
[0.596948855887293628, 0.497940180111632602, 0.715300697474136049],
[0.600139697033386987, 0.502630215408368053, 0.716818625648058649],
[0.603346596815650171, 0.507316846056724891, 0.718362765074788356],
[0.606569538328684654, 0.512000546261448863, 0.719932973046105817],
[0.609808508247911330, 0.516681774534778149, 0.721529114393217763],
[0.613063496728672441, 0.521360974549051503, 0.723151061251628979],
[0.616334497310343177, 0.526038575935339758, 0.724798692837313019],
[0.619621506825220103, 0.530714995032159020, 0.726471895233652076],
[0.622924525311949195, 0.535390635587955299, 0.728170561188656973],
[0.626243555933311158, 0.540065889420750178, 0.729894589921996517],
[0.629578604898128669, 0.544741137038049605, 0.731643886941413246],
[0.632929681387145449, 0.549416748219844209, 0.733418363868108658],
[0.636296797482679532, 0.554093082567318596, 0.735217938270723681],
[0.639679968101899199, 0.558770490019647514, 0.737042533507549891],
[0.643079210933566125, 0.563449311341092884, 0.738892078576645406],
[0.646494546378092449, 0.568129878580417302, 0.740766507973541710],
[0.649925997490786833, 0.572812515504476649, 0.742665761556239756],
[0.653373589928168297, 0.577497538007710975, 0.744589784417241107],
[0.656837351897202715, 0.582185254499121507, 0.746538526762347665],
[0.660317314107387809, 0.586875966268196048, 0.748511943796003387],
[0.663813509725549311, 0.591569967831130028, 0.750509995612956393],
[0.667325974333276339, 0.596267547258600206, 0.752532647096048834],
[0.670854745886890647, 0.600968986486241086, 0.754579867819940464],
[0.674399864679879335, 0.605674561608902096, 0.756651631960613802],
[0.677961373307699899, 0.610384543159672055, 0.758747918210492811],
[0.681539316634899972, 0.615099196374594315, 0.760868709699054180],
[0.685133741764475501, 0.619818781443922884, 0.763013993918798317],
[0.688744698009432166, 0.624543553750710134, 0.765183762656486022],
[0.692372236866449775, 0.629273764097464605, 0.767378011929536363],
[0.696016411991663753, 0.634009658921553809, 0.769596741927524808],
[0.699677279178467004, 0.638751480499993418, 0.771839956958712326],
[0.703354896337336388, 0.643499467144194925, 0.774107665401561618],
[0.707049323477618397, 0.648253853385237888, 0.776399879661217596],
[0.710760622691286481, 0.653014870150149695, 0.778716616130934902],
[0.714488858138616845, 0.657782744929677587, 0.781057895158456694],
[0.718234096035799463, 0.662557701937979915, 0.783423741017375108],
[0.721996404644451140, 0.667339962264639874, 0.785814181883507823],
[0.725775854263047582, 0.672129744019374309, 0.788229249816352340],
[0.729572517220284045, 0.676927262469774749, 0.790668980745708794],
[0.733386467870355774, 0.681732730172405321, 0.793133414463567332],
[0.737217782590217752, 0.686546357097533644, 0.795622594621397172],
[0.741066539778809319, 0.691368350747770588, 0.798136568732989660],
[0.744932819858307949, 0.696198916270852730, 0.800675388183041403],
[0.748816705277481009, 0.701038256566777207, 0.803239108241701083],
[0.752718280517120308, 0.705886572389500477, 0.805827788085316965],
[0.756637632097731272, 0.710744062443344316, 0.808441490823694320],
[0.760574848589464225, 0.715610923474286453, 0.811080283534179935],
[0.764530020624439643, 0.720487350356235790, 0.813744237302961526],
[0.768503240911561414, 0.725373536172409295, 0.816433427274014356],
[0.772494604253950001, 0.730269672291885552, 0.819147932706187576],
[0.776504207569130855, 0.735175948441384119, 0.821887837038988822],
[0.780532149912162687, 0.740092552772307011, 0.824653227967705016],
[0.784578532501884251, 0.745019671923039306, 0.827444197528580005],
[0.788643458750511006, 0.749957491076482574, 0.830260842194868509],
[0.792727034296835664, 0.754906194012757492, 0.833103262984699056],
[0.796829367043293435, 0.759865963156994950, 0.835971565581804299],
[0.800950567197262209, 0.764836979622069868, 0.838865860470326408],
[0.805090747316945854, 0.769819423246110857, 0.841786263085077646],
[0.809250022362273391, 0.774813472624568678, 0.844732893978824118],
[0.813428509751327189, 0.779819305136559504, 0.847705879008405661],
[0.817626329422853626, 0.784837096965152137, 0.850705349541757139],
[0.821843603905513698, 0.789867023111193278, 0.853731442688215769],
[0.826080458394656936, 0.794909257400171265, 0.856784301554874506],
[0.830337020837457529, 0.799963972481542718, 0.859864075532162042],
[0.834613422027479013, 0.805031339819816227, 0.862970920612356696],
[0.838909795709844919, 0.810111529676558750, 0.866104999745358151],
[0.843226278698398834, 0.815204711082341826, 0.869266483236767806],
[0.847563011006535860, 0.820311051797430246, 0.872455549194219415],
[0.851920135993624150, 0.825430718259808738, 0.875672384028969297],
[0.856297800529314479, 0.830563875518865125, 0.878917183021062587],
[0.860696155178508393, 0.835710687152684151, 0.882190150957975039],
[0.865115354410258663, 0.840871315166510813, 0.885491502858582691],
[0.869555556834565868, 0.846045919869432339, 0.888821464796750948],
[0.874016925471875039, 0.851234659725658482, 0.892180274841830267],
[0.878499628061128024, 0.856437691176008431, 0.895568184137161438],
[0.883003837413557702, 0.861655168424160567, 0.898985458142465554],
[0.887529731821109835, 0.866887243180950229, 0.902432378072138386],
[0.892077495530577247, 0.872134064358308203, 0.905909242569342577],
[0.896647319297383394, 0.877395777702254631, 0.909416369666043667],
[0.901239401036667442, 0.882672525351521409, 0.912954099092608051],
[0.905853946594346482, 0.887964445304548433, 0.916522795018484437],
[0.910491170667465766, 0.893271670772498361, 0.920122849329550907],
[0.915151297912361161, 0.898594329388945456, 0.923754685580583157],
[0.919834564291681866, 0.903932542237245395, 0.927418763806690194],
[0.924541218729208691, 0.909286422642975101, 0.931115586441496501],
[0.929271525166756818, 0.914656074659394025, 0.934845705681335515],
[0.934025765154692822, 0.920041591145392967, 0.938609732768388105],
[0.938804241163150754, 0.925443051292876628, 0.942408349865357708],
[0.943607280886072042, 0.930860517395381004, 0.946242325500226245],
[0.948435242944567602, 0.936294030546846012, 0.950112535041986894],
[0.953288524614776534, 0.941743604791896449, 0.954019988454424817],
[0.958167572576015147, 0.947209218964940480, 0.957965868906315854],
[0.963072898331635563, 0.952690804952064041, 0.961951588175062100],
[0.968005101182965677, 0.958188230168034338, 0.965978869191330802],
[0.972964904089654969, 0.963701270159173950, 0.970049874881503293],
[0.977953213071177552, 0.969229563159838992, 0.974167421572588066],
[0.982971223649995784, 0.974772528570774344, 0.978335361345324839],
[0.988020633702329953, 0.980329203791630799, 0.982559346472565820],
[0.993104146096727036, 0.985897858595931376, 0.986848634213717379],
[0.998227062274799182, 0.991474771615336148, 0.991221807329430882],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
