from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00029736310018980185, 0.000358729, 0.00033943223602095286],
[0.00080360923621244234, 0.0010465301589680075, 0.00097269813126560573],
[0.0014851542062757339, 0.00205346, 0.0018834135917196895],
[0.0023095491916162387, 0.0033669522080746559, 0.0030536082025342040],
[0.0032526627507828369, 0.0049803758983170228, 0.0044718729561742015],
[0.0042948738735616261, 0.0068901435420080440, 0.00613021],
[0.0054193882306572691, 0.0090944767891317606, 0.0080227036448888150],
[0.00661134, 0.0115928, 0.010144818546240324],
[0.0078572750319531245, 0.014385356723994687, 0.012493013715462109],
[0.0091447791142876406, 0.017473051996859890, 0.015064484585661293],
[0.0104623, 0.020857245513835571, 0.017856996681786339],
[0.011798856241901901, 0.0245397, 0.020868768527016503],
[0.013144147184145529, 0.028522411070781732, 0.024098386877986770],
[0.014488238657939060, 0.032807735717427747, 0.027544743544744402],
[0.015821608404303855, 0.037398168246382049, 0.031206987144805558],
[0.017135071461273337, 0.042241763644765985, 0.035084485501635156],
[0.018419739548906806, 0.047063116834430686, 0.039176795823651175],
[0.019666989139582414, 0.051848746055389715, 0.043369893980481876],
[0.020868436256177035, 0.056602224257454807, 0.047509006109501657],
[0.022015916571732356, 0.061326686639838195, 0.051607225569391520],
[0.0231015, 0.066024900793615615, 0.0556676],
[0.024117327235529742, 0.070699322725855412, 0.059692864359606766],
[0.025055902853274047, 0.075352142108639164, 0.063685461283638556],
[0.025909785784671006, 0.079985319195598453, 0.067647606818231898],
[0.026671735500521376, 0.084600615217622993, 0.071581308839673619],
[0.027334678377837238, 0.089199617619878962, 0.0754884],
[0.027891705750847304, 0.093783761177110930, 0.079370541513413884],
[0.028336073201316113, 0.098354345785710950, 0.083229278857142069],
[0.028661200927008065, 0.10291255155387177, 0.087066020793449994],
[0.028860675054614812, 0.107459, 0.090882071459174790],
[0.028928249785189732, 0.11199602349216386, 0.094678638382360930],
[0.028857850277495097, 0.11652315800050619, 0.098456842596036986],
[0.0286436, 0.12104166814078540, 0.102218],
[0.028279705802296672, 0.12555229598223094, 0.10596226609687212],
[0.027760700685120945, 0.13005571902225893, 0.10969136852923991],
[0.027081210817053117, 0.13455255571801122, 0.11340588713600805],
[0.026236080150270426, 0.13904337036496137, 0.11710662206923603],
[0.025220352554170825, 0.14352867741595349, 0.12079432581492666],
[0.024029278109081748, 0.14800894531872633, 0.12447],
[0.022658319714459235, 0.15248459993750230, 0.12813343546076278],
[0.021103159980179382, 0.15695602761400032, 0.13178614266064426],
[0.019359708371824710, 0.16142357791481693, 0.13542842745695199],
[0.017424108582821521, 0.16588756610514588, 0.13906085730812737],
[0.015292746107822225, 0.17034827538301423, 0.14268397092769505],
[0.012962255993038461, 0.17480595890336798, 0.14629828042563203],
[0.010429530740320939, 0.17926084161727227, 0.14990427324801892],
[0.0076917283426041370, 0.18371312194807093, 0.15350241393794065],
[0.0047462804291115695, 0.18816297332344156, 0.15709314573756522],
[0.0015909004992265740, 0.19261054557983068, 0.16067689204873939],
[-0.0017764077755328229, 0.19705596625364363, 0.164254],
[-0.0053573422016757934, 0.20149934177177475, 0.16782503050393571],
[-0.0091532936859483761, 0.20594075855252070, 0.17139018170448200],
[-0.013165337849275219, 0.21038028402658770, 0.17495],
[-0.017394226651915427, 0.21481796758676080, 0.17850443054238693],
[-0.021840380049193451, 0.219254, 0.18205419909837467],
[-0.026503877697000359, 0.22368792160532686, 0.18559948963255812],
[-0.031384450726191782, 0.22812020835348407, 0.18914060666255148],
[-0.036481473604926755, 0.23255068727695483, 0.192678],
[-0.041793956107864627, 0.23697932981176950, 0.19621148351817291],
[-0.047320535411112759, 0.24140609392528672, 0.19974179948736548],
[-0.053059468331710102, 0.24583092473705664, 0.20326905538387180],
[-0.0590086, 0.25025375510994113, 0.20679350627437637],
[-0.065165475095694883, 0.25467450621451704, 0.21031539892005152],
[-0.0715271, 0.25909308806946657, 0.213835],
[-0.078090139749953894, 0.26350940006039320, 0.21735245764292049],
[-0.0848509, 0.26792333143924685, 0.22086807958793264],
[-0.091805074199775252, 0.27233476180632676, 0.22438205577911463],
[-0.098948177400074444, 0.27674356157663094, 0.227895],
[-0.10627512695363413, 0.28114959243214366, 0.23140591038440322],
[-0.11378, 0.28555270776149305, 0.23491619378522904],
[-0.12145818860181883, 0.28995275308826651, 0.23842564199145755],
[-0.12930199254322600, 0.29434956648914112, 0.24193444402884717],
[-0.13730501694856823, 0.29874297900287128, 0.24544278400505365],
[-0.14545996692659374, 0.30313281503105832, 0.24895084134712830],
[-0.15375908394194734, 0.30751889273154759, 0.25245879102572416],
[-0.16219414236663968, 0.31190102440518780, 0.25596680376694714],
[-0.17075644644908369, 0.31627901687662552, 0.25947504625271783],
[-0.17943682771443206, 0.32065267186971830, 0.26298368131042976],
[-0.18822564280947199, 0.32502178637809487, 0.26649286809263450],
[-0.19711277180456452, 0.32938615303131535, 0.27000276224742154],
[-0.20608761696461197, 0.333746, 0.27351351608011243],
[-0.21513910200011152, 0.33809979363954601, 0.27702527870683608],
[-0.22425567180880934, 0.34244863427491229, 0.28053819620051407],
[-0.233425, 0.34679186112309607, 0.284052],
[-0.24263545323305183, 0.35112925035714793, 0.287568],
[-0.25187316531001208, 0.355461, 0.291085],
[-0.26112496614283048, 0.35978560981700669, 0.29460423738514713],
[-0.270377, 0.36410412256024932, 0.29812502315546607],
[-0.27961462352177263, 0.36841588340483805, 0.30164778365681938],
[-0.28882320423791008, 0.37272066073710025, 0.30517264720316317],
[-0.29798732938819872, 0.37701822239877508, 0.30869974001128969],
[-0.30709120796859651, 0.38130833601917585, 0.312229],
[-0.31611859625194411, 0.38559076934501968, 0.31576110836481741],
[-0.32505280336752651, 0.389865, 0.31929562669992556],
[-0.33387669742668974, 0.39413166864915672, 0.32283286004845563],
[-0.34257271219248892, 0.39838967364261790, 0.32637292550042324],
[-0.35112285429051310, 0.402639, 0.32991593856704043],
[-0.35950871095665832, 0.40687965195907244, 0.33346201325540342],
[-0.36771145831678059, 0.411111, 0.337011],
[-0.37571187019196894, 0.41533341987865807, 0.34056379643340773],
[-0.38349032742197076, 0.419546, 0.34411972604967833],
[-0.391027, 0.42374920941424393, 0.34767915967162499],
[-0.39830099589885504, 0.42794232250444997, 0.35124220481105717],
[-0.40529209490922946, 0.43212530003372646, 0.35480896786873273],
[-0.41197903692623666, 0.43629793592230232, 0.35837955419191853],
[-0.41834039522394029, 0.44046002824067809, 0.36195406812998493],
[-0.42435441637269489, 0.44461137949520590, 0.36553261308812740],
[-0.42999903289533309, 0.44875179690926020, 0.36911529157930995],
[-0.435252, 0.45288109269979321, 0.37270220527451653],
[-0.44009029078798834, 0.45699908434907283, 0.37629345505138634],
[-0.444491, 0.46110559487140140, 0.37988914104131727],
[-0.44843185508031813, 0.46520045307461094, 0.38348936267509964],
[-0.45188838229430828, 0.46928349381612439, 0.38709421872715222],
[-0.45483726474307440, 0.47335455825338640, 0.39070380735842214],
[-0.45725462422064950, 0.47741349408845929, 0.39431822615800455],
[-0.45911638340875022, 0.48146015580657636, 0.39793757218354214],
[-0.46039828166362984, 0.48549440490846746, 0.40156194200045076],
[-0.46107589104698454, 0.48951611013624935, 0.40519143172002298],
[-0.46112463257821684, 0.49352514769270522, 0.40882613703645426],
[-0.46051979268399024, 0.49752140145374751, 0.41246615326283303],
[-0.459237, 0.50150476317390402, 0.41611157536613680],
[-0.45724994125105972, 0.50547513268463951, 0.419762],
[-0.45453497993235376, 0.50943241808534445, 0.42341901554417377],
[-0.45106657152100521, 0.51337653592683174, 0.42708122212406441],
[-0.44681958143863698, 0.51730741138718383, 0.43074921165478425],
[-0.44176884199189037, 0.52122497843980364, 0.43442307786534684],
[-0.43588916951458634, 0.52512918001351894, 0.438103],
[-0.42915538150777316, 0.52901996814462660, 0.44178881449551866],
[-0.42154231375176671, 0.53289730412073122, 0.44548087171273237],
[-0.41302483736502960, 0.53676115861627549, 0.44917917926066958],
[-0.40357787578447490, 0.54061151181965605, 0.45288383037498042],
[-0.39317642164198141, 0.54444835355181742, 0.45659491827367321],
[-0.38179555351246242, 0.54827168337624910, 0.46031253618251050],
[-0.36941045250860399, 0.55208151070029765, 0.46403677735975130],
[-0.35599641869836573, 0.55587785486773367, 0.46776773512025444],
[-0.34152888732114883, 0.559661, 0.47150550285895870],
[-0.32598344477953506, 0.56343022128365605, 0.47525017407375553],
[-0.30933584438348982, 0.56718633261131124, 0.47900184238776605],
[-0.29156202182500723, 0.57092913906379583, 0.48276060157103856],
[-0.27263811036126562, 0.57465871074577823, 0.48652654556167546],
[-0.25254045568553502, 0.57837512806749303, 0.49029976848640550],
[-0.23124563046524199, 0.58207848177501820, 0.49408036468060962],
[-0.20873044852776537, 0.58576887297163571, 0.49786842870781295],
[-0.18497197867509571, 0.58944641313029633, 0.50166405537865433],
[-0.15994755810933536, 0.593111, 0.50546733976934222],
[-0.13363480545176049, 0.59676343808672194, 0.50927837723960689],
[-0.10601163333937891, 0.60040319766718808, 0.51309726345016204],
[-0.077056260583322850, 0.60403065573849724, 0.51692409437968090],
[-0.046747223874766895, 0.60764597550073529, 0.52075896634130003],
[-0.0150634, 0.61124933041443119, 0.52460197599865910],
[0.018016038274322771, 0.61484090415236148, 0.52845322038148412],
[0.051414080443653164, 0.61842089054304961, 0.53231279690072864],
[0.077231939331112165, 0.62198949350606736, 0.53618080336327756],
[0.098157131607599424, 0.62554692697926684, 0.54005733798622391],
[0.11633305761218984, 0.629093, 0.54394249941073125],
[0.13271594239485920, 0.63262919080710034, 0.54783638671548840],
[0.14782630738553682, 0.63615449836386129, 0.55173909942976707],
[0.16198254720974459, 0.63966959063539486, 0.55565073754609373],
[0.175395, 0.64317473028731786, 0.55957140153254303],
[0.18821106658893283, 0.64667, 0.56350119234466967],
[0.20053752332393882, 0.65015624937311767, 0.56744021143707779],
[0.21245511930233896, 0.653633, 0.57138856077465505],
[0.22402615045063484, 0.65710134306440249, 0.57534634284346420],
[0.2353, 0.66056098481462855, 0.579314],
[0.24631554551572332, 0.66401244317098229, 0.58329061778805136],
[0.25710565425453003, 0.66745604389341462, 0.58727731833546914],
[0.267697, 0.67089212115478292, 0.59127386697704365],
[0.27811109795654687, 0.67432101737353867, 0.59528036895731096],
[0.28836747727622058, 0.67774308304128716, 0.59929693010101803],
[0.29848187754942473, 0.68115867654548667, 0.60332365682202071],
[0.30846800989407563, 0.68456816398753073, 0.60736065613194390],
[0.31833771243781672, 0.68797191899649945, 0.61140803564862389],
[0.328101, 0.69137032253883979, 0.615466],
[0.33776765674405601, 0.69476376272426244, 0.61953436885386137],
[0.34734475992737263, 0.698153, 0.62361354088229337],
[0.35683952470886515, 0.70153733999061396, 0.62770352981278832],
[0.36625809965991546, 0.70491828721298710, 0.63180444641408107],
[0.375606, 0.70829589095121304, 0.63591640210790457],
[0.38488793305744906, 0.71167057200728268, 0.64003950897627404],
[0.39410841123487750, 0.71504275709851473, 0.64417387976867691],
[0.40327128262042500, 0.71841287864516457, 0.64831962790916309],
[0.41238005421133428, 0.72178137455666413, 0.652477],
[0.421438, 0.72514868801680099, 0.65664571334547395],
[0.43044763113326989, 0.728515, 0.66082628092512763],
[0.43941187202409382, 0.73188156539629135, 0.66501868643433504],
[0.44833294958849895, 0.73524804011352751, 0.66922304677434341],
[0.45721299010351685, 0.73861515354349305, 0.67343947956252725],
[0.46605392805126627, 0.74198337200595121, 0.67766810313929993],
[0.47485752620369787, 0.74535316580277489, 0.68190903657505986],
[0.48362539325938120, 0.74872500900525019, 0.68616239967719506],
[0.49235899938057998, 0.75209937924310666, 0.69042831299715846],
[0.50106, 0.75547675749565712, 0.69470689783762951],
[0.50972869759527761, 0.75885762788541777, 0.69899827625978395],
[0.51836715327788807, 0.76224247747461837, 0.70330257109068373],
[0.526976, 0.76563179606499154, 0.70761990593080881],
[0.53555647972667197, 0.76902607600126505, 0.71195040516174402],
[0.54410918466538871, 0.77242581197879012, 0.71629419395403937],
[0.55263502053323199, 0.77583150085573760, 0.720651],
[0.561135, 0.77924364147032665, 0.72502214489828387],
[0.56960901664878061, 0.782663, 0.72940656140972326],
[0.57805850446028362, 0.78608928210804385, 0.73380477621873941],
[0.58648378784967581, 0.78952378814316193, 0.73821691856601079],
[0.59488541297763242, 0.79296675761758961, 0.74264311853303389],
[0.60326388597948488, 0.79641869673930765, 0.74708350705172621],
[0.61161967628599256, 0.79988011273399617, 0.75153821591435144],
[0.61995321962259620, 0.80335151371238878, 0.75600737778379845],
[0.62826492071729889, 0.80683340854733021, 0.76049112620423143],
[0.63655515574350752, 0.81032630676130091, 0.76498959561213953],
[0.64482427452066127, 0.81383071842527577, 0.76950292134780618],
[0.65307260249270027, 0.81734715406981773, 0.77403123966723120],
[0.66130044250147546, 0.82087612460945414, 0.77857468775453331],
[0.66950807637006371, 0.824418, 0.78313340373486195],
[0.677696, 0.82797371560018651, 0.78770752668786004],
[0.68586375615339556, 0.83154335932871626, 0.79229719666170773],
[0.69401227244779573, 0.83512758446878954, 0.79690255468779681],
[0.70214152537238284, 0.838727, 0.80152374279607697],
[0.71025170952919681, 0.84234182826990733, 0.80616090403113139],
[0.718343, 0.84597287233749829, 0.810814],
[0.726416, 0.84962054877269388, 0.81548372323508189],
[0.73446957423800852, 0.85328537141494887, 0.82016967252240847],
[0.74250513729958367, 0.85696785479454929, 0.82487217761168619],
[0.75052238847558228, 0.86066851432080538, 0.829591],
[0.75852143742901457, 0.86438786651348121, 0.83432744988238594],
[0.76650237972127921, 0.86812642928329942, 0.83908051725626198],
[0.77446529639704031, 0.87188472226842473, 0.84385074086539647],
[0.78241025337933967, 0.87566326723519272, 0.84863827376714385],
[0.79033730065451124, 0.879463, 0.85344327025306666],
[0.79824647122110626, 0.88328321375566665, 0.85826588587993913],
[0.80613777977019741, 0.88712567420308097, 0.863106],
[0.81401122105602464, 0.89099050586256845, 0.86796460331457437],
[0.82186676790521163, 0.89487825023081158, 0.87284102288051257],
[0.82970436879907528, 0.89878945542494448, 0.87773569718858113],
[0.83752394494574922, 0.90272467747743545, 0.882649],
[0.84532538673557211, 0.90668448187910511, 0.88758046138637992],
[0.853109, 0.91066944542710237, 0.89253088083136423],
[0.86087324798971387, 0.91468015845146133, 0.89750021426467874],
[0.86861925055144129, 0.91871722751684737, 0.90248863066531138],
[0.87634627066286797, 0.92278127872789573, 0.907496],
[0.88405395742616655, 0.92687296181127043, 0.91252339762138757],
[0.89174188322040227, 0.93099295521168124, 0.91757009584751181],
[0.89940952810163710, 0.93514197253278453, 0.92263657269729604],
[0.90705625972916737, 0.93932077079388843, 0.92772300782634809],
[0.91468130712136220, 0.94353016118802269, 0.93282958365937862],
[0.92228372570308437, 0.94777102336550534, 0.93795648575010748],
[0.92986234973347048, 0.95204432481913270, 0.94310390326212046],
[0.93741572587375810, 0.95635114788237840, 0.94827202963008828],
[0.94494201752261708, 0.96069272850954113, 0.95346106349994397],
[0.95243886180764636, 0.96507051410773192, 0.958671],
[0.95990314564191015, 0.96948625388654020, 0.96390268350139341],
[0.96733063362683935, 0.973942, 0.96915570998479039],
[0.97471529929102385, 0.97844111930965061, 0.97443053461727780],
[0.98204798386638637, 0.98298734445127500, 0.97972743388947425],
[0.98931321972475616, 0.98758753009761147, 0.98504674580058882],
[0.99647912846189979, 0.99225493835418954, 0.99038896518787867],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
