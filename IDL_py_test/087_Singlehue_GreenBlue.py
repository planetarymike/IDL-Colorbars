from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000316228612161438506, 0.000351295597669001912, 0.000339260439035938817],
[0.000876984375514329190, 0.00101759551977173785, 0.000972034547357288818],
[0.00165568424985873259, 0.00198617593100331412, 0.00188187940276569789],
[0.00262583695565373875, 0.00324208627374946139, 0.00305077542034544024],
[0.00376864750710436194, 0.00477657706406927566, 0.00446727025846726730],
[0.00506943789009573018, 0.00658408166088413592, 0.00612332784290489651],
[0.00651608373500649901, 0.00866095286784084213, 0.00801299158016421237],
[0.00809818966295307308, 0.0110048188804210013, 0.0101316953012363202],
[0.00980660121923569890, 0.0136142132622134281, 0.0124758634666703658],
[0.0116330923360986726, 0.0164883442809162992, 0.0150426596705112384],
[0.0135701533003179855, 0.0196269422806445472, 0.0178298187926936268],
[0.0156108403850206048, 0.0230301539756506135, 0.0208355297849687031],
[0.0177486653901225942, 0.0266984665527803602, 0.0240583508248101916],
[0.0199775121351553550, 0.0306326515617589522, 0.0274971460819912507],
[0.0222915717993429283, 0.0348337224221801148, 0.0311510374398296479],
[0.0246852918291805487, 0.0393029015862155148, 0.0350193668764083796],
[0.0271533348556586389, 0.0438938635346816444, 0.0391016666383583941],
[0.0296905451534846508, 0.0484342544651434129, 0.0432887788618746758],
[0.0322919208877367400, 0.0529375987302276099, 0.0474219635058036257],
[0.0349525908731312257, 0.0574072197623314781, 0.0515141469440454428],
[0.0376677949018442565, 0.0618460714760847782, 0.0555683841828006550],
[0.0404328669289134787, 0.0662567953051983460, 0.0595874067138272082],
[0.0431429086903433109, 0.0706417663024626330, 0.0635736699107848080],
[0.0457889449175757149, 0.0750031307773712519, 0.0675293917616352768],
[0.0483730605806065514, 0.0793428373074827331, 0.0714565848111307356],
[0.0508968721695256740, 0.0836626625046406058, 0.0753570827241420438],
[0.0533618075407878770, 0.0879642325879060050, 0.0792325625450720494],
[0.0557691259647568258, 0.0922490415734534830, 0.0830845634822403589],
[0.0581199350668608547, 0.0965184667121303241, 0.0869145028629091376],
[0.0604152052065388620, 0.100773781670365825, 0.0907236897667666742],
[0.0626557817257785144, 0.105016167847505004, 0.0945133367408355074],
[0.0648423954125353086, 0.109246724143854834, 0.0982845699182208765],
[0.0669756714570466372, 0.113466475432680847, 0.102038437800660908],
[0.0690561371262382595, 0.117676379941675596, 0.105775918915987338],
[0.0710842283396655450, 0.121877335711814278, 0.109497928523092175],
[0.0730602952970423047, 0.126070186271659585, 0.113205324506393840],
[0.0749846072805978314, 0.130255725641300918, 0.116898912577314718],
[0.0768573567336941210, 0.134434702760898805, 0.120579450880562017],
[0.0786786626993295490, 0.138607825423230802, 0.124247654087019321],
[0.0804485736874366031, 0.142775763776955139, 0.127904197042027157],
[0.0821670700276316002, 0.146939153456906835, 0.131549718027142298],
[0.0838340657537628153, 0.151098598389179495, 0.135184821684662254],
[0.0854494100578341298, 0.155254673311653546, 0.138810081646902700],
[0.0870128883433388400, 0.159407926044733472, 0.142426042906144551],
[0.0885242229014226167, 0.163558879542122615, 0.146033223956088365],
[0.0899830732274544409, 0.167708033747333784, 0.149632118731392566],
[0.0913890359903058447, 0.171855867278135455, 0.153223198368273139],
[0.0927416446617281009, 0.176002838958195046, 0.156806912806102289],
[0.0940403688086661471, 0.180149389212664574, 0.160383692247356185],
[0.0952846130468972541, 0.184295941342323133, 0.163953948491057155],
[0.0964737156500069804, 0.188442902689064468, 0.167518076152968320],
[0.0976069468033303189, 0.192590665703948200, 0.171076453784181848],
[0.0986835064878650303, 0.196739608927684995, 0.174629444898344172],
[0.0997025219743816193, 0.200890097892264752, 0.178177398916558288],
[0.100663044902730647, 0.205042485951420106, 0.181720652037960229],
[0.101564047915649352, 0.209197115046752757, 0.185259528043060173],
[0.102404420810020103, 0.213354316415579004, 0.188794339036147923],
[0.103182966161411871, 0.217514411245888828, 0.192325386132376097],
[0.103898394369525582, 0.221677711283233991, 0.195852960094527295],
[0.104549318062841651, 0.225844519393842258, 0.199377341923945406],
[0.105134245789829467, 0.230015130087813879, 0.202898803409642170],
[0.105651574911326734, 0.234189830005855748, 0.206417607639183598],
[0.106099583593695229, 0.238368898372660898, 0.209934009474593952],
[0.106476421784519354, 0.242552607419733113, 0.213448255996197767],
[0.106780101031362873, 0.246741222780182401, 0.216960586917032960],
[0.107008482978610264, 0.250935003857767791, 0.220471234970217200],
[0.107159266346594506, 0.255134204172259627, 0.223980426271421174],
[0.107229972159879533, 0.259339071682986033, 0.227488380658408040],
[0.107217926945872538, 0.263549849092268029, 0.230995312009408427],
[0.107120243568900875, 0.267766774130282159, 0.234501428541951995],
[0.106933799295503618, 0.271990079822764574, 0.238006933093620698],
[0.106655210600439365, 0.276219994742830321, 0.241512023386068697],
[0.106280804114765842, 0.280456743248083673, 0.245016892273531795],
[0.105806582980857128, 0.284700545704088870, 0.248521727976946327],
[0.105228187705732390, 0.288951618695178158, 0.252026714304704691],
[0.104540850381439981, 0.293210175223495406, 0.255532030860984638],
[0.103739340853473833, 0.297476424897099745, 0.259037853242517824],
[0.102817903042416281, 0.301750574107883140, 0.262544353224587357],
[0.101770179128546745, 0.306032826199999664, 0.266051698936985936],
[0.100589118648870990, 0.310323381629444228, 0.269560055030605150],
[0.0992668686657555144, 0.314622438115371605, 0.273069582835273328],
[0.0977946399508096143, 0.318930190783700496, 0.276580440509415715],
[0.0961625424453484701, 0.323246832303504483, 0.280092783182062210],
[0.0943593808952276347, 0.327572553016653445, 0.283606763087692171],
[0.0923723981825414764, 0.331907541061139344, 0.287122529694366524],
[0.0901869489692199433, 0.336251982488477541, 0.290640229825566976],
[0.0877860789876746261, 0.340606061375560432, 0.294160007776128940],
[0.0851499742730518205, 0.344969959931300196, 0.297682005422627571],
[0.0822552274633811253, 0.349343858598380130, 0.301206362328554689],
[0.0790738408358726552, 0.353727936150413036, 0.304733215844593286],
[0.0755718404004031841, 0.358122369784778072, 0.308262701204281397],
[0.0717072976651466354, 0.362527335211392854, 0.311794951615334603],
[0.0674274166920205698, 0.366943006737661892, 0.315330098346877918],
[0.0626640825098450927, 0.371369557349822188, 0.318868270812821986],
[0.0573267439695040390, 0.375807158790889384, 0.322409596651599462],
[0.0512903776040460960, 0.380255981635411466, 0.325954201802471588],
[0.0443736143072921349, 0.384716195361194613, 0.329502210578588806],
[0.0363520791264721130, 0.389187968418181429, 0.333053745736991535],
[0.0277437205435259702, 0.393671468294642557, 0.336608928545711117],
[0.0187215663817702840, 0.398166861580817932, 0.340167878848133432],
[0.00927601004161436767, 0.402674314030163349, 0.343730715124769937],
[-0.000602701412601478457, 0.407193990618318014, 0.347297554552571774],
[-0.0109244696562505097, 0.411726055599928309, 0.350868513061922294],
[-0.0216993475423019784, 0.416270672563434974, 0.354443705391421948],
[-0.0329375415742601402, 0.420828004483936480, 0.358023245140586643],
[-0.0446494144148541008, 0.425398213774227873, 0.361607244820563167],
[-0.0568454874313513159, 0.429981462334114661, 0.365195815902963794],
[-0.0695364432781553216, 0.434577911598087618, 0.368789068866914815],
[-0.0827331285175059994, 0.439187722581449225, 0.372387113244412538],
[-0.0964465562790798869, 0.443811055924965003, 0.375990057664063238],
[-0.110687908959296061, 0.448448071938124582, 0.379598009893297228],
[-0.125468540961088698, 0.453098930641077036, 0.383211076879123369],
[-0.140799981474980379, 0.457763791805308962, 0.386829364787501739],
[-0.156693937302301606, 0.462442814993133944, 0.390452979041397252],
[-0.173162295721365100, 0.467136159596047984, 0.394082024357581218],
[-0.190217127397455249, 0.471843984872014233, 0.397716604782238803],
[-0.207870689337478654, 0.476566449981723983, 0.401356823725439793],
[-0.226135427890157198, 0.481303714023892437, 0.405002783994528603],
[-0.245023981792637791, 0.486055936069634098, 0.408654587826481896],
[-0.264549185264435438, 0.490823275195963527, 0.412312336919281930],
[-0.284724071149565217, 0.495605890518468428, 0.415976132462357484],
[-0.305561874107870945, 0.500403941223193760, 0.419646075166126842],
[-0.327076033856395221, 0.505217586597777046, 0.423322265290693223],
[-0.349280198461826785, 0.510046986061875485, 0.427004802673725203],
[-0.372188227684884632, 0.514892299196912928, 0.430693786757563146],
[-0.395814196377833494, 0.519753685775195207, 0.434389316615587107],
[-0.420172397935807740, 0.524631305788405555, 0.438091490977878528],
[-0.413248268883053660, 0.528520821694591580, 0.441777357009956240],
[-0.373897321145321204, 0.531414711391719585, 0.445446807720949855],
[-0.333761033563551024, 0.534315072926036860, 0.449122925747175106],
[-0.292834966938409935, 0.537222066351591865, 0.452805810889962801],
[-0.251114629450074400, 0.540135850407580609, 0.456495562622166895],
[-0.208595475952706055, 0.543056582562767454, 0.460192280113442764],
[-0.165272907265849589, 0.545984419058875070, 0.463896062254888164],
[-0.121142269462759286, 0.548919514952995513, 0.467607007683076559],
[-0.0761988531553800946, 0.551862024159059494, 0.471325214803511694],
[-0.0304378927761309245, 0.554812099488413035, 0.475050781813532164],
[0.0161454341437582555, 0.557769892689539359, 0.478783806724684402],
[0.0602236599584301605, 0.560735554486963994, 0.482524387384598519],
[0.0907947325848465492, 0.563709234619384047, 0.486272621498380298],
[0.114668341997450990, 0.566691081877059744, 0.490028606649551224],
[0.134891967661866952, 0.569681244138493525, 0.493792440320547088],
[0.152756688123813184, 0.572679868406446357, 0.497564219912805472],
[0.168948321654324885, 0.575687100843308208, 0.501344042766456721],
[0.183880922694455051, 0.578703086805870903, 0.505132006179636273],
[0.197826268233566860, 0.581727970879515110, 0.508928207427438384],
[0.210973635353234601, 0.584761896911860757, 0.512732743780528022],
[0.223460817735234074, 0.587805008045895971, 0.516545712523425515],
[0.235391645896512569, 0.590857446752617976, 0.520367210972484617],
[0.246846546947010415, 0.593919354863218119, 0.524197336493571475],
[0.257889244042848076, 0.596990873600824812, 0.528036186519466377],
[0.268571187442155857, 0.600072143611844688, 0.531883858566997825],
[0.278934588157292773, 0.603163304996924721, 0.535740450253925582],
[0.289014556230007436, 0.606264497341544195, 0.539606059315581699],
[0.298840645872214261, 0.609375859746293047, 0.543480783621286489],
[0.308437996298898565, 0.612497530856825345, 0.547364721190548020],
[0.317828190043283221, 0.615629648893540549, 0.551257970209059200],
[0.327029909517663586, 0.618772351680997312, 0.555160629044502141],
[0.336059446699103204, 0.621925776677093922, 0.559072796262171323],
[0.344931104045410386, 0.625090061002035013, 0.562994570640425795],
[0.353657513615243280, 0.628265341467104777, 0.566926051185981161],
[0.362249893819980739, 0.631451754603277182, 0.570867337149051357],
[0.370718258020676483, 0.634649436689678659, 0.574818528038346765],
[0.379071585517333276, 0.637858523781929865, 0.578779723635944876],
[0.387317962859281439, 0.641079151740390762, 0.582751024012033159],
[0.395464701508253580, 0.644311456258329862, 0.586732529539541248],
[0.403518436492777965, 0.647555572890046061, 0.590724340908666101],
[0.411485209657353246, 0.650811637078956062, 0.594726559141299460],
[0.419370540331852448, 0.654079784185691238, 0.598739285605367044],
[0.427179485655903746, 0.657360149516206249, 0.602762622029086370],
[0.434916692339876565, 0.660652868349943856, 0.606796670515148851],
[0.442586441293791433, 0.663958075968071992, 0.610841533554838834],
[0.450192686281918719, 0.667275907681819769, 0.614897314042090470],
[0.457739087545878276, 0.670606498860951694, 0.618964115287496286],
[0.465229041168743029, 0.673949984962388782, 0.623042041032267790],
[0.472665704816676746, 0.677306501559034602, 0.627131195462162116],
[0.480052020385734413, 0.680676184368804171, 0.631231683221374351],
[0.487390733993100567, 0.684059169283922075, 0.635343609426408218],
[0.494684413680616164, 0.687455592400497917, 0.639467079679928774],
[0.501935465139824233, 0.690865590048432399, 0.643602200084603782],
[0.509146145719753251, 0.694289298821681111, 0.647749077256941752],
[0.516318576938944673, 0.697726855608926111, 0.651907818341131096],
[0.523454755690406004, 0.701178397624686478, 0.656078531022889711],
[0.530556564300638578, 0.704644062440929253, 0.660261323543324119],
[0.537625779581126784, 0.708123988019210171, 0.664456304712820578],
[0.544664080991225319, 0.711618312743410808, 0.668663583924950844],
[0.551673058015281437, 0.715127175453124320, 0.672883271170421349],
[0.558654216842991880, 0.718650715477743951, 0.677115477051060344],
[0.565608986430353733, 0.722189072671319154, 0.681360312793848566],
[0.572538724008549105, 0.725742387448257920, 0.685617890265007857],
[0.579444720099643207, 0.729310800819938154, 0.689888321984147956],
[0.586328203090631495, 0.732894454432309495, 0.694171721138478248],
[0.593190343411049370, 0.736493490604582357, 0.698468201597093996],
[0.600032257353967147, 0.740108052369090386, 0.702777877925343519],
[0.606855010575456322, 0.743738283512431875, 0.707100865399281520],
[0.613659621303509040, 0.747384328618002969, 0.711437280020216667],
[0.620447063283867228, 0.751046333110050313, 0.715787238529361325],
[0.627218268487060859, 0.754724443299369274, 0.720150858422592299],
[0.633974129598235070, 0.758418806430809056, 0.724528257965326494],
[0.640715502308973339, 0.762129570732734130, 0.728919556207524244],
[0.647443207428175294, 0.765856885468637172, 0.733324872998827648],
[0.654158032827171110, 0.769600900991090242, 0.737744329003843013],
[0.660860735232629115, 0.773361768798264349, 0.742178045717572621],
[0.667552041879279412, 0.777139641593261099, 0.746626145481016801],
[0.674232652033201485, 0.780934673346525110, 0.751088751496945539],
[0.680903238395172972, 0.784747019361650921, 0.755565987845858711],
[0.687564448392552374, 0.788576836344915044, 0.760057979502143155],
[0.694216905367118553, 0.792424282478926823, 0.764564852350445023],
[0.700861209665464391, 0.796289517500820443, 0.769086733202264283],
[0.707497939637625861, 0.800172702785470924, 0.773623749812796357],
[0.714127652548887104, 0.804074001434290420, 0.778176030898031557],
[0.720750885408956710, 0.807993578370215681, 0.782743706152132401],
[0.727368155721990206, 0.811931600439592782, 0.787326906265114146],
[0.733979962160229094, 0.815888236521764121, 0.791925762940846378],
[0.740586785163353634, 0.819863657647271760, 0.796540408915407783],
[0.747189087464907420, 0.823858037125733911, 0.801170977975813603],
[0.753787314546503828, 0.827871550684597057, 0.805817604979165658],
[0.760381895019681342, 0.831904376620162922, 0.810480425872244670],
[0.766973240934482159, 0.835956695962519758, 0.815159577711595196],
[0.773561748012975170, 0.840028692656242026, 0.819855198684161568],
[0.780147795804862598, 0.844120553759081793, 0.824567428128513358],
[0.786731747761234446, 0.848232469661211130, 0.829296406556740639],
[0.793313951221162328, 0.852364634328079185, 0.834042275677090994],
[0.799894737304310821, 0.856517245570469044, 0.838805178417436292],
[0.806474420700894701, 0.860690505346051293, 0.843585258949679506],
[0.813053299348040937, 0.864884620097560175, 0.848382662715224889],
[0.819631653979006836, 0.869099801133765726, 0.853197536451664074],
[0.826209747528255378, 0.873336265060712491, 0.858030028220857832],
[0.832787824371375773, 0.877594234272324747, 0.862880287438636984],
[0.839366109373486102, 0.881873937511548744, 0.867748464906391570],
[0.845944806713260666, 0.886175610515830048, 0.872634712844872040],
[0.852524098441187483, 0.890499496764115550, 0.877539184930629546],
[0.859104142719596120, 0.894845848346982553, 0.882462036335594724],
[0.865685071677678719, 0.899214926987279450, 0.887403423770462996],
[0.872266988795410869, 0.903607005246365058, 0.892363505532708823],
[0.878849965704616043, 0.908022367961364041, 0.897342441560318727],
[0.885434038260211720, 0.912461313972980248, 0.902340393492653714],
[0.892019201686092833, 0.916924158222906516, 0.907357524740310284],
[0.898605404531706231, 0.921411234327307760, 0.912394000566515984],
[0.905192541077486146, 0.925922897772130882, 0.917449988183501319],
[0.911780441684168053, 0.930459529933358565, 0.922525656868668054],
[0.918368860367272943, 0.935021543210962647, 0.927621178107378985],
[0.924957458550248690, 0.939609387696555109, 0.932736725772321695],
[0.931545783432900620, 0.944223560001567486, 0.937872476354269291],
[0.938133238568946037, 0.948864615209782714, 0.943028609267051787],
[0.944719042818715549, 0.953533183488646352, 0.948205307263031094],
[0.951302171312440659, 0.958229993904341382, 0.953402757019297664],
[0.957881267325389918, 0.962955909874914640, 0.958621149999487998],
[0.964454504506485733, 0.967711984468202835, 0.963860683785368377],
[0.971019358374519803, 0.972499551931908956, 0.969121564265874036],
[0.977572196426235718, 0.977320391583667791, 0.974404009538293647],
[0.984107457759240689, 0.982177055281267530, 0.979708257679707484],
[0.990615714252182422, 0.987073640111113204, 0.985034585051859479],
[0.997077519048864658, 0.992018236064730830, 0.990383364234992292],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
