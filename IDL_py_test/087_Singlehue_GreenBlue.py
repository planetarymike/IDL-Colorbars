from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000331340450518928054, 0.000359197593951126085, 0.000344694426647858309],
[0.000923553265379613059, 0.00103863448386357386, 0.000987377204047100400],
[0.00175165231483779020, 0.00202409038734030358, 0.00191119280830383091],
[0.00278982072025555023, 0.00329945005916679190, 0.00309771454059669816],
[0.00401999286767444272, 0.00485506652048404812, 0.00453520391843752549],
[0.00542825702553970373, 0.00668461311635769155, 0.00621540279849303566],
[0.00700328420436105350, 0.00878376449825850857, 0.00813217203561031506],
[0.00873549986008206186, 0.0111495234516175799, 0.0102807895745449032],
[0.0106165940530523022, 0.0137798336812238829, 0.0126575430913139862],
[0.0126392080576378865, 0.0166733381318366000, 0.0152594736744585246],
[0.0147967219670917891, 0.0198292188638972029, 0.0180842047167597726],
[0.0170831042402911325, 0.0232470860019208109, 0.0211298223951544711],
[0.0194928013225658982, 0.0269268978799162943, 0.0243947891345168491],
[0.0220206543220909275, 0.0308689019098286436, 0.0278778790989439099],
[0.0246618346006089867, 0.0350735897190078624, 0.0315781289271393761],
[0.0274117929770755150, 0.0395416624117371982, 0.0354947993357239352],
[0.0302662189729971803, 0.0441109735870372985, 0.0396273446682764707],
[0.0332210076233731555, 0.0486275490889137643, 0.0438318930060579218],
[0.0362722320932283016, 0.0531045068151925412, 0.0479824332069674689],
[0.0394161208213611031, 0.0575452136397953604, 0.0520913632931679985],
[0.0425787528565850990, 0.0619526602019756165, 0.0561617629014978040],
[0.0456732656410669749, 0.0663295189234597016, 0.0601963855209679613],
[0.0487119310901115918, 0.0706781909046849954, 0.0641977062617589411],
[0.0516971068131274816, 0.0750008442156043509, 0.0681679608934128156],
[0.0546309188893691414, 0.0792994454477053134, 0.0721091780405260785],
[0.0575152909118037195, 0.0835757859314188445, 0.0760232059574748875],
[0.0603519683624106698, 0.0878315036883977607, 0.0799117349656577047],
[0.0631425392104107142, 0.0920681019425478031, 0.0837763163885144324],
[0.0658884514290637713, 0.0962869648311555915, 0.0876183786349699345],
[0.0685910279790505340, 0.100489370820206453, 0.0914392409430455078],
[0.0712514796940035278, 0.104676504223650629, 0.0952401251897302958],
[0.0738709164172174082, 0.108849465146272167, 0.0990221660920371227],
[0.0764503566713822802, 0.113009278107739364, 0.102786420061230233],
[0.0789907360905353906, 0.117156899556890959, 0.106533872922986744],
[0.0814929148018697369, 0.121293224447073272, 0.110265446677439566],
[0.0839576839119714480, 0.125419092012979710, 0.113982005442213014],
[0.0863857712255493571, 0.129535290865164188, 0.117684360696888562],
[0.0887778463033646603, 0.133642563498852673, 0.121373275927467578],
[0.0911345249486958664, 0.137741610297841877, 0.125049470753285430],
[0.0934563731975394108, 0.141833093101366908, 0.128713624605701349],
[0.0957439108760844981, 0.145917638391251186, 0.132366380017120561],
[0.0979976147794172914, 0.149995840147929965, 0.136008345570023004],
[0.100217921517446434, 0.154068262416730162, 0.139640098548327041],
[0.102405230067381753, 0.158135441619787570, 0.143262187327291790],
[0.104559904066554965, 0.162197888643962951, 0.146875133533044072],
[0.106682273874682099, 0.166256090730910133, 0.150479433998519568],
[0.108772638430719520, 0.170310513191900187, 0.154075562538984467],
[0.110831266926100791, 0.174361600967003927, 0.157663971567233913],
[0.112858400313310514, 0.178409780045683031, 0.161245093565959674],
[0.114854252666274526, 0.182455458763668366, 0.164819342432554944],
[0.116819012406991635, 0.186499028989143556, 0.168387114709724617],
[0.118752843410986825, 0.190540867209658904, 0.171948790713634003],
[0.120655886002645957, 0.194581335529823984, 0.175504735569925546],
[0.122528257850105876, 0.198620782588645739, 0.179055300166718862],
[0.124370054768215110, 0.202659544404350911, 0.182600822032653154],
[0.126181351437052308, 0.206697945153636653, 0.186141626147126232],
[0.127962202042563422, 0.210736297891525704, 0.189678025689077018],
[0.129712640845122351, 0.214774905217316014, 0.193210322729974737],
[0.131432682681079938, 0.218814059891526080, 0.196738808876061377],
[0.133122323401760112, 0.222854045408220458, 0.200263765864364618],
[0.134781540253811200, 0.226895136526634456, 0.203785466116526037],
[0.136410292204298594, 0.230937599765625667, 0.207304173254080182],
[0.138008520213512065, 0.234981693864109553, 0.210820142578447667],
[0.139576147458005145, 0.239027670210340881, 0.214333621518588424],
[0.141113079506070577, 0.243075773242602044, 0.217844850048970695],
[0.142619204447457071, 0.247126240823629828, 0.221354061080254627],
[0.144094392978875996, 0.251179304590880947, 0.224861480824870008],
[0.145538498446497383, 0.255235190284543500, 0.228367329139452624],
[0.146951356846402675, 0.259294118055026668, 0.231871819845935079],
[0.148332786783695464, 0.263356302751497628, 0.235375161032918834],
[0.149682589390681575, 0.267421954192905653, 0.238877555338808334],
[0.151000548204350077, 0.271491277422794552, 0.242379200218063528],
[0.152286429003109652, 0.275564472949095474, 0.245880288191803409],
[0.153539979602511117, 0.279641736969994947, 0.249381007083889827],
[0.154760929609476933, 0.283723261586868836, 0.252881540243529490],
[0.155948990134278681, 0.287809235005204722, 0.256382066755335758],
[0.157103853459333448, 0.291899841724342690, 0.259882761637726889],
[0.158225192663580677, 0.295995262716811647, 0.263383796030454642],
[0.159312661200999461, 0.300095675597965628, 0.266885337372002929],
[0.160365892431522328, 0.304201254786576947, 0.270387549567530749],
[0.161384499102364437, 0.308312171656978828, 0.273890593147984862],
[0.162368072777457295, 0.312428594683321126, 0.277394625420957774],
[0.163316183212375676, 0.316550689576445887, 0.280899800613824302],
[0.164228377671800013, 0.320678619413856725, 0.284406270009646855],
[0.165104180186213811, 0.324812544763221911, 0.287914182076306702],
[0.165943090744085697, 0.328952623799813382, 0.291423682589282584],
[0.166744584415409625, 0.333099012418261009, 0.294934914748467170],
[0.167508110401938526, 0.337251864338970031, 0.298448019289385580],
[0.168233091008976710, 0.341411331209523050, 0.301963134589151749],
[0.168918920532958983, 0.345577562701371910, 0.305480396767479956],
[0.169564964058440570, 0.349750706602097616, 0.308999939783038136],
[0.170170556157381442, 0.353930908903496322, 0.312521895525418036],
[0.170734999482803740, 0.358118313885741557, 0.316046393902976119],
[0.171257563248025380, 0.362313064197840706, 0.319573562926779520],
[0.171737481581637846, 0.366515300934603383, 0.323103528790877559],
[0.172173951747293663, 0.370725163710317385, 0.326636415949108305],
[0.172566132216062457, 0.374942790729316688, 0.330172347188627147],
[0.172913140577705321, 0.379168318853613906, 0.333711443700343668],
[0.173214051275560305, 0.383401883667759180, 0.337253825146430986],
[0.173467893147890240, 0.387643619541076068, 0.340799609725067454],
[0.173673646756409283, 0.391893659687420071, 0.344348914232560421],
[0.173830241480329162, 0.396152136222586881, 0.347901854122988019],
[0.173936552351465601, 0.400419180219500237, 0.351458543565491000],
[0.173991396602808573, 0.404694921761293514, 0.355019095499339576],
[0.173993529899271082, 0.408979489992399192, 0.358583621686884790],
[0.173941642215172942, 0.413273013167744285, 0.362152232764510640],
[0.173834353318082363, 0.417575618700155804, 0.365725038291680460],
[0.173670207813025501, 0.421887433206061424, 0.369302146798181408],
[0.173447669694440726, 0.426208582549579718, 0.372883665829652877],
[0.173165116345583736, 0.430539191885071448, 0.376469701991484496],
[0.172820831916008860, 0.434879385698240473, 0.380060360991167523],
[0.172412999997161753, 0.439229287845846861, 0.383655747679171877],
[0.171939695503515594, 0.443589021594108679, 0.387255966088422332],
[0.171398875651857491, 0.447958709655848775, 0.390861119472442842],
[0.170788369913502297, 0.452338474226457510, 0.394471310342229209],
[0.170105868793144710, 0.456728437018723066, 0.398086640501918110],
[0.169348911262518220, 0.461128719296585332, 0.401707211083299820],
[0.168514870646445020, 0.465539441907864282, 0.405333122579239591],
[0.167600938721560150, 0.469960725316017680, 0.408964474876050532],
[0.166604107742808927, 0.474392689630966868, 0.412601367284872789],
[0.165521150057248934, 0.478835454639041480, 0.416243898572102422],
[0.164348594896395611, 0.483289139832078496, 0.419892166988913851],
[0.163082701853603157, 0.487753864435725715, 0.423546270299921479],
[0.161719430447438722, 0.492229747436973952, 0.427206305811012710],
[0.160254405039330528, 0.496716907610966485, 0.430872370396397974],
[0.158682874206136915, 0.501215463547112883, 0.434544560524910473],
[0.156999663454584520, 0.505725533674541983, 0.438222972285585655],
[0.162060566885784796, 0.509545807856021105, 0.441891537562859038],
[0.173471139571489602, 0.512671510531940822, 0.445550228024652994],
[0.184331920319906445, 0.515802574971150230, 0.449215262411044203],
[0.194730044464082736, 0.518939139982990572, 0.452886736741813289],
[0.204733002739890424, 0.522081343425358835, 0.456564746731130400],
[0.214394258490289313, 0.525229322243739194, 0.460249387810747035],
[0.223756965749649650, 0.528383212509269118, 0.463940755152621620],
[0.232856516252539669, 0.531543149455900754, 0.467638943691000064],
[0.241722335490602624, 0.534709267516679798, 0.471344048143982619],
[0.250379180992233164, 0.537881700359195802, 0.475056163034593915],
[0.258848101120440932, 0.541060580920238565, 0.478775382711381703],
[0.267147156553715792, 0.544246041439691464, 0.482501801368566408],
[0.275291972235679805, 0.547438213493705583, 0.486235513065761016],
[0.283296165875406791, 0.550637228027182624, 0.489976611747277302],
[0.291171685007523828, 0.553843215385604770, 0.493725191261045582],
[0.298929075277701517, 0.557056305346236957, 0.497481345377155548],
[0.306577696282531120, 0.560276627148736495, 0.501245167806045000],
[0.314125896912736846, 0.563504309525199143, 0.505016752216346121],
[0.321581159068177691, 0.566739480729670064, 0.508796192252407464],
[0.328950216412457364, 0.569982268567144623, 0.512583581551508516],
[0.336239153239972277, 0.573232800422090682, 0.516379013760778105],
[0.343453487357067100, 0.576491203286515930, 0.520182582553834871],
[0.350598240008440476, 0.579757603787602660, 0.523994381647157170],
[0.357677995225603285, 0.583032128214945100, 0.527814504816201957],
[0.364696950477312820, 0.586314902547395489, 0.531643045911282419],
[0.371658960120737736, 0.589606052479567544, 0.535480098873213906],
[0.378567572857433254, 0.592905703447993759, 0.539325757748743029],
[0.385426064168039984, 0.596213980656978060, 0.543180116705772598],
[0.392237464518760237, 0.599531009104160795, 0.547043270048385821],
[0.399004583989394479, 0.602856913605814504, 0.550915312231690213],
[0.405730033858375916, 0.606191818821894879, 0.554796337876482193],
[0.412416245588434982, 0.609535849280873121, 0.558686441783748711],
[0.419065487582472918, 0.612889129404359800, 0.562585718949011659],
[0.425679880018856704, 0.616251783531552855, 0.566494264576524409],
[0.432261408026222149, 0.619623935943525384, 0.570412174093333113],
[0.438811933417402322, 0.623005710887370667, 0.574339543163203459],
[0.445333205168721269, 0.626397232600236720, 0.578276467700432728],
[0.451826868803256454, 0.629798625333257478, 0.582223043883542180],
[0.458294474813586816, 0.633210013375417824, 0.586179368168869064],
[0.464737486240310582, 0.636631521077352991, 0.590145537304057388],
[0.471157285506356771, 0.640063272875129874, 0.594121648341461306],
[0.477555180593517703, 0.643505393314007690, 0.598107798651463352],
[0.483932410636036925, 0.646958007072222063, 0.602104085935720512],
[0.490290150996262997, 0.650421238984798977, 0.606110608240335025],
[0.496629517879080329, 0.653895214067426678, 0.610127463968970107],
[0.502951572534531710, 0.657380057540424501, 0.614154751895904960],
[0.509257325092092650, 0.660875894852806067, 0.618192571179044914],
[0.515547738064602634, 0.664382851706490807, 0.622241021372885394],
[0.521823729555443538, 0.667901054080669576, 0.626300202441441800],
[0.528086176198495627, 0.671430628256365125, 0.630370214771148074],
[0.534335915857064525, 0.674971700841218492, 0.634451159183733293],
[0.540573750104981321, 0.678524398794510430, 0.638543136949077494],
[0.546800446510401605, 0.682088849452486490, 0.642646249798056179],
[0.553016740740707280, 0.685665180553981957, 0.646760599935381375],
[0.559223338504757472, 0.689253520266412623, 0.650886290052435812],
[0.565420917347158380, 0.692853997212146688, 0.655023423340121647],
[0.571610128307498799, 0.696466740495316983, 0.659172103501709738],
[0.577791597456335682, 0.700091879729098032, 0.663332434765715795],
[0.583965927318322975, 0.703729545063511930, 0.667504521898790726],
[0.590133698191967038, 0.707379867213796532, 0.671688470218643863],
[0.596295469374453102, 0.711042977489398598, 0.675884385607001259],
[0.602451780299163908, 0.714719007823637398, 0.680092374522595744],
[0.608603151592797764, 0.718408090804117272, 0.684312544014215041],
[0.614750086058247769, 0.722110359703931781, 0.688545001733789519],
[0.620893069588879021, 0.725825948513749597, 0.692789855949543898],
[0.627032572019252443, 0.729554991974843192, 0.697047215559210009],
[0.633169047916840921, 0.733297625613155590, 0.701317190103309174],
[0.639302937318888209, 0.737053985774492437, 0.705599889778512179],
[0.645434666418122194, 0.740824209660929545, 0.709895425451078199],
[0.651564648200690932, 0.744608435368553478, 0.714203908670384857],
[0.657693283039322840, 0.748406801926652987, 0.718525451682554661],
[0.663820959244437514, 0.752219449338486057, 0.722860167444180468],
[0.669948053575651237, 0.756046518623764707, 0.727208169636164747],
[0.676074931715816785, 0.759888151863022388, 0.731569572677677082],
[0.682201948709541650, 0.763744492244029072, 0.735944491740232021],
[0.688329449367850676, 0.767615684110450114, 0.740333042761908922],
[0.694457768640475592, 0.771501873012966022, 0.744735342461708250],
[0.700587231957005452, 0.775403205763084524, 0.749151508354066409],
[0.706718155537957471, 0.779319830489911158, 0.753581658763528006],
[0.712850846676594929, 0.783251896700177475, 0.758025912839597416],
[0.718985603992128852, 0.787199555341859924, 0.762484390571770532],
[0.725122717654749560, 0.791162958871749700, 0.766957212804771138],
[0.731262469582663166, 0.795142261327415167, 0.771444501253992110],
[0.737405133611185870, 0.799137618404004657, 0.775946378521170987],
[0.743550975633590849, 0.803149187536451925, 0.780462968110301358],
[0.749700253713279641, 0.807177127987671161, 0.784994394443814025],
[0.755853218166454677, 0.811221600943451637, 0.789540782879034508],
[0.762010111614264018, 0.815282769614837699, 0.794102259724949411],
[0.768171169002972887, 0.819360799348904489, 0.798678952259296193],
[0.774336617590382414, 0.823455857748975117, 0.803270988746021430],
[0.780506676896254525, 0.827568114805487309, 0.807878498453121208],
[0.786681558613965826, 0.831697743038905202, 0.812501611670912172],
[0.792861466480072830, 0.835844917656304753, 0.817140459730773094],
[0.799046596097703010, 0.840009816723531810, 0.821795175024404356],
[0.805237134708891578, 0.844192621355155270, 0.826465891023659749],
[0.811433260909966036, 0.848393515924847907, 0.831152742301022096],
[0.817635144302878647, 0.852612688299287380, 0.835855864550790972],
[0.823842945073900879, 0.856850330099282020, 0.840575394611082882],
[0.830056813489320255, 0.861106636992538643, 0.845311470486741268],
[0.836276889295546888, 0.865381809023378912, 0.850064231373293566],
[0.842503301008277750, 0.869676050985842330, 0.854833817682103758],
[0.848736165071916626, 0.873989572848008600, 0.859620371066911582],
[0.854975584866060845, 0.878322590237144096, 0.864424034451984125],
[0.861221649530352296, 0.882675324997532651, 0.869244952062163678],
[0.867474432571740284, 0.887048005835779696, 0.874083269455161460],
[0.873733990208972022, 0.891440869072143927, 0.878939133556529972],
[0.880000359396853726, 0.895854159521428106, 0.883812692697877322],
[0.886273555456630446, 0.900288131533547475, 0.888704096659020393],
[0.892553569216906650, 0.904743050232788559, 0.893613496715000122],
[0.898840363539849418, 0.909219193006834736, 0.898541045689151163],
[0.905133869066134467, 0.913716851313371658, 0.903486898013812434],
[0.911433978954137580, 0.918236332895600693, 0.908451209800822279],
[0.917740542305973683, 0.922777964531602657, 0.913434138924701267],
[0.924053355851669256, 0.927342095491624607, 0.918435845122610339],
[0.930372153281711967, 0.931929101950704220, 0.923456490116845052],
[0.936696591340782980, 0.936539392716309149, 0.928496237768269062],
[0.943026231357931288, 0.941173416807662644, 0.933555254273214064],
[0.949360514175450532, 0.945831673711658882, 0.938633708423096125],
[0.955698725231186930, 0.950514727628144374, 0.943731771957379673],
[0.962039944409532555, 0.955223227881227488, 0.948849620060683630],
[0.968382971275730031, 0.959957939287733875, 0.953987432092488930],
[0.974726208316955334, 0.964719789496839453, 0.959145392713108502],
[0.981067467480135291, 0.969509947301493535, 0.964323693732597520],
[0.987403623456404644, 0.974329962776470215, 0.969522537402566775],
[0.993729920358583763, 0.979182047120214061, 0.974742142968092140],
[1.00000000000000000, 0.984069732549108012, 0.979982762088149939],
[1.00000000000000000, 0.988999961277407524, 0.985244727603925230],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
