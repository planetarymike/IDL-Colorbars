from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.000358115, 0.00033015507685603266, 0.00038412832059455618],
[0.0010418532150359785, 0.00093452132638041532, 0.0011475930789618006],
[0.0020433198579897284, 0.00179129, 0.0022908936742240286],
[0.0033530420650206352, 0.0028774025473830601, 0.0038099161723571884],
[0.0049684402285481754, 0.0041765144407272924, 0.0057051480552886853],
[0.0068907165437765263, 0.0056757462448098475, 0.0079790882388394539],
[0.0091235374001568271, 0.0073642876907497983, 0.0106352],
[0.011672351791426307, 0.0092326816713562149, 0.013677379790603229],
[0.014544, 0.011272409376551823, 0.017109658843682846],
[0.017746420419008983, 0.013475631223011566, 0.020936],
[0.021288552378968342, 0.015835016109132013, 0.025160156396276612],
[0.025180134040284154, 0.018343624423027356, 0.029785581103331824],
[0.029431646139247668, 0.020994825618821517, 0.034815331005076833],
[0.034054229881667349, 0.023782239032984313, 0.040252005662930947],
[0.039059626197276001, 0.026699690908199771, 0.045791997827046287],
[0.0442844, 0.029741183074385266, 0.051280880678848680],
[0.049496027199588961, 0.032900870237461147, 0.056724233895747399],
[0.054708530462842485, 0.036173043769448708, 0.062123992784681802],
[0.059925827610771205, 0.039552120505446035, 0.067481572727165429],
[0.065151358972826229, 0.042943485658285076, 0.072797953576878349],
[0.070388125475696006, 0.0462565, 0.078073746499751823],
[0.075638747812905083, 0.049503103772740954, 0.083309247676601666],
[0.080905514526767058, 0.052685489534806930, 0.088504482036461551],
[0.086190421513602927, 0.055805795615381522, 0.093659239329493604],
[0.091495204816125497, 0.058865944932735705, 0.098773104247479898],
[0.0968214, 0.0618677, 0.10384548187255102],
[0.10217020592079820, 0.064812747879255811, 0.108876],
[0.10754282349046609, 0.067702598217803917, 0.11386262506420072],
[0.11294015377346481, 0.070538722834604300, 0.11880548429644680],
[0.11836297222609274, 0.073322509553659349, 0.12370307448234227],
[0.12381190969158443, 0.076055287379333952, 0.12855417775960865],
[0.12928746373161165, 0.078738337774261424, 0.13335749268854477],
[0.13479000865598051, 0.081372904523369677, 0.13811164483801233],
[0.14031980445823441, 0.083960202394595340, 0.142815],
[0.145877, 0.086501424767713608, 0.14746665564083244],
[0.15146166436857211, 0.088997750371633738, 0.15206448432202707],
[0.15707374516535580, 0.091450349245690510, 0.15660710649558807],
[0.16271312274810928, 0.0938604, 0.16109291544268001],
[0.16838, 0.096229034597758306, 0.16552],
[0.17407287009284025, 0.098557462295437631, 0.16988755529187755],
[0.17979260538046496, 0.10084685351374303, 0.17419308111759121],
[0.18553837751813604, 0.10309840296890110, 0.17843519617055256],
[0.19130970362439240, 0.105313, 0.18261223997184703],
[0.19710604165228590, 0.10749283372233764, 0.18672255942482999],
[0.20292679395362601, 0.10963818983675994, 0.19076451437779376],
[0.20877131063800397, 0.11175065781839144, 0.19473648301058904],
[0.21463889274702480, 0.11383152980728881, 0.19863686705364875],
[0.22052879526118824, 0.11588212243873172, 0.20246409684507544],
[0.22644022995433644, 0.11790377788953863, 0.20621663622912762],
[0.23237236810844592, 0.11989786468886676, 0.20989298729750405],
[0.23832434309974321, 0.12186577830610249, 0.21349169497323683],
[0.24429525286557569, 0.12380894152713920, 0.21701135143570099],
[0.25028416226017980, 0.12572880462925018, 0.22045060038421488],
[0.25629010530637802, 0.12762684536388932, 0.22380814113689135],
[0.26231208734930855, 0.12950456875602864, 0.22708273256079353],
[0.26834908711749678, 0.13136350672808095, 0.23027319682902259],
[0.2744, 0.13320521755599352, 0.23337842300009531],
[0.28046393341513970, 0.135031, 0.23639737041485542],
[0.28653962166015423, 0.13684331827035484, 0.23932907190616204],
[0.29262601460215976, 0.13864294937480870, 0.24217263681673512],
[0.29872198585617643, 0.14043183362123979, 0.24492725382076369],
[0.30482639306716180, 0.14221164751531365, 0.24759219354520806],
[0.31093807942706564, 0.14398408751979855, 0.25016681098714366],
[0.31705587512509026, 0.14575086852880051, 0.25265054772397050],
[0.32317859873329718, 0.14751372222834094, 0.25504293391386590],
[0.32930505852959280, 0.14927439535001885, 0.25734359008446422],
[0.33543405376005331, 0.15103464782460491, 0.25955222870840250],
[0.34156437584249355, 0.15279625084254050, 0.26166865556506103],
[0.34769480951314513, 0.15456098482845770, 0.26369277088855669],
[0.35382413391828638, 0.15633063733698654, 0.26562457030280318],
[0.35995112365265641, 0.15810700087728122, 0.26746414554521297],
[0.36607454974647485, 0.15989187067387242, 0.26921168498140108],
[0.37219318060290446, 0.161687, 0.27086747391403387],
[0.37830578288777811, 0.16349430969260675, 0.27243189468974988],
[0.38441112237344460, 0.16531546205340669, 0.27390542660885142],
[0.39050796473857463, 0.16715228215042452, 0.27528864564322214],
[0.39659507632579832, 0.16900654352226607, 0.27658222396867732],
[0.40267122485902712, 0.17088000809733001, 0.27778692931866361],
[0.40873518012234905, 0.172774, 0.27890362416690906],
[0.41478571460235841, 0.17469152177154657, 0.27993326474729174],
[0.42082160409580421, 0.17663301457222613, 0.28087689991980447],
[0.42684162828442390, 0.17860059311040871, 0.28173566989207543],
[0.43284457127882170, 0.18059592457037932, 0.28251080480643992],
[0.43882922213324688, 0.18262064998971139, 0.28320362320304743],
[0.44479437533310612, 0.18467638194731859, 0.28381553036992607],
[0.45073883125702491, 0.18676470230590716, 0.28434801659132491],
[0.45666139661525534, 0.18888716001695721, 0.28480265530597826],
[0.46256088486619989, 0.19104526899611426, 0.28518110118722967],
[0.46843611661280066, 0.19324050607652463, 0.28548508815717710],
[0.47428591998049569, 0.19547430904729196, 0.28571642734716623],
[0.48010913097844560, 0.19774807478376494, 0.28587700501707430],
[0.48590459384567103, 0.20006315747590642, 0.28596878044587487],
[0.491671, 0.20242086696045414, 0.28599378380596796],
[0.49740769527751089, 0.20482246716199426, 0.28595411403367887],
[0.50311306640573261, 0.207269, 0.28585193670820386],
[0.50878615514262926, 0.20976215729782738, 0.285689],
[0.51442585165236054, 0.21230253310043695, 0.28546904235794102],
[0.52003105617759737, 0.21489136906392786, 0.28519297097414570],
[0.52560067932371590, 0.21752968025799962, 0.28486367932514423],
[0.53113364234004312, 0.22021842897869493, 0.28448363551235201],
[0.53662887739952292, 0.22295852403958333, 0.28405536238443441],
[0.54208532787819830, 0.22575082018836107, 0.28358143579342276],
[0.54750194863585633, 0.22859611764770821, 0.28306448294431069],
[0.55287770629919197, 0.23149516177853907, 0.28250718084598114],
[0.55821157954881318, 0.23444864286314093, 0.28191225487040683],
[0.56350255941142580, 0.23745719600506648, 0.28128247742607110],
[0.56874964955851026, 0.24052140114206033, 0.28062066675045100],
[0.57395186661280750, 0.24364178316778828, 0.27992968582519678],
[0.57910824046394138, 0.24681881215763207, 0.279212],
[0.58421781459448052, 0.25005290369341049, 0.27847188324032612],
[0.58927964641778485, 0.25334441928149848, 0.27771100325543091],
[0.59429280762894698, 0.25669366685853245, 0.27693283507581801],
[0.59925638457017783, 0.26010090137861808, 0.27614045350445987],
[0.60416947861198844, 0.26356632547578113, 0.27533697417859909],
[0.609031, 0.26709009019527785, 0.27452555331967232],
[0.61384070102934307, 0.27067229578729751, 0.273709],
[0.61859711096629533, 0.27431299255659436, 0.27289171395510997],
[0.62329960202141599, 0.27801218176159853, 0.27207580980216484],
[0.62794735707272054, 0.28176981655667160, 0.27126499285447409],
[0.63253957672201722, 0.28558580297128783, 0.27046262130448540],
[0.63707547982526303, 0.28946000092010504, 0.26967209387705915],
[0.64155430404986735, 0.293392, 0.26889684988616003],
[0.64597530646037482, 0.29738224673519292, 0.26814036924436274],
[0.65033776413395872, 0.30142979326507730, 0.26740617239462922],
[0.65464097480715255, 0.30553455080322350, 0.26669782013137411],
[0.65888425755523639, 0.30969616452942161, 0.266019],
[0.663067, 0.31391423991049661, 0.26537309216640964],
[0.66718842658710431, 0.31818834377922761, 0.26476403593095749],
[0.67124806431490969, 0.32251800540583492, 0.26419546149056533],
[0.67524527861527517, 0.32690271755878070, 0.263671],
[0.67917950668847316, 0.33134193755197960, 0.26319480652221305],
[0.68305021191296045, 0.33583508827590192, 0.26277033536258665],
[0.68685688479139484, 0.34038155921039276, 0.26240156024753741],
[0.69059904393972060, 0.34498070741740156, 0.26209236008410663],
[0.694276, 0.34963185851215822, 0.26184663780012601],
[0.69788804232076285, 0.35433430761167523, 0.26166831638825505],
[0.70143406887742155, 0.35908732025977974, 0.26156133439059082],
[0.70491395864745321, 0.36389013332818859, 0.26152964080281210],
[0.70832738722710875, 0.36874195589346059, 0.26157718938372015],
[0.71167406521853216, 0.37364197008992328, 0.26170793236392759],
[0.71495373954490249, 0.37858933193895866, 0.26192581355628752],
[0.71816619481422705, 0.38358317215528837, 0.26223476088033326],
[0.72131125473182389, 0.38862259693113538, 0.26263867832332882],
[0.72438878356137282, 0.39370668869936454, 0.26314143737139156],
[0.72739868763415494, 0.39883450687691696, 0.26374686795524510],
[0.73034091690590308, 0.404005, 0.26445874896624311],
[0.73321546656042724, 0.40921744938302224, 0.26528079840911245],
[0.73602237865888709, 0.41447058391219144, 0.26621666326802190],
[0.73876174383332926, 0.41976346662730624, 0.26726990917182159],
[0.74143370302276057, 0.42509505244230650, 0.26844400995223083],
[0.74403844924969609, 0.43046427739775273, 0.26974233719514923],
[0.74657622943479185, 0.43587005931722994, 0.27116814988976934],
[0.74904734624674851, 0.44131129846014305, 0.27272458428260976],
[0.75145215998429249, 0.44678687817336821, 0.27441464404376659],
[0.75379109048660409, 0.45229566554428774, 0.27624119085051002],
[0.75606461906810884, 0.45783651205776316, 0.27820693548879605],
[0.75827329047306646, 0.463408, 0.28031442956642005],
[0.76041771484488996, 0.46900971442930334, 0.28256605792249850],
[0.76249856970461083, 0.47463970126405192, 0.28496403180704288],
[0.76451660193234083, 0.48029701057752500, 0.28751038289177844],
[0.76647262974502028, 0.48598, 0.29020695815954634],
[0.76836754466315771, 0.491689, 0.293055],
[0.77020231345863344, 0.49742065342981662, 0.296057],
[0.77197798007503216, 0.503175, 0.29921364687209701],
[0.77369566751131691, 0.50895043777179561, 0.30252576744846471],
[0.77535657965900018, 0.514746, 0.30599446226263083],
[0.77696200308230612, 0.52055968806173680, 0.30962041426321341],
[0.77851330873015479, 0.52639092644697982, 0.31340411140763408],
[0.78001195356810305, 0.53223819528893712, 0.31734584853754022],
[0.781459, 0.53810020481759579, 0.32144572993275899],
[0.78285752789048235, 0.543976, 0.32570367247165699],
[0.78420781470156598, 0.54986326990005963, 0.33011940932225914],
[0.78551215785048989, 0.55576173211640134, 0.33469249408687490],
[0.78677246515224397, 0.56166975054027601, 0.339422],
[0.78799073780415563, 0.56758602819271597, 0.34430805136661785],
[0.78916907107220380, 0.57350927008596098, 0.34934877538200149],
[0.79030965478034565, 0.57943818446088824, 0.35454336057728564],
[0.79141477358601153, 0.58537148406423067, 0.35989053551723116],
[0.79248680702467222, 0.591308, 0.36538887948151610],
[0.79352822930617994, 0.59724612040970670, 0.37103682781826319],
[0.79454160884550973, 0.60318491721414247, 0.37683267725106523],
[0.79552960751059298, 0.60912302219231473, 0.38277459110465512],
[0.79649497957009374, 0.61505919111895624, 0.38886060442134612],
[0.79744057032433435, 0.620992, 0.39508862894710661],
[0.79836931440304970, 0.626921, 0.40145645797245355],
[0.79928423371434620, 0.63284384285900452, 0.40796177101923053],
[0.80018843503008663, 0.63876010749541823, 0.41460213836963278],
[0.80108510719399206, 0.644668, 0.42137502543854832],
[0.80197751794005456, 0.65056769789898494, 0.42827779699437113],
[0.80286901031031210, 0.65645675994845187, 0.435308],
[0.80376299866282652, 0.66233452984234820, 0.442462],
[0.80466296426263018, 0.66819993683434709, 0.44973764129825350],
[0.805572, 0.67405193760023718, 0.45713172561663812],
[0.80649505738805816, 0.67988951789276319, 0.46464114698619890],
[0.80743443637614787, 0.68571169419054700, 0.47226274783639760],
[0.80839428375482780, 0.69151751533633810, 0.47999329625698189],
[0.80937833438584872, 0.69730606415968011, 0.48782948948113852],
[0.81039035473024001, 0.70307645907902172, 0.49576795734991158],
[0.81143413553295673, 0.70882785567816686, 0.50380526577341878],
[0.81251348413129132, 0.71455944825195439, 0.51193792020329787],
[0.81363221640740291, 0.72027047131602029, 0.52016236912947789],
[0.81479414840914144, 0.72596020107548576, 0.52847500761290411],
[0.81600308766709784, 0.73162795684751414, 0.53687218086420485],
[0.81726282423975627, 0.73727310243269773, 0.54535018787658673],
[0.81857712152226081, 0.74289504743038992, 0.55390528511944392],
[0.81994970685796920, 0.74849324849324528, 0.562534],
[0.82138426199538417, 0.75406721051640979, 0.57123158617708403],
[0.82288441343620589, 0.75961648775702573, 0.57999512448404344],
[0.82445372272307393, 0.765141, 0.58882042986639649],
[0.82609567671810114, 0.77063945792641098, 0.59770360392491917],
[0.82781367792522731, 0.77611251520068547, 0.60664072930352209],
[0.82961103491101995, 0.78155961807435126, 0.61562787383425421],
[0.83149095287949226, 0.78698058170294516, 0.62466109472869180],
[0.83345652445684293, 0.79237527565448507, 0.63373644280593100],
[0.83551072074179889, 0.79774362444774360, 0.64284996674573103],
[0.83765638267624010, 0.80308560799933182, 0.65199771735371059],
[0.83989621278915572, 0.80840126197919226, 0.66117575182385147],
[0.84223276736455199, 0.81369067807479256, 0.67038],
[0.84466844908093330, 0.81895400416499720, 0.67960695849161623],
[0.84720550016602358, 0.82419144440546055, 0.68885231500384447],
[0.84984599610598288, 0.82940325922820102, 0.69811233222690505],
[0.85259183994309207, 0.83458976525900996, 0.70738316189421113],
[0.85544475718999269, 0.839751, 0.71666098660314093],
[0.85840629138211633, 0.84488839738522103, 0.72594202349631298],
[0.86147780028268683, 0.85000143591054222, 0.73522252775337271],
[0.86466045274708392, 0.85509098985677945, 0.74449879585764600],
[0.86795522624489640, 0.860158, 0.75376716859747528],
[0.87136290502918878, 0.86520207387365911, 0.76302403375639039],
[0.87488407893283127, 0.87022495425834190, 0.772266],
[0.87851914276143384, 0.87522704980399446, 0.78148904097184335],
[0.88226829624116254, 0.88020916907760349, 0.79069021230190850],
[0.88613154446724218, 0.88517217330060505, 0.79986593681020701],
[0.89010869878495902, 0.89011697606291085, 0.80901286242565518],
[0.89419937801866978, 0.89504454316055004, 0.81812768990793183],
[0.89840300994509881, 0.89995589260733688, 0.82720717112767084],
[0.902719, 0.90485209488433238, 0.83624810612563616],
[0.90714589724497840, 0.90973427350882508, 0.84524733866620860],
[0.91168306684497069, 0.91460360602919621, 0.85420174990821640],
[0.91632901972791780, 0.91946132558645621, 0.86310824968541156],
[0.921082, 0.92430872323219326, 0.87196376470040371],
[0.92594105751606826, 0.92914715126383629, 0.88076522265881840],
[0.93090356301293198, 0.93397802794377893, 0.88950953095412599],
[0.935968, 0.93880284413006598, 0.89819354787229477],
[0.94113113559913386, 0.94362317259908424, 0.90681404326887660],
[0.94639141115551861, 0.94844068125052205, 0.91536764400619419],
[0.95174576133296063, 0.95325715207531159, 0.92385075660501714],
[0.95719115667989418, 0.95807450898396762, 0.93225945452167591],
[0.96272423126684659, 0.96289485985546330, 0.94058930798629881],
[0.96834119174064914, 0.96772056266048534, 0.94883511532488718],
[0.97403766470879949, 0.97255433520269718, 0.95699045325659038],
[0.97980842313222805, 0.97739945126664363, 0.96504686318841115],
[0.98564684436029693, 0.98226013043254612, 0.97299220873715064],
[0.99154365263786859, 0.98714245017428526, 0.98080676070706796],
[0.997483, 0.99205720276350695, 0.98845066369213830],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
