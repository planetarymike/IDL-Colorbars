from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00030114971641716969, 0.00035475239128524174, 0.00036346578882027076],
[0.00081712714538361428, 0.0010317027473160110, 0.0010647332201956712],
[0.0015140159500931412, 0.0020204332806093967, 0.0020934377748495973],
[0.0023586576529493427, 0.0033082624973941321, 0.0034354485297905337],
[0.0033259687111022022, 0.0048887192893810969, 0.00508166],
[0.0043952178455475485, 0.0067585451900198899, 0.0070252091084398397],
[0.0055484, 0.0089164372384215925, 0.0092602903744690383],
[0.0067693672229384647, 0.011362403902557957, 0.011781618244557717],
[0.0080433579562018548, 0.0140974, 0.014584082748441191],
[0.0093566548990996860, 0.017123050028248321, 0.017662552814335712],
[0.0106964, 0.020441571056597451, 0.021011745448906369],
[0.012050418377291474, 0.0240556, 0.024626136688667508],
[0.013407187964907252, 0.027968041083831784, 0.028499899248212068],
[0.014755705401963614, 0.032182212675946988, 0.032626858175657226],
[0.016085472327660173, 0.036701576496204202, 0.037000459251853753],
[0.017386456740633251, 0.041503493427364708, 0.041584719042302480],
[0.018649072158504722, 0.046312175625576026, 0.046120733605739435],
[0.019864165256956948, 0.051089812403322048, 0.050580310781812708],
[0.021023010076271696, 0.0558399, 0.0549652],
[0.022117307391844081, 0.060565577805281094, 0.059276930940105131],
[0.023139188195088228, 0.065269431968365821, 0.063516402985282772],
[0.024081220476900443, 0.069953819809511431, 0.0676844],
[0.024936418681609104, 0.074620782067216868, 0.071781504119498657],
[0.025698255327035603, 0.079272107256252944, 0.075807964781397757],
[0.026360674380420498, 0.083909362700072543, 0.079763946643739286],
[0.026918106050232836, 0.0885339, 0.083649447624681600],
[0.027365482706933102, 0.093146978572626549, 0.087464342941493051],
[0.027698255686277939, 0.097749580320264234, 0.091208404295770762],
[0.027912412759997115, 0.10234262897119437, 0.094881316463728938],
[0.028004496083027085, 0.10692690167784055, 0.098482691759801622],
[0.027971620445708528, 0.11150306100958002, 0.10201208274313667],
[0.027811491674622470, 0.11607166507265448, 0.10546899346090574],
[0.027522425038169537, 0.12063317637874696, 0.10885288946382113],
[0.027103363523116687, 0.12518796966727294, 0.11216320678355920],
[0.026553895856878160, 0.12973633884876279, 0.115399],
[0.025874274157514973, 0.13427850320677456, 0.11856074970458322],
[0.025065431099839438, 0.13881461297178982, 0.12164676891932810],
[0.024128996491647063, 0.14334475436121927, 0.12465680946092633],
[0.023067313159360558, 0.14786895416394821, 0.12759026741449511],
[0.0218835, 0.152387, 0.13044654831774585],
[0.020581226439441696, 0.15689936385566358, 0.13322507192256042],
[0.019165205217546489, 0.16140536630470709, 0.13592527659990269],
[0.017640725073485585, 0.16590501918113101, 0.13854662342162052],
[0.016013901599169843, 0.17039810901032654, 0.14108859994735209],
[0.014291639181581262, 0.17488438386249758, 0.143551],
[0.012481639635646640, 0.17936355610693444, 0.14593254563237323],
[0.010592409512661471, 0.18383530502241324, 0.148234],
[0.0086332660271155014, 0.18829927928091683, 0.15045367135179141],
[0.0066143415501925835, 0.19275509931926346, 0.15259226938466516],
[0.0045465866235986406, 0.19720235961102084, 0.15464915894485176],
[0.00244177, 0.20164063084917483, 0.15662409847894374],
[0.00031248584653039010, 0.20606946204839627, 0.15851689483842674],
[-0.0018278624319674130, 0.21048838257434876, 0.16032740516077948],
[-0.0039650509161298000, 0.21489690410627005, 0.16205553858945468],
[-0.0060840473159113929, 0.21929452253802845, 0.163701],
[-0.0081690160320868881, 0.22368071982195908, 0.165265],
[-0.010203326311980931, 0.22805496575901391, 0.16674558089014605],
[-0.0121696, 0.23241671973810912, 0.16814439004080878],
[-0.014049533195553023, 0.23676543242697629, 0.16946119786757830],
[-0.015824288847783349, 0.241101, 0.17069625348034992],
[-0.017474131865626883, 0.24542150281893743, 0.17185],
[-0.018978635122558478, 0.24972773282416794, 0.17292240558864908],
[-0.020316659284928307, 0.25401866920964861, 0.17391430327908619],
[-0.021466372110103053, 0.25829374280973649, 0.17482605217281036],
[-0.022405269220774432, 0.26255238494167416, 0.17565820745183566],
[-0.023110196311417974, 0.266794, 0.176411],
[-0.023557372738525286, 0.27101811074552878, 0.17708627037571428],
[-0.023722416442214202, 0.275224, 0.17768360147930726],
[-0.023580370142981835, 0.27941135834933706, 0.17820418615501579],
[-0.023105728754049718, 0.28357942430843086, 0.17864889350599275],
[-0.022272467946647098, 0.28772773138587438, 0.17901865567082220],
[-0.021054073802971529, 0.29185575066239589, 0.17931446782563745],
[-0.019423573489175894, 0.29596296358830526, 0.17953738817205453],
[-0.0173536, 0.30004886302790423, 0.17968853792211947],
[-0.014816259056645870, 0.304113, 0.179769],
[-0.011783493627748620, 0.30815475594238034, 0.17978032551590847],
[-0.0082267867638584225, 0.31217380101686260, 0.17972352089453361],
[-0.00411736, 0.31616963759420880, 0.17960006088793309],
[0.00057381492703993068, 0.32014182978000683, 0.17941138226912992],
[0.0058759993583205536, 0.32408995846530786, 0.17915898535028080],
[0.011818632372449355, 0.32801362207458046, 0.17884443429594971],
[0.018431303706736544, 0.33191243727256670, 0.17846935753761575],
[0.025743714923635280, 0.33578603963058984, 0.17803544830381265],
[0.033785642252762774, 0.339634, 0.17754446528042889],
[0.042519489867937667, 0.34345624636401623, 0.17699823341571624],
[0.051131363693561964, 0.34725222185708399, 0.17639864488447127],
[0.059488104771745980, 0.35102172780535540, 0.17574766022563154],
[0.067657032152702357, 0.35476450293644712, 0.17504730966713525],
[0.075685327857167861, 0.35848030807110470, 0.17429969465131376],
[0.083607220847084052, 0.36216892652725652, 0.17350698957326796],
[0.091448215894017443, 0.36583016449047545, 0.17267144374358504],
[0.099227720899788291, 0.36946385135197291, 0.17179538358533766],
[0.10696075188860579, 0.37307, 0.17088121507351534],
[0.11465907997941879, 0.37664800717291696, 0.16993142642280618],
[0.12233202665372886, 0.38019825355395825, 0.16894859102690585],
[0.12998702956959132, 0.383721, 0.16793537064921729],
[0.13763005419116686, 0.387215, 0.16689451886081988],
[0.14526589912738491, 0.39068084031671008, 0.16582888471686758],
[0.15289842653745697, 0.39411889877303730, 0.16474141665700709],
[0.160531, 0.397529, 0.16363516660892294],
[0.16816531488395675, 0.40091091504998927, 0.16251329426662245],
[0.17580411957383108, 0.40426499531971105, 0.161379],
[0.18344868769836265, 0.40759124714926648, 0.16023588689418544],
[0.19110019364263425, 0.41088979459691410, 0.15908725022516337],
[0.19875950694271599, 0.41416078691962366, 0.15793679702803010],
[0.20642723782978151, 0.41740439858413714, 0.15678829294818564],
[0.21410377473050402, 0.42062082926328925, 0.15564563791330518],
[0.22178931536288038, 0.42381030381853019, 0.15451286996728863],
[0.22948389268945862, 0.42697307226952302, 0.15339416864278410],
[0.23718739670874256, 0.43010940975161516, 0.15229385772561946],
[0.24489959285381646, 0.43321961646192297, 0.15121640724772856],
[0.25262013760622770, 0.43630401759468451, 0.15016643452900877],
[0.26034859180963155, 0.43936296326644975, 0.14914870407378056],
[0.26808443207199612, 0.44239682843160749, 0.14816812611506966],
[0.27582706057059825, 0.44540601278865727, 0.14722975359080864],
[0.28357581351540650, 0.44839094067753610, 0.14633877733161549],
[0.29132996847997633, 0.45135206096823938, 0.14550051924126595],
[0.29908875077203662, 0.45428984694087199, 0.14472042325990475],
[0.30685133898630962, 0.45720479615716963, 0.14400404391774843],
[0.31461686985814152, 0.46009743032344980, 0.14335703231496214],
[0.32238444251715998, 0.46296829514485888, 0.14278511940255706],
[0.33015312222440402, 0.46581796017067073, 0.14229409649037689],
[0.33792194366330475, 0.46864701863033725, 0.14188979297168106],
[0.34568991384439529, 0.47145608725985860, 0.14157805132904033],
[0.35345601467463755, 0.47424580611799611, 0.14136469957188807],
[0.36121920523506346, 0.47701683839173742, 0.141256],
[0.36897842380423301, 0.47976987019035561, 0.14125622408473945],
[0.376733, 0.48250561032732081, 0.14137240556308528],
[0.38448060468730250, 0.48522479008926017, 0.14160951952649062],
[0.392221, 0.487928, 0.14197284088105688],
[0.39995371131943758, 0.49061650451629041, 0.14246743121635780],
[0.40767653196099335, 0.49329061184159967, 0.14309810537109477],
[0.41538866205970554, 0.49595130354461420, 0.14386939980298269],
[0.42308893543436704, 0.49859941929366253, 0.14478554351048836],
[0.43077617527244194, 0.50123581951854390, 0.14585043221190677],
[0.43844919492429701, 0.50386138506106304, 0.14706760641313751],
[0.44610679863469754, 0.50647701680417501, 0.14844023389168243],
[0.45374778222095019, 0.50908363527853495, 0.14997109699547520],
[0.46137093370607291, 0.51168218024527390, 0.15166258500754007],
[0.46897503391463152, 0.51427361025379792, 0.15351669166903054],
[0.47655885703814055, 0.51685890217345387, 0.15553501779253012],
[0.48412117117633951, 0.51943905069790963, 0.15771877874324783],
[0.491661, 0.52201506782114015, 0.16006881642586379],
[0.49917631756119191, 0.524588, 0.16258561529603177],
[0.50666666019388329, 0.52715883899015714, 0.16526932182273205],
[0.51413051561262169, 0.52972869839111492, 0.16811976676381832],
[0.52156662911014373, 0.53229863583837045, 0.17113648958290392],
[0.528974, 0.53486974090305017, 0.17431876433016841],
[0.53635059672484597, 0.53744311666170042, 0.17766562632994004],
[0.54369592818051871, 0.54001987894789472, 0.18117589906007808],
[0.551008, 0.54260115556920541, 0.18484822066752465],
[0.55828696774521402, 0.54518808548923248, 0.18868106963591674],
[0.56553014592102213, 0.54778181797452497, 0.19267278919988715],
[0.57273674304534050, 0.55038351170637734, 0.19682161018212380],
[0.57990549502813216, 0.55299433385764229, 0.20112567200955661],
[0.58703513926294249, 0.55561545913484811, 0.20558304174101982],
[0.59412441529911675, 0.55824806878608335, 0.21019173100813782],
[0.60117206554421288, 0.56089334957528569, 0.21494971083240416],
[0.60817683599832861, 0.56355249272373031, 0.21985492433375120],
[0.61513747702189225, 0.56622669281970139, 0.22490529738895298],
[0.62205274413835077, 0.56891714669750504, 0.23009874733234153],
[0.62892139887306864, 0.57162505228715443, 0.23543318981706146],
[0.63574220962962935, 0.57435160743622604, 0.24090654397326300],
[0.64251395260458022, 0.57709800870557748, 0.24651673601123308],
[0.64923541274157948, 0.57986545014076318, 0.25226170142343662],
[0.65590538472576854, 0.58265512202115066, 0.25813938594083602],
[0.66252267401906295, 0.585468, 0.264148],
[0.66908609793694340, 0.58830589176011971, 0.270285],
[0.675594, 0.59116933982059428, 0.27654835567755132],
[0.682047, 0.59405971610871022, 0.28293655506563736],
[0.68844155218698677, 0.59697817268818831, 0.28944732085748748],
[0.69477796487632793, 0.59992585001342225, 0.29607862903789750],
[0.70105481721295126, 0.60290387559026237, 0.30282844965666333],
[0.70727102261420460, 0.60591336263516604, 0.30969474271825126],
[0.71342551507458152, 0.60895540873567045, 0.31667545391686386],
[0.71951725058112559, 0.61203109451520155, 0.32376851029201875],
[0.72554520857013471, 0.61514148230521504, 0.33097181587141144],
[0.73150839342451823, 0.61828761482771211, 0.33828324736011656],
[0.73740583601101417, 0.62147051389110808, 0.34570064992808736],
[0.74323659525638908, 0.62469117910242677, 0.35322183314146133],
[0.74899975976153998, 0.62795058659874514, 0.36084456707731555],
[0.75469444945236663, 0.63124968780071811, 0.36856657865624704],
[0.76031981726606224, 0.63458940819097975, 0.37638554822238690],
[0.76587505087140595, 0.63797064612007803, 0.38429910639620601],
[0.77135937442148594, 0.64139427164252649, 0.39230483122163279],
[0.77677205033710817, 0.64486112538541862, 0.40040024562557019],
[0.78211238111906722, 0.64837201745194661, 0.40858281520481415],
[0.78737971118728589, 0.65192772636200580, 0.41684994635258482],
[0.79257342874469450, 0.65552899803194664, 0.42519898473435780],
[0.79769296766360354, 0.65917654479539367, 0.43362721412039257],
[0.80273780939218509, 0.662871, 0.44213185558024670],
[0.807707, 0.66661313944987211, 0.45071006704262634],
[0.81260157650957798, 0.67040343589083529, 0.45935894322212661],
[0.81742, 0.67424250288032672, 0.46807551591272373],
[0.82216160666444671, 0.67813087170263275, 0.47685675464630367],
[0.82682698476031369, 0.68206903513477901, 0.48569956771298667],
[0.83141566208145146, 0.68605744679589287, 0.49460080353858898],
[0.83592750761586765, 0.69009652054767057, 0.50355725241315630],
[0.84036245357434680, 0.69418662994660829, 0.51256564856318598],
[0.84472049734984889, 0.69832810774853082, 0.52162267255884798],
[0.84900170346657466, 0.70252124546584460, 0.53072495404626718],
[0.85320620551516813, 0.70676629297782201, 0.539869],
[0.85733420807046035, 0.711063, 0.549052],
[0.86138598858815829, 0.71541290677186187, 0.55826894212679279],
[0.86536189927686991, 0.71981476188563465, 0.567518],
[0.86926236894187170, 0.72426910405144451, 0.57679410544381404],
[0.87308790479712794, 0.72877597100332914, 0.58609472334382307],
[0.87683909424210282, 0.733335, 0.59541587246579097],
[0.88051660660011244, 0.73794721592193457, 0.60475390821717023],
[0.88412119481510409, 0.74261145507524673, 0.61410517208254600],
[0.88765369710402209, 0.74732794150690551, 0.623466],
[0.89111503856222551, 0.75209649902517040, 0.63283271173293854],
[0.89450623271985297, 0.756917, 0.642202],
[0.89782838304747659, 0.76178891063230236, 0.65156914527198639],
[0.90108268441003725, 0.766712, 0.660932],
[0.90427042446877015, 0.77168643625349087, 0.67028524855894134],
[0.90739298503176058, 0.77671123034688438, 0.67962662151238495],
[0.91045184335483265, 0.78178615704790377, 0.68895209982087480],
[0.91344857339580032, 0.78691074957991825, 0.69825814538308995],
[0.91638484702673983, 0.79208450125464447, 0.70754126169119458],
[0.91926243521082429, 0.79730686597241129, 0.716798],
[0.922083, 0.80257725874410490, 0.726025],
[0.92484914143372388, 0.80789505622809721, 0.73521880973731679],
[0.92756230714853582, 0.81325959727413843, 0.74437626773991550],
[0.93022488506029599, 0.81867018346465303, 0.75349412792350989],
[0.93283915880131008, 0.824126, 0.76256925529346908],
[0.93540751814887169, 0.82962651440792556, 0.77159859212169046],
[0.93793246041575473, 0.83517068057870603, 0.78057916215017620],
[0.94041659200431449, 0.84075773557585498, 0.78950807446843285],
[0.94286263018585448, 0.84638680172805636, 0.79838252702263290],
[0.94527340518288960, 0.85205696645434603, 0.80719980970894634],
[0.94765186265246870, 0.85776728229166277, 0.81595730699597624],
[0.95000106669544138, 0.86351676672070621, 0.82465250001106893],
[0.95232420355133829, 0.86930440173232459, 0.83328296801144819],
[0.95462458618477053, 0.87512913306094864, 0.84184638914211440],
[0.95690566003134092, 0.88098986899063814, 0.85034054035617612],
[0.95917101025532159, 0.88688547861086520, 0.858763],
[0.96142437098794631, 0.89281478935977576, 0.867113],
[0.96366963717871446, 0.89877658363749025, 0.87538659474080349],
[0.96591087992604396, 0.90476959419300562, 0.883583],
[0.96815236649481806, 0.91079249787301386, 0.89170110861955321],
[0.97039858673772084, 0.91684390714884312, 0.89973817259011191],
[0.97265428841668589, 0.92292235857424987, 0.90769288129991155],
[0.974925, 0.92902629691145733, 0.91556360612072585],
[0.97721472270207876, 0.93515405298630339, 0.92334871614311642],
[0.97953077274651246, 0.941304, 0.93104653381982727],
[0.98187916916530715, 0.94747356850269149, 0.93865526972321123],
[0.98426721321514299, 0.953661, 0.94617292322228785],
[0.98670333617345463, 0.95986363553670706, 0.95359712435370147],
[0.98919763652358894, 0.96607812113486668, 0.96092486689843548],
[0.99176284548821247, 0.97230044474963273, 0.96815202108687715],
[0.994416, 0.97852500559587974, 0.97527234066851720],
[0.99718430943505110, 0.98474312304670242, 0.98227507225052346],
[1, 0.99093814011669712, 0.989137],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
