from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000376310156036148392, 0.000331811455900911368, 0.000299192225477954495],
[0.00110877120771618815, 0.000942233654094697354, 0.000819748999665446368],
[0.00219056053869112451, 0.00181193459104963465, 0.00153438852179259007],
[0.00361145044373813650, 0.00292049314120651536, 0.00241653982445327225],
[0.00536680887289248728, 0.00425437116537156004, 0.00344758859423754862],
[0.00745478788502373316, 0.00580364508103398298, 0.00461322847372939385],
[0.00987517839502232049, 0.00756060615949907811, 0.00590185407633301348],
[0.0126288396696681675, 0.00951903355390511761, 0.00730370837820723540],
[0.0157173783461852998, 0.0116737697158009138, 0.00881037594281314923],
[0.0191429522238650736, 0.0140204517084122956, 0.0104144573681072879],
[0.0229081428461571958, 0.0165553308920223206, 0.0121093479161979573],
[0.0270158688454972991, 0.0192751463445695014, 0.0138890802842338810],
[0.0314693248276285559, 0.0221770327765467464, 0.0157482090124643655],
[0.0362719369859659316, 0.0252584515679401857, 0.0176817230877973700],
[0.0414042038911672863, 0.0285171378625349858, 0.0196849783119600677],
[0.0465546955306251134, 0.0319510591474894273, 0.0217536439294075575],
[0.0516672269548510491, 0.0355583822559708412, 0.0238836597976021421],
[0.0567458584752400311, 0.0393374466811909768, 0.0260712015164352752],
[0.0617941423132016901, 0.0431840532507338851, 0.0283126516768657244],
[0.0668152097956637436, 0.0469732046452557631, 0.0306045758898116707],
[0.0718118400796588507, 0.0507177805957062730, 0.0329437026023281787],
[0.0767865149972316585, 0.0544205817719180182, 0.0353269059522629131],
[0.0817414633167261595, 0.0580841242645637121, 0.0377511910882148763],
[0.0866786968264896540, 0.0617106792697130410, 0.0402136815101316325],
[0.0916000400239778134, 0.0653023058392387667, 0.0426383758901238072],
[0.0965071547497168836, 0.0688608781342855136, 0.0450084488531494534],
[0.101401560784997097, 0.0723881082778563001, 0.0473293109041805285],
[0.106284653197206591, 0.0758855656519266120, 0.0496026712501822856],
[0.111157717042298515, 0.0793546932979956043, 0.0518300969243532458],
[0.116021939902877402, 0.0827968219395811278, 0.0540130281486263034],
[0.120878422640921690, 0.0862131820383270353, 0.0561527915616791759],
[0.125728188667868696, 0.0896049142132737120, 0.0582506116667928578],
[0.130572191975737606, 0.0929730782891349528, 0.0603076207858709093],
[0.135411324126843535, 0.0963186611895780753, 0.0623248677526114861],
[0.140246420363353302, 0.0996425838521834417, 0.0643033255357040312],
[0.145078264969140863, 0.102945707310499290, 0.0662438979493854274],
[0.149907595993382631, 0.106228838063597730, 0.0681474255818126651],
[0.154735109426833412, 0.109492732833375711, 0.0700146910500134278],
[0.159561462906755047, 0.112738102793493111, 0.0718464236725603056],
[0.164387279014255927, 0.115965617340518301, 0.0736433036367259708],
[0.169213148217839532, 0.119175907466901793, 0.0754059657250550630],
[0.174039631508720899, 0.122369568786391047, 0.0771350026565283120],
[0.178867262766683854, 0.125547164255017607, 0.0788309680893965470],
[0.183696550889597465, 0.128709226624571016, 0.0804943793260059215],
[0.188527981714982529, 0.131856260660264374, 0.0821257197542759887],
[0.193362019758073406, 0.134988745149924039, 0.0837254410557389250],
[0.198199109787476901, 0.138107134728350123, 0.0852939652060199782],
[0.203039678256719036, 0.141211861537365063, 0.0868316862902350772],
[0.207884134607564219, 0.144303336739425581, 0.0883389721528744232],
[0.212732872458986366, 0.147381951900384361, 0.0898161658992650269],
[0.217586270693882033, 0.150448080255081690, 0.0912635872635717271],
[0.222444694454174696, 0.153502077867753162, 0.0926815338564759839],
[0.227308496053634235, 0.156544284697824332, 0.0940702823040818481],
[0.232178015816651873, 0.159575025580417446, 0.0954300892882410934],
[0.237053582850245081, 0.162594611129819905, 0.0967611924972927306],
[0.241935515755730746, 0.165603338573237419, 0.0980638114951840889],
[0.246824123285789954, 0.168601492521335411, 0.0993381485160315103],
[0.251719704952007683, 0.171589345681368882, 0.100584389190388312],
[0.256622551587428527, 0.174567159518071974, 0.101802703208789924],
[0.261532945868173328, 0.177535184866940698, 0.102993244927531397],
[0.266451162797753050, 0.180493662504053437, 0.104156153921088346],
[0.271377470157319278, 0.183442823676161243, 0.105291555485112570],
[0.276312128924787792, 0.186382890594393891, 0.106399561093500017],
[0.281255393665451769, 0.189314076894608413, 0.107480268812650964],
[0.286207512896468619, 0.192236588067100506, 0.108533763675694395],
[0.291168729427346729, 0.195150621858153628, 0.109560118019140895],
[0.296139280678387185, 0.198056368645646963, 0.110559391784152500],
[0.301119398978815234, 0.200954011790761333, 0.111531632784360735],
[0.306109311846210264, 0.203843727967612132, 0.112476876941936421],
[0.311109242248670759, 0.206725687472488817, 0.113395148493406484],
[0.316119408851034067, 0.209600054514224143, 0.114286460166512893],
[0.321140026246348631, 0.212466987487086756, 0.115150813329237489],
[0.326171305173699744, 0.215326639227461036, 0.115988198111943885],
[0.331213452723373602, 0.218179157255486589, 0.116798593503434356],
[0.336266672530291411, 0.221024684002713523, 0.117581967421572314],
[0.341331164956540145, 0.223863357026751364, 0.118338276758977734],
[0.346407127263772596, 0.226695309213809704, 0.119067467404172345],
[0.351494753776177282, 0.229520668969951602, 0.119769474238421020],
[0.356594236034673828, 0.232339560401818190, 0.120444221108383764],
[0.361705762942925502, 0.235152103487519581, 0.121091620774577663],
[0.366829520905713136, 0.237958414238340466, 0.121711574835511038],
[0.371965693960190247, 0.240758604851849023, 0.122303973627242685],
[0.377114463900474317, 0.243552783856958555, 0.122868696097979180],
[0.382276010396012667, 0.246341056251452251, 0.123405609657204041],
[0.387450511104120265, 0.249123523632436061, 0.123914569998693436],
[0.392638141777062522, 0.251900284320158707, 0.124395420896644127],
[0.397839076364018218, 0.254671433475600117, 0.124847993973982135],
[0.403053487108253727, 0.257437063212200445, 0.125272108441781382],
[0.408281544639786165, 0.260197262702085652, 0.125667570808554035],
[0.413523418063828141, 0.262952118277102076, 0.126034174557999951],
[0.418779275045255195, 0.265701713524969851, 0.126371699793623504],
[0.424049281889338547, 0.268446129380830678, 0.126679912848420617],
[0.429333603618966775, 0.271185444214454618, 0.126958565857625300],
[0.434632404048558685, 0.273919733913344621, 0.127207396292265989],
[0.439945845854856243, 0.276649071961972914, 0.127426126451025995],
[0.445274090644791454, 0.279373529517355723, 0.127614462907617354],
[0.450617299020576401, 0.282093175481167302, 0.127772095910563516],
[0.455975630642187657, 0.284808076568580704, 0.127898698731940930],
[0.461349244287381610, 0.287518297374007747, 0.127993926961249643],
[0.466738297909389199, 0.290223900433897952, 0.128057417740150586],
[0.472142948692409414, 0.292924946286756416, 0.128088788933338721],
[0.477563353105024457, 0.295621493530516199, 0.128087638230286682],
[0.482999666951654694, 0.298313598877406494, 0.128053542172000628],
[0.488452045422155312, 0.301001317206434915, 0.127986055096261236],
[0.493920643139654170, 0.303684701613612218, 0.127884707994073976],
[0.499405614206733406, 0.306363803460020678, 0.127749007269200965],
[0.504907112250027823, 0.309038672417839999, 0.127578433391691198],
[0.510425290463340731, 0.311709356514422831, 0.127372439435234991],
[0.515960301649342812, 0.314375902174518163, 0.127130449486934083],
[0.521512298259933504, 0.317038354260724797, 0.126851856916670530],
[0.527081432435337671, 0.319696756112262615, 0.126536022491648803],
[0.532667856041998844, 0.322351149582134788, 0.126182272319837807],
[0.538271720709328494, 0.325001575072759896, 0.125789895603932500],
[0.543893177865380273, 0.327648071570137700, 0.125358142185008653],
[0.549532378771496077, 0.330290676676617045, 0.124886219852237829],
[0.555189474555982998, 0.332929426642328941, 0.124373291391770197],
[0.560864616246860903, 0.335564356395340380, 0.123818471344104564],
[0.566557954803741715, 0.338195499570587199, 0.123220822434864846],
[0.572269641148879793, 0.340822888537632818, 0.122579351638744505],
[0.577999826197422739, 0.343446554427313699, 0.121893005830331302],
[0.583748660886929782, 0.346066527157304349, 0.121160666968431918],
[0.589516296206171519, 0.348682835456656903, 0.120381146752092938],
[0.595302883223260304, 0.351295506889353015, 0.119553180676569282],
[0.601108573113140476, 0.353904567876910103, 0.118675421405633752],
[0.606933517184476301, 0.356510043720074499, 0.117746431362442006],
[0.612777866905966917, 0.359111958619646621, 0.116764674424158360],
[0.618641773932110950, 0.361710335696463103, 0.115728506585025703],
[0.622996924580767053, 0.365272289555729712, 0.119014906288417044],
[0.625820423434931050, 0.369802186662346488, 0.126559983964204204],
[0.628633348404104786, 0.374334485259813943, 0.133981847337224486],
[0.631436021848528206, 0.378869302700575228, 0.141298425351517237],
[0.634228764979031134, 0.383406754981951703, 0.148524501395552344],
[0.637011897902200364, 0.387946956869168635, 0.155672401140456440],
[0.639785739664116559, 0.392490022010097028, 0.162752501188741239],
[0.642550608292735803, 0.397036063042320642, 0.169773612087798786],
[0.645306820839003148, 0.401585191693075772, 0.176743271390701340],
[0.648054693416760475, 0.406137518872577652, 0.183667971105310801],
[0.650794541241525137, 0.410693154761200996, 0.190553336486658176],
[0.653526678668202354, 0.415252208890949936, 0.197404268205483569],
[0.656251419227793176, 0.419814790221616219, 0.204225056577378494],
[0.658969075663171755, 0.424381007211990735, 0.211019474216343039],
[0.661679959963964337, 0.428950967886480183, 0.217790851840949873],
[0.664384383400613898, 0.433524779897430268, 0.224542140790660094],
[0.667082656557670739, 0.438102550583457651, 0.231275964960198421],
[0.669775089366353882, 0.442684387024060932, 0.237994664235202380],
[0.672461991136449444, 0.447270396090753197, 0.244700331047627395],
[0.675143670587587175, 0.451860684494957365, 0.251394841319808660],
[0.677820435879939343, 0.456455358832873082, 0.258079880800466788],
[0.680492594644393489, 0.461054525627521528, 0.264756967592184145],
[0.683160454012243012, 0.465658291368146682, 0.271427471512211971],
[0.685824320644439545, 0.470266762547149664, 0.278092630805443330],
[0.688484500760448537, 0.474880045694718256, 0.284753566631647581],
[0.691141300166753680, 0.479498247411296041, 0.291411295672465653],
[0.693795024285055906, 0.484121474398029383, 0.298066741142559877],
[0.696445978180197933, 0.488749833485328689, 0.304720742440302950],
[0.699094466587873886, 0.493383431659649319, 0.311374063633792553],
[0.701740793942142282, 0.498022376088623708, 0.318027400945849081],
[0.704385264402809019, 0.502666774144627016, 0.324681389375408136],
[0.707028181882708329, 0.507316733426884325, 0.331336608571176972],
[0.709669850074920894, 0.511972361782211394, 0.337993588055677752],
[0.712310572479987192, 0.516633767324462312, 0.344652811883084165],
[0.714950652433144818, 0.521301058452769084, 0.351314722802007207],
[0.717590393131640636, 0.525974343868640948, 0.357979725984165942],
[0.720230097662167390, 0.530653732591991778, 0.364648192371289648],
[0.722870069028456297, 0.535339333976157072, 0.371320461685367587],
[0.725510610179096571, 0.540031257721954150, 0.377996845141251203],
[0.728152024035607859, 0.544729613890843512, 0.384677627895435859],
[0.730794613520830749, 0.549434512917232887, 0.391363071260414974],
[0.733438681587680885, 0.554146065619977479, 0.398053414710262843],
[0.736084531248334950, 0.558864383213105498, 0.404748877699839194],
[0.738732465603879063, 0.563589577315816714, 0.411449661317260351],
[0.741382787874514726, 0.568321759961778361, 0.418155949786876480],
[0.744035801430346311, 0.573061043607756337, 0.424867911837928491],
[0.746691809822852437, 0.577807541141606373, 0.431585701952281742],
[0.749351116817089657, 0.582561365889638028, 0.438309461503057218],
[0.752014026424697168, 0.587322631623395486, 0.445039319794639565],
[0.754680842937801466, 0.592091452565846499, 0.451775395013352676],
[0.757351870963885454, 0.596867943397011214, 0.458517795097061864],
[0.760027415461706934, 0.601652219259038778, 0.465266618531039400],
[0.762707781778377725, 0.606444395760736277, 0.472021955076646405],
[0.765393275687687336, 0.611244588981553982, 0.478783886438666040],
[0.768084203429773238, 0.616052915475042040, 0.485552486876499822],
[0.770780871752267060, 0.620869492271760581, 0.492327823763892003],
[0.773483587953023077, 0.625694436881647387, 0.499109958101343898],
[0.776192659924573758, 0.630527867295840427, 0.505898944984954135],
[0.778908396200421405, 0.635369901987935304, 0.512694834035011149],
[0.781631106003370602, 0.640220659914664592, 0.519497669787337690],
[0.784361099296003395, 0.645080260515987991, 0.526307492050037462],
[0.787098686833521910, 0.649948823714556423, 0.533124336228040563],
[0.789844180219119174, 0.654826469914541520, 0.539948233617564388],
[0.792597891962101064, 0.659713319999778114, 0.546779211672373089],
[0.795360135538978219, 0.664609495331197731, 0.553617294243513136],
[0.798131225457774485, 0.669515117743504140, 0.560462501793987045],
[0.800911477325816468, 0.674430309541039996, 0.567314851589659552],
[0.803701207921299732, 0.679355193492799048, 0.574174357867501262],
[0.806500735268953828, 0.684289892826503876, 0.581041031982127088],
[0.809310378720140000, 0.689234531221697311, 0.587914882531423211],
[0.812130459037797348, 0.694189232801750711, 0.594795915461909130],
[0.814961298486625241, 0.699154122124713617, 0.601684134154346184],
[0.817803220928990493, 0.704129324172894422, 0.608579539489948584],
[0.820656551927072875, 0.709114964341059251, 0.615482129897426233],
[0.823521618851810966, 0.714111168423128384, 0.622391901380939694],
[0.826398750999287612, 0.719118062597219998, 0.629308847528902704],
[0.829288279715250432, 0.724135773408886907, 0.636232959503433171],
[0.832190538528565282, 0.729164427752358235, 0.643164226010065620],
[0.835105863294451245, 0.734204152849592062, 0.650102633247214179],
[0.838034592348488427, 0.739255076226905006, 0.657048164834656667],
[0.840977066672510376, 0.744317325688916176, 0.664000801720147193],
[0.843933630073566920, 0.749391029289524391, 0.670960522063032361],
[0.846904629377377982, 0.754476315299579592, 0.677927301093519952],
[0.849890414637853309, 0.759573312170869763, 0.684901110945980829],
[0.852891339364397982, 0.764682148496009573, 0.691881920464364586],
[0.855907760769083592, 0.769802952963730247, 0.698869694977477640],
[0.858940040035932606, 0.774935854309015126, 0.705864396041472109],
[0.861988542614956166, 0.780080981257455841, 0.712865981146456940],
[0.865053638543940684, 0.785238462463075715, 0.719874403383614525],
[0.868135702801458575, 0.790408426438788281, 0.726889611068602393],
[0.871235115695059070, 0.795591001478506365, 0.733911547316309365],
[0.874352263289284393, 0.800786315569765428, 0.740940149561192696],
[0.877487537878881674, 0.805994496295532659, 0.747975349016426705],
[0.880641338513458605, 0.811215670723661630, 0.755017070063904394],
[0.883814071580957816, 0.816449965282162626, 0.762065229565709101],
[0.887006151458610059, 0.821697505618136814, 0.769119736085950190],
[0.890218001241593559, 0.826958416437844623, 0.776180489009766217],
[0.893450053561592572, 0.832232821324862093, 0.783247377543760170],
[0.896702751509859342, 0.837520842532682663, 0.790320279578988316],
[0.899976549682238280, 0.842822600747418438, 0.797399060393750303],
[0.903271915367398370, 0.848138214815272518, 0.804483571168618461],
[0.906589329904055052, 0.853467801428339112, 0.811573647280073085],
[0.909929290238827848, 0.858811474760782900, 0.818669106331462726],
[0.913292310723777923, 0.864169346045605025, 0.825769745870245764],
[0.916678925202282113, 0.869541523079756184, 0.832875340727895486],
[0.920089689444282155, 0.874928109642224450, 0.839985639902522063],
[0.923525184008272881, 0.880329204805602061, 0.847100362882816871],
[0.926986017629063519, 0.885744902116127220, 0.854219195283431709],
[0.930472831259409605, 0.891175288609822092, 0.861341783623590040],
[0.933986302933324630, 0.896620443622265784, 0.868467729028521651],
[0.937527153673639035, 0.902080437335598839, 0.875596579561077726],
[0.941096154743462976, 0.907555328986736520, 0.882727820789348416],
[0.944694136651361593, 0.913045164632688255, 0.889860864050781242],
[0.948322000480918859, 0.918549974327836471, 0.896995031661091846],
[0.951980732355380277, 0.924069768506716294, 0.904129537999369681],
[0.955671422215572774, 0.929604533271881861, 0.911263464915492816],
[0.959395288668071777, 0.935154224138311063, 0.918395729141062045],
[0.963153712603170953, 0.940718757544280471, 0.925525038138980460],
[0.966948283876848058, 0.946297999029669490, 0.932649828717526663],
[0.970780868173415468, 0.951891746257962690, 0.939768178999343173],
[0.974653706438821543, 0.957499703702903271, 0.946877677353648584],
[0.978569569796773675, 0.963121443113506337, 0.953975217960276400],
[0.982532015662203162, 0.968756337998133321, 0.961056662450869736],
[0.986545845752606954, 0.974403446190949318, 0.968116234152813671],
[0.990618020048628867, 0.980061274981579023, 0.975145307987701826],
[0.994759810407262468, 0.985727226422825065, 0.982129555919507680],
[0.998993612740790460, 0.991395838646306982, 0.989039907312410871],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
