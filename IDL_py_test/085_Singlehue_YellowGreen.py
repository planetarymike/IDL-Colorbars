from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00032881842820185715, 0.00035221836573682972, 0.000282985],
[0.00092650369626441891, 0.0010204185462161272, 0.00075897348033505561],
[0.0017715788006817407, 0.0019914440431982030, 0.00139698],
[0.0028418872806190787, 0.00324989, 0.0021676024799208685],
[0.0041225192469111624, 0.00478651, 0.0030499221277423680],
[0.0056024049510065566, 0.0065952410457037324, 0.0040276981280828149],
[0.0072728464924982188, 0.0086719087431118350, 0.0050876538211121610],
[0.00912675, 0.011013591600798208, 0.0062185700067493152],
[0.011158185388857746, 0.013618253581186193, 0.0074107423292056043],
[0.013362084249647865, 0.016484511194581358, 0.0086556316626847010],
[0.015734065816907193, 0.019611480081765571, 0.0099456259173177214],
[0.018270293850464837, 0.022998668460500343, 0.011273870671313604],
[0.020967380579743174, 0.026645900353040347, 0.012634144599177572],
[0.023822313538760791, 0.0305533, 0.014020765295998805],
[0.026832399540439988, 0.034721041427443297, 0.015428516440401887],
[0.029995220934871412, 0.039149728823310130, 0.016852590367770304],
[0.033308600893439316, 0.043704955458245452, 0.0182885],
[0.036770575468111216, 0.048206446198021467, 0.019732251631597201],
[0.040379370831736657, 0.052667513327326505, 0.021179893701081351],
[0.043979690903179110, 0.057091417262789386, 0.022627911560022324],
[0.047532386207810202, 0.061481046858173759, 0.024072995697618858],
[0.051041578263605954, 0.065838976549446815, 0.025512065485902229],
[0.054509978816485498, 0.070167512551761679, 0.0269423],
[0.057940051364377597, 0.074468730584380943, 0.028360892180306303],
[0.061334044683544149, 0.078744506960936683, 0.029765501832068011],
[0.064694020737337543, 0.082996544427212965, 0.031153780703125460],
[0.068021878085564924, 0.087226393799199886, 0.032523595856961823],
[0.071319371657261849, 0.091435472212420266, 0.033872975271374756],
[0.074588129559573418, 0.095625078613868292, 0.035200100795898075],
[0.077829667452293944, 0.099796406992789744, 0.036503301867808403],
[0.081045400908639098, 0.10395055774384160, 0.037781049879563752],
[0.084236656099036328, 0.10808854747731689, 0.039031953108817019],
[0.087404679069702951, 0.11221131753001842, 0.040254752136967338],
[0.090550643836879802, 0.11631974138259674, 0.041424548777870933],
[0.093675659477442608, 0.12041463115152845, 0.042543088585282503],
[0.096780776364672916, 0.12449674329401925, 0.043614720134257622],
[0.099866991672413891, 0.12856678364021573, 0.044640767449413289],
[0.10293525425022851, 0.13262541184786658, 0.045622514033110982],
[0.10598646895546415, 0.13667324535898345, 0.046561208554463669],
[0.10902150051449458, 0.14071086292535012, 0.047458070060361575],
[0.11204117697422075, 0.14473880775931552, 0.0483143],
[0.11504629279568584, 0.14875759035772807, 0.049131050569349861],
[0.11803761163401019, 0.15276769103976803, 0.049909501085669057],
[0.12101586884248297, 0.15677, 0.050650789670819631],
[0.12398177373331437, 0.16076363054122950, 0.051356053046440427],
[0.12693601162307672, 0.16475029860889603, 0.052026422814674476],
[0.12987924568709119, 0.16872994682265832, 0.052663028805867436],
[0.13281211864379147, 0.17270293485110105, 0.053267],
[0.13573525428740776, 0.17666960305039572, 0.053839479114564569],
[0.138649, 0.18063027374690219, 0.054381602662529969],
[0.14155472245169362, 0.184585, 0.054894526853446861],
[0.14445221991690158, 0.18853482872691971, 0.055379418993092309],
[0.14734231219160265, 0.19247927758796324, 0.055837462606834774],
[0.15022554714701966, 0.19641885999339703, 0.056269860223602648],
[0.15310246051269438, 0.20035382388721873, 0.056677836122618584],
[0.15597357670163622, 0.20428440492617583, 0.057062639046979218],
[0.15883940956919582, 0.20821082718962380, 0.0574255],
[0.16170046311160968, 0.21213330383573054, 0.057767859326162248],
[0.16455723210952944, 0.21605203770886810, 0.058090920467830494],
[0.16741020272128351, 0.21996722190253026, 0.058396101403412066],
[0.17025985303012903, 0.22387904028166161, 0.058684812749132904],
[0.17310665354931507, 0.22778766796788791, 0.058958505120904524],
[0.17595106768839464, 0.23169327179078980, 0.059218671541665109],
[0.17879355218388479, 0.23559601070805058, 0.059466849764924577],
[0.18163455749706234, 0.23949603619703969, 0.059704624496332438],
[0.18447452818143795, 0.24339349262014143, 0.059933629492125683],
[0.18731390322217625, 0.24728851756593256, 0.060155549510270447],
[0.19015311634955492, 0.25118124216811272, 0.060372122087058854],
[0.19299259632833590, 0.25507179140392006, 0.060585139108901669],
[0.19583276722476178, 0.25896028437361462, 0.060796448146121958],
[0.19867404865274935, 0.26284683456246832, 0.061007953512809236],
[0.20151685600068847, 0.26673155008658222, 0.061221617014314105],
[0.20436160064015768, 0.27061453392373625, 0.061439458341864976],
[0.20720869011774196, 0.274496, 0.061663555072215111],
[0.21005852833103000, 0.27837569404577089, 0.061896042229275229],
[0.21291151568981520, 0.282254, 0.062139111364572820],
[0.21576804926338739, 0.28613104391633842, 0.062395009114177148],
[0.21862852291477347, 0.29000674863984444, 0.062666035191675601],
[0.22149332742269862, 0.29388124294114304, 0.062954539779963625],
[0.22436285059198308, 0.29775459924785041, 0.063262920289207158],
[0.22723747735303196, 0.301627, 0.063593617454424184],
[0.23011758985102626, 0.30549816915285794, 0.063949110753804911],
[0.23300356752537565, 0.30936850957458001, 0.064331913138170827],
[0.23589578717996579, 0.31323796590142672, 0.064744565072821253],
[0.23879462304466265, 0.31710659328880669, 0.065189627905333447],
[0.24170044682855080, 0.32097444379591256, 0.065669676586485398],
[0.24461362776529300, 0.32484156649192730, 0.066187291786080210],
[0.24753453265101705, 0.32870800755739427, 0.066745051460732174],
[0.25046352587510262, 0.33257381038111494, 0.067345521946161196],
[0.25340096944416651, 0.33643901565292717, 0.067991248661747217],
[0.25634722299961826, 0.34030366145267671, 0.068684746529441260],
[0.25930264382902274, 0.34416778333570092, 0.069428490222010114],
[0.26226758687160068, 0.34803141441510405, 0.070224904366417401],
[0.26524240471809002, 0.35189458544110758, 0.071076353836319217],
[0.268227, 0.35575732487772949, 0.071985134272689988],
[0.27122306340508662, 0.35961965897704473, 0.072953462973074396],
[0.27422959760948223, 0.36348161185126243, 0.073983470287585479],
[0.27724739330964659, 0.367343, 0.0750772],
[0.28027679117137971, 0.371204, 0.076236560389955826],
[0.28331812940585804, 0.37506539360785657, 0.077463401360844147],
[0.28637174373627050, 0.37892602232531464, 0.078759425596066274],
[0.28943796736045524, 0.38278636067800592, 0.080126225942636770],
[0.292517, 0.38664642135735416, 0.081565273794607651],
[0.29560956240394187, 0.39050621537600916, 0.0830779],
[0.29871558720317570, 0.394366, 0.0846654],
[0.30183552795584034, 0.39822503945914334, 0.086328756811929641],
[0.30496970454367228, 0.40208408371034060, 0.088069026928516231],
[0.30811843402354810, 0.40594288979644838, 0.089887042213743995],
[0.31128203056633069, 0.40980146125833677, 0.091783537581270058],
[0.31446080539285143, 0.41365980032578853, 0.093759133246403364],
[0.31765506670715282, 0.417518, 0.095814339252582731],
[0.32086511962712544, 0.42137578400975789, 0.097949560611144571],
[0.32409126611265177, 0.42523342708492062, 0.10016510294273523],
[0.32733380489136465, 0.429091, 0.10246117850809952],
[0.33059303138216578, 0.432948, 0.10483791251819849],
[0.33386923761659548, 0.43680492968368811, 0.10729534961831380],
[0.33716271215818805, 0.440662, 0.10983346044754141],
[0.34047374001990721, 0.444518, 0.11245214818344318],
[0.34380260257981687, 0.44837419299328224, 0.11515125499111648],
[0.34714957749506087, 0.45223008691926853, 0.11793056830617393],
[0.35051493861430250, 0.45608570443907131, 0.12078982689166737],
[0.35389895588872983, 0.45994103703507666, 0.12372872661950163],
[0.357302, 0.46379607574055731, 0.12674692593710660],
[0.36072401867754683, 0.46765081121487922, 0.12984405098977289],
[0.36416558378842573, 0.47150523382041193, 0.13301970037801678],
[0.36762684406145057, 0.47535933370123024, 0.13627344953740134],
[0.37110804858409935, 0.47921310086366170, 0.13960485473543474],
[0.374609, 0.48306652525873922, 0.14301345668638812],
[0.37813126436010003, 0.48691959686662240, 0.14649878379014769],
[0.38167375113348251, 0.49077230578301983, 0.15006035500560255],
[0.38523713300454643, 0.49462464230767317, 0.15369768237257486],
[0.38882163583012019, 0.49847659703492470, 0.15741],
[0.39242748053259935, 0.50232816094640720, 0.16119763193234785],
[0.39605488300395270, 0.50617932550587508, 0.16505926173472443],
[0.39970405401007164, 0.51003008275619754, 0.16899466578381961],
[0.40337519909563402, 0.51388042541851953, 0.17300334831989442],
[0.40706851848964703, 0.51773034699359632, 0.17708481546087126],
[0.41078420701180496, 0.52157984186529804, 0.18123857580633079],
[0.41452245397988685, 0.52542890540626497, 0.18546414085090773],
[0.41828344311830334, 0.52927753408570533, 0.189761],
[0.42206735246801885, 0.53312572557929727, 0.19412874679397216],
[0.42587435429800424, 0.53697347888116365, 0.19856682659640201],
[0.42970461501840262, 0.54082079441787589, 0.20307478870005802],
[0.43355829509559746, 0.54466767416443262, 0.20765215992916053],
[0.43743554896937126, 0.54851412176215364, 0.21229846951458092],
[0.44133652497233356, 0.55236, 0.21701324866789551],
[0.44526136525182841, 0.556206, 0.22179603009331861],
[0.44921020569447762, 0.56005093559707553, 0.22664634744870449],
[0.45318317585360429, 0.56389572856635417, 0.23156373476581965],
[0.45718039887967726, 0.56774013683895042, 0.23654772583913059],
[0.46120199145400503, 0.57158417662718197, 0.24159785359146396],
[0.46524806372586630, 0.575428, 0.246714],
[0.46931871925325069, 0.57927122842085232, 0.25189464255780447],
[0.473414, 0.58311428606282156, 0.25714],
[0.47753416102154483, 0.58695706675617754, 0.26245032274313679],
[0.48167912094334336, 0.59079960071290527, 0.26782405139755233],
[0.48584901139235431, 0.59464192134121652, 0.27326105926677791],
[0.49004390222158350, 0.59848406537881016, 0.27876085486476315],
[0.49426385642395371, 0.60232607302628927, 0.28432294068091590],
[0.49850893010366176, 0.60616798808054184, 0.28994681259487859],
[0.50277917245259973, 0.61000985806789776, 0.29563195931504432],
[0.50707462573202877, 0.61385173437685991, 0.30137786184291060],
[0.51139532525961528, 0.61769367239020667, 0.30718399296505033],
[0.51574129940204039, 0.62153573161624709, 0.31304981677420934],
[0.52011256957325047, 0.62537797581903198, 0.31897478822076891],
[0.52450915023853040, 0.62922047314727780, 0.32495835269559203],
[0.52893104892450193, 0.63306329626180025, 0.33099994564505630],
[0.533378, 0.636907, 0.33709899221888390],
[0.53785079587396734, 0.64075023380571394, 0.34325490695121413],
[0.54234862467238309, 0.644595, 0.34946709347519811],
[0.54687173262440025, 0.64843946470545433, 0.35573494427125746],
[0.55142009292765692, 0.65228517327069768, 0.36205784044901312],
[0.55599367203088357, 0.65613174523116535, 0.36843515156277906],
[0.56059242968779266, 0.65997928822668395, 0.37486623546039360],
[0.56521631901745462, 0.66382791534727137, 0.38135043816506958],
[0.56986528657112478, 0.66767774523680490, 0.387887],
[0.57453927240555935, 0.67152890219291184, 0.39447552448412360],
[0.57923821016275723, 0.67538151626288712, 0.40111504041174018],
[0.583962, 0.679236, 0.40780493975985155],
[0.588711, 0.68309166522798070, 0.41454450877795329],
[0.59348397702261269, 0.68694948976951553, 0.42133302184619720],
[0.59828193374292349, 0.69080935087855388, 0.42816974157214643],
[0.60310441760943156, 0.69467140863626953, 0.435054],
[0.60795132580317957, 0.69853582935451086, 0.44198479333655677],
[0.61282254982315620, 0.70240278563859970, 0.44896159297707466],
[0.61771797561453090, 0.70627245644477354, 0.45598353485624504],
[0.62263748370229499, 0.71014502713216066, 0.46304982509679277],
[0.62758094933009290, 0.71402068950918318, 0.47015965917028318],
[0.63254824260401776, 0.71789964187431132, 0.47731222216359154],
[0.637539, 0.72178208905110364, 0.48450668906476219],
[0.642554, 0.72566824241749484, 0.491742],
[0.64759171544955751, 0.72955831992930176, 0.49901798588840235],
[0.65265292290654042, 0.73345254613796285, 0.50633311810884107],
[0.65773723682322771, 0.73735115220252501, 0.51368675951760323],
[0.66284449974323745, 0.74125437589593490, 0.521078],
[0.66797455019401963, 0.74516246160571808, 0.52850607928356141],
[0.67312722285932514, 0.749076, 0.53596999256745226],
[0.67830234875351891, 0.75299422966302187, 0.54346888565916385],
[0.68349975539724528, 0.75691843378831092, 0.55100185799059331],
[0.68871926699399266, 0.76084854344971609, 0.55856800248715310],
[0.69396070460694936, 0.76478483593055857, 0.56616640596265511],
[0.69922388633565680, 0.76872759502315891, 0.57379614951284508],
[0.70450862749176846, 0.77267711099509762, 0.581456],
[0.70981474077334494, 0.77663368055169180, 0.58914595496352051],
[0.71514203643692753, 0.78059760679512669, 0.59686415394207615],
[0.72049032246668399, 0.78456919918070567, 0.60460996789117549],
[0.72585940473981403, 0.78854877347075880, 0.61238245500678501],
[0.73124908718735893, 0.79253665168679099, 0.62018066996388099],
[0.73665917194947916, 0.796533, 0.62800366422935972],
[0.74208945952420236, 0.80053863898476552, 0.63585048635111585],
[0.74753974890854480, 0.80455342296432020, 0.64372018221945804],
[0.75300983773078378, 0.80857786056891678, 0.65161179529668534],
[0.75849952237260077, 0.81261230438813026, 0.65952436681024362],
[0.76400859807959853, 0.81665711299010380, 0.66745693590439437],
[0.76953685905860047, 0.82071265088516354, 0.67540853974478032],
[0.775084, 0.82477928849581905, 0.683378],
[0.78065010894249209, 0.82885740213482440, 0.69136499068031843],
[0.78623468171983835, 0.83294737399317531, 0.69936790236396418],
[0.79183760758379396, 0.83704959214019348, 0.70738597773784284],
[0.79745867640350354, 0.84116445053815492, 0.71541824350632011],
[0.80309767719593239, 0.84529234907428086, 0.72346372361762135],
[0.80875439806406413, 0.84943369361336118, 0.73152143880672305],
[0.81442862609810906, 0.85358889607479194, 0.73959040600807613],
[0.82012014723430937, 0.857758, 0.74766963761905469],
[0.82582874606492895, 0.86194255338474557, 0.75575814059153401],
[0.83155420559182325, 0.86614186347462529, 0.76385491532470329],
[0.83729630691446844, 0.87035674237754246, 0.77195895432689598],
[0.84305482884145822, 0.87458763465557343, 0.78006924060753535],
[0.84882954741214212, 0.87883499221475725, 0.78818474575193531],
[0.85462023531211961, 0.88309927473653171, 0.79630442762105336],
[0.860427, 0.88738095020533392, 0.80442722760472640],
[0.866249, 0.89168049555218487, 0.81255206733941598],
[0.87208577551877420, 0.89599839743912446, 0.82067784477870120],
[0.87793797223065750, 0.90033515321591828, 0.82880342947481533],
[0.88380492049561665, 0.90469127208916789, 0.83692765688964832],
[0.889686, 0.90906727655567565, 0.84504932150003287],
[0.89558198288398050, 0.91346370416794320, 0.85316716838891471],
[0.90149151733909305, 0.91788110972173942, 0.86127988291268664],
[0.90741463761880226, 0.92232006798681276, 0.86938607789238520],
[0.91335100280929138, 0.92678117714629293, 0.87748427757215963],
[0.91930024252924991, 0.93126506317533020, 0.88557289728991018],
[0.92526194964995634, 0.93577238548652408, 0.89365021735882133],
[0.93123567077922098, 0.94030384431829528, 0.90171434897469049],
[0.93722089359542993, 0.94486019057653259, 0.90976318888526753],
[0.94321702962613518, 0.94944223922125148, 0.91779435779923824],
[0.94922339023250790, 0.95405088793561454, 0.92580511453332082],
[0.95523915208492227, 0.95868714395775123, 0.93379223261616928],
[0.96126330565474538, 0.96335216409207158, 0.94175181619149229],
[0.96729457473383251, 0.96804731718099346, 0.94967901233052265],
[0.97333128303381622, 0.97277428756148365, 0.95756753404989647],
[0.97937111504932595, 0.97753526032761451, 0.96540880495750725],
[0.98541063777988735, 0.98233329142213421, 0.97319],
[0.99144417127752471, 0.98717318047961189, 0.98089124072460498],
[0.99746020819475156, 0.99206423387916376, 0.98847029147300691],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
