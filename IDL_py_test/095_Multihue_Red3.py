from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00032953708004708856, 0.00035199235214596134, 0.00028244378596980536],
[0.00093208650770418386, 0.0010186402139215189, 0.00075500615356094783],
[0.0017910227483517633, 0.0019851894692803356, 0.0013838100877948112],
[0.0028899361597160998, 0.0032342994665191206, 0.0021364205329526781],
[0.0042204403692215923, 0.0047545081481627583, 0.0029888723151946426],
[0.0057786978621734118, 0.0065372369735120497, 0.0039219050878801605],
[0.0075639064788835461, 0.0085755416652712937, 0.0049193050516586944],
[0.0095775000282804813, 0.010863477822957933, 0.00596703],
[0.011822672883950563, 0.013395738182159517, 0.0070526882245402168],
[0.014304072842014732, 0.016167427927796810, 0.0081652183529354987],
[0.017027589864051229, 0.019173917342881722, 0.0092946591521427587],
[0.020000203288984855, 0.022410741040368040, 0.010431998075776090],
[0.023229866576454372, 0.025873526893248795, 0.011569056683066198],
[0.026725417122086641, 0.029557944790035550, 0.012698405017346863],
[0.030496503356533644, 0.033459669142656960, 0.013813295285557523],
[0.034553524060762626, 0.037574351251345457, 0.014907609122822126],
[0.0389076, 0.041858681292595547, 0.015975814602579751],
[0.043451635615103339, 0.046089541411019445, 0.017012930344736436],
[0.047996299634658408, 0.0502573, 0.018014494856597101],
[0.0525547, 0.054364572367746646, 0.018976539769441691],
[0.057130625037414971, 0.058413627782356863, 0.019895565999056855],
[0.061727663467191517, 0.062406434122444308, 0.020768522116983566],
[0.066348833603854907, 0.066344710677014279, 0.021592784405587186],
[0.070996839986006671, 0.070229964884418183, 0.0223661],
[0.075674068408954354, 0.074063523731364961, 0.023086760275438378],
[0.080382617801323830, 0.077846559917324892, 0.023753201927138427],
[0.085124327622259133, 0.081580113831851042, 0.024364372824668201],
[0.089900801625998339, 0.085265112151677452, 0.024919525297446704],
[0.094713428650117504, 0.088902383685650954, 0.025418239119224643],
[0.099563400940817809, 0.092492672961158318, 0.0258604],
[0.10445173042037451, 0.096036651943589235, 0.026246218657022192],
[0.10937926321910582, 0.0995349, 0.026576149787842979],
[0.11434669273046039, 0.102988, 0.026850945398604213],
[0.11935457139831251, 0.10639656293125996, 0.027071608054241143],
[0.12440332140684235, 0.10976089902397965, 0.027239384742222251],
[0.129493, 0.11308151052478105, 0.027355754488608740],
[0.13462453043681269, 0.116359, 0.027422416457607724],
[0.13979726600769904, 0.11959318091970503, 0.027441278570210004],
[0.14501144164530636, 0.12278499791023889, 0.0274144],
[0.15026695874628465, 0.12593461464844821, 0.027344214340224170],
[0.15556363593409395, 0.12904237532205917, 0.0272331],
[0.16090121492286286, 0.132109, 0.027083604144317933],
[0.16627936593898463, 0.13513366841598956, 0.026898668942998739],
[0.17169769273865398, 0.13811786073930629, 0.026681202922590016],
[0.17715573725493963, 0.14106152180557882, 0.026434308209862613],
[0.182653, 0.14396498239177885, 0.026161227873898352],
[0.18818886357792503, 0.14682857742372093, 0.0258653],
[0.19376275734503654, 0.14965264784759833, 0.025550158037949196],
[0.19937399988396304, 0.15243754236705581, 0.025219318553697318],
[0.20502188266602739, 0.15518361906106112, 0.024876587905825382],
[0.21070565690657334, 0.15789124689595208, 0.024525856372738526],
[0.21642453630044295, 0.16056080714340493, 0.024171138648766119],
[0.22217769955661981, 0.16319269471463793, 0.023816574427843181],
[0.22796429274575247, 0.16578731941991517, 0.023466429990421447],
[0.23378343147324648, 0.16834510716130480, 0.023125100807162367],
[0.23963420288970050, 0.17086650106566228, 0.022797115170811386],
[0.24551566754964799, 0.17335196256392116, 0.022487138865545660],
[0.25142686112882129, 0.17580197242198639, 0.022199980881010294],
[0.25736679600950030, 0.17821703172779388, 0.021940600176237293],
[0.26333446274290151, 0.18059766283844292, 0.021714113496621824],
[0.26932883139701041, 0.18294441029069888, 0.021525804245135012],
[0.27534885279776827, 0.18525784167759862, 0.021381132406956937],
[0.28139345967105295, 0.18753854849336654, 0.021285745524665584],
[0.28746156769248637, 0.18978714694834894, 0.021245490719067773],
[0.29355207645169462, 0.19200427875521694, 0.021266427748577198],
[0.29966387033730790, 0.19419061188723094, 0.021354843097826606],
[0.305796, 0.19634684130895247, 0.021517265083802778],
[0.31194677983967012, 0.19847368967937262, 0.0217605],
[0.31811559520073329, 0.20057190802703712, 0.022091549038535919],
[0.32430109648291616, 0.20264227639638754, 0.022517826699637672],
[0.33050210297008703, 0.204686, 0.023047],
[0.33671742270311172, 0.20670273212432022, 0.023687005818333322],
[0.34294585296067598, 0.20869453003979160, 0.024446257170380396],
[0.34918618070088991, 0.21066190015865854, 0.025333459368878861],
[0.35543718296769222, 0.21260577619254611, 0.026357735247999017],
[0.36169762726586890, 0.21452712405431285, 0.0275286],
[0.36796627190835662, 0.21642694225205134, 0.028856124421653601],
[0.37424186633932382, 0.21830626223608990, 0.030350680977676896],
[0.38052315143639964, 0.22016614869544387, 0.032023247600152085],
[0.38680885979525881, 0.22200769979994295, 0.033885294176607870],
[0.39309771599965299, 0.22383204738405821, 0.035948836640185736],
[0.39938843687985398, 0.22564, 0.038226463583960334],
[0.40567973176235767, 0.22743382831365433, 0.040726050134172347],
[0.41197030271357366, 0.22921369440529848, 0.043363964349412802],
[0.41825884478014325, 0.23098122235994584, 0.046138456233329218],
[0.42454404622840269, 0.23273771275336647, 0.049046550406424187],
[0.430825, 0.23448449946280359, 0.0520853],
[0.43709914788405135, 0.23622294931994647, 0.055251856791078337],
[0.44336639291392005, 0.23795446166990580, 0.058543460793539233],
[0.44962498748108754, 0.23968046783180891, 0.061957512104173114],
[0.455874, 0.24140243045677590, 0.065491564798895730],
[0.462111, 0.24312184277926563, 0.0691433],
[0.46833542346987150, 0.24484022775804437, 0.072910735432682838],
[0.47454594629625518, 0.246559, 0.076791812305485624],
[0.48074105985867460, 0.24828015018728405, 0.080784802192497562],
[0.48691939923139443, 0.25000487283462070, 0.084888093200542220],
[0.49307959592087608, 0.25173493599231045, 0.089100221158611215],
[0.49922, 0.25347199427576184, 0.0934199],
[0.50534007183177398, 0.25521772439120960, 0.097845799974089737],
[0.51143759990641413, 0.25697382343383696, 0.10237695327898910],
[0.51751148392244140, 0.258742, 0.10701232212301726],
[0.52356034398384443, 0.26052400754964550, 0.11175099476828729],
[0.52958279939210628, 0.26232157171637466, 0.11659213055457215],
[0.53557746920843985, 0.26413645874232694, 0.12153494710072313],
[0.54154297284816799, 0.26597043786732444, 0.12657870791461045],
[0.54747793070829975, 0.26782528598149419, 0.13172271047848191],
[0.55338096482929555, 0.26970278511201967, 0.13696627485343921],
[0.55925069959191387, 0.27160471981258411, 0.14230873282915260],
[0.56508576245000097, 0.27353287446280117, 0.14774941763185331],
[0.57088478469998150, 0.27548903048580703, 0.15328765419410836],
[0.57664640228776531, 0.27747496349300688, 0.15892274998316633],
[0.58236925665368067, 0.27949244036576065, 0.16465398638008463],
[0.588052, 0.28154321628449641, 0.170481],
[0.593693, 0.28362903171640874, 0.17640182813383937],
[0.599292, 0.28575160937345556, 0.18241679572041736],
[0.60484611358419604, 0.28791265115285208, 0.18852461479901447],
[0.61035502979513134, 0.29011383507262667, 0.19472432546639626],
[0.615817, 0.292357, 0.20101490090416296],
[0.62123132817159976, 0.29464320369111957, 0.20739524227260398],
[0.62659613771122935, 0.29697459763850281, 0.21386417405983371],
[0.63191036305827186, 0.299353, 0.22042043987707183],
[0.63717275572888044, 0.30177856296230288, 0.22706269869194229],
[0.64238208463845725, 0.30425411946371161, 0.23378952149262117],
[0.64753713742249697, 0.30678064312298980, 0.24059938837654460],
[0.65263672179595333, 0.30936, 0.24749068605815261],
[0.65768, 0.31199206362449627, 0.25446170579080402],
[0.66266482498890711, 0.31468, 0.26151064169852561],
[0.66759107239560844, 0.31742325775906732, 0.268636],
[0.67245731154252120, 0.32022429499127086, 0.27583454571680577],
[0.67726247222887315, 0.32308379118105573, 0.28310540707534715],
[0.68200551325381231, 0.32600279547433997, 0.29044597057737975],
[0.68668542402034216, 0.32898229491847269, 0.297854],
[0.69130122616899681, 0.33202321288633624, 0.305327],
[0.69585197523954201, 0.33512640765789209, 0.31286235667946155],
[0.70033676235877795, 0.33829267116101797, 0.32045772255266342],
[0.70475471595239880, 0.34152272787246329, 0.32811030368953120],
[0.70910500347866934, 0.34481723387881791, 0.33581731864998987],
[0.71338683318150276, 0.348177, 0.34357589647019665],
[0.71759945586034657, 0.35160187164901963, 0.35138307959457643],
[0.72174216665409074, 0.35509296739884538, 0.35923582715330010],
[0.72581430683602521, 0.35865043963096599, 0.367131],
[0.72981526561666132, 0.36227459388419914, 0.37506545753108128],
[0.73374448195106212, 0.36596566492623195, 0.38303587618046497],
[0.73760144634708069, 0.36972381686785177, 0.39103893973550835],
[0.74138570267074944, 0.37354914341157863, 0.39907125130254867],
[0.74509684994480441, 0.37744166822976860, 0.40712935700239267],
[0.74873454413617668, 0.38140134546713195, 0.41520975134851468],
[0.75229849992803355, 0.38542806036261096, 0.42330888286720925],
[0.75578849247177282, 0.38952162998561068, 0.43142315994196934],
[0.75920435911418016, 0.39368180408166836, 0.43954895686334616],
[0.76254600109474258, 0.39790826602282803, 0.44768262006460274],
[0.76581338520795683, 0.40220063385815719, 0.45582047452256796],
[0.76900654542527069, 0.40655846146007746, 0.46395883030228774],
[0.77212558447113233, 0.41098123976241246, 0.47209398922330809],
[0.775171, 0.41546839808629948, 0.48022225162479554],
[0.77814206280090936, 0.42001930555035444, 0.48833992320612046],
[0.78104006472637666, 0.42463327256171179, 0.496443],
[0.78386507350174817, 0.42930955238475216, 0.50452878488771014],
[0.78661755724668936, 0.434047, 0.51259267533100605],
[0.78929806099992183, 0.43884578774219729, 0.52063138946459875],
[0.79190720780851975, 0.44370397923923544, 0.52864136335642853],
[0.79444569972297341, 0.44862095910865457, 0.53661907971245015],
[0.79691431869177209, 0.45359572094973105, 0.54456107456826208],
[0.79931392734925544, 0.45862721210416285, 0.55246394386310860],
[0.80164546969054418, 0.46371433569081738, 0.56032434987321766],
[0.80390997162747813, 0.468856, 0.56813902748211864],
[0.80610854141955513, 0.47405088411870916, 0.57590479026638020],
[0.80824236997404131, 0.47929791316087073, 0.58361853637611350],
[0.810313, 0.48459578747094317, 0.59127725419062394],
[0.81232098107805706, 0.48994322142586871, 0.59887802773070886],
[0.81426855943879373, 0.49533889845467377, 0.60641804181033798],
[0.81615698778134638, 0.500781, 0.61389458691176513],
[0.81798786979102778, 0.50626957489625635, 0.62130506376950700],
[0.81976289055359153, 0.51180180781249385, 0.62864698765010307],
[0.82148381579487018, 0.51737675566785135, 0.63591799231606882],
[0.82315249095183996, 0.52299298310221320, 0.64311583366404679],
[0.82477084007198209, 0.52864903834444899, 0.65023839302874509],
[0.82634086453825240, 0.534343, 0.65728368014588490],
[0.82786464161743489, 0.54007475798302318, 0.66424983576901964],
[0.82934432283020199, 0.54584145908785608, 0.67113513393673030],
[0.83078213214166785, 0.55164206636008351, 0.67793798388832294],
[0.83218036397185857, 0.55747508309535421, 0.684657],
[0.83354138102601794, 0.56333901095969774, 0.69129066113719639],
[0.83486761194534143, 0.56923235239225944, 0.69783799524280521],
[0.836162, 0.57515361297506706, 0.70429789613749549],
[0.83742574428144123, 0.58110130376406088, 0.71066946556600075],
[0.83866280903094925, 0.58707394357573561, 0.71695194467962064],
[0.83987540838348673, 0.59307006122386774, 0.72314471356893639],
[0.84106625925478329, 0.59908819770103083, 0.72924729048410575],
[0.84223812674177900, 0.60512690829976901, 0.73525933075343597],
[0.84339382058647627, 0.61118476466860106, 0.74118062541196050],
[0.84453619148851677, 0.61726, 0.74701109955266665],
[0.84566812727318186, 0.62335229493400190, 0.75275081041387171],
[0.846793, 0.62945921140980687, 0.75839994521695864],
[0.84791240647596255, 0.63557976240131275, 0.76395881876934291],
[0.84903067481463901, 0.64171262959384645, 0.76942787084806752],
[0.85015034933014932, 0.647857, 0.77480766337987306],
[0.85127444149688614, 0.65401017626523150, 0.78009887743395356],
[0.85240597435362697, 0.66017236043640248, 0.78530231004384809],
[0.85354797790774550, 0.66634187289672297, 0.79041887087511198],
[0.85470348447410349, 0.672518, 0.79544957875550315],
[0.85587552396144984, 0.67869824075156415, 0.80039555808441920],
[0.85706711911977362, 0.68488286021888722, 0.80525803513829242],
[0.85828128076254440, 0.69107033806060580, 0.81003833428850414],
[0.85952100297826073, 0.69725964554838049, 0.81473787414822141],
[0.86078925834612308, 0.70344979105768102, 0.81935816366432390],
[0.86208899317100962, 0.70963982070324572, 0.82390079817032802],
[0.86342312275319588, 0.71582881888117478, 0.82836745541589940],
[0.86479452670851709, 0.72201590871914301, 0.83275989158823593],
[0.86620604435472726, 0.7282, 0.83707993734024977],
[0.86766047017993830, 0.73438105161619782, 0.84132949384014755],
[0.86916054940891085, 0.74055754739080726, 0.84551052885666078],
[0.87070897368293143, 0.74672902054484258, 0.84962507289386902],
[0.87230837686866036, 0.75289479153601901, 0.85367521538928082],
[0.87396133101117712, 0.75905422043795012, 0.85766310098861487],
[0.87567034244591624, 0.76520670680699809, 0.86159092591054043],
[0.877438, 0.77135168947597577, 0.86546093441459349],
[0.87926621188297316, 0.77748864627741543, 0.86927541538549402],
[0.881158, 0.78361709369907095, 0.87303669904729231],
[0.88311458527788622, 0.78973658647424094, 0.87674715382110369],
[0.88513892914451508, 0.79584671710935773, 0.880409],
[0.88723279416323031, 0.80194711535110297, 0.88402522364162228],
[0.88939813401364942, 0.80803744759503160, 0.88759774053858453],
[0.89163681285055263, 0.81411741623739398, 0.891129],
[0.893951, 0.820187, 0.89462220201841936],
[0.89634118533745766, 0.82624524802844745, 0.898079],
[0.89881014390349034, 0.83229268936493272, 0.90150280400302440],
[0.90135896884704114, 0.83832892179285490, 0.90489557775751561],
[0.90398905361687454, 0.844354, 0.90826013043257903],
[0.90670169485670371, 0.85036727382915078, 0.91159908322833649],
[0.90949809219201694, 0.85636922669180915, 0.91491507574941788],
[0.91237934831667134, 0.86236, 0.918211],
[0.91534646938611430, 0.86833848656849710, 0.92148883294724426],
[0.91840036572646555, 0.874306, 0.92475197483859828],
[0.92154185287237789, 0.88026160105576967, 0.92800291494172238],
[0.92477165295208685, 0.88620596514187788, 0.93124440334863356],
[0.92809039644649616, 0.89213897161837719, 0.93447922199401401],
[0.931499, 0.89806072379772683, 0.93771019088645491],
[0.93499679087103105, 0.90397134229483456, 0.94094017629425564],
[0.93858526651622143, 0.90987096238333143, 0.94417210145057195],
[0.94226434208705812, 0.91575973083161377, 0.94740896056583301],
[0.946034, 0.92163780202487677, 0.95065383726869534],
[0.94989508711051485, 0.92750533308658600, 0.95390992910748540],
[0.95384698847721638, 0.93336247756505364, 0.95718058054908750],
[0.95788997104173224, 0.93920937700738005, 0.96046932822379227],
[0.96202403019698524, 0.94504614932662501, 0.96377996438470326],
[0.966249, 0.95087287212248184, 0.96711662848171309],
[0.97056529286127813, 0.95668955770687825, 0.97048394409755401],
[0.974973, 0.96249611374210276, 0.97388723315995740],
[0.97947099921358516, 0.96829227716482580, 0.97733287113537604],
[0.98406116456126857, 0.97407749385937559, 0.98082892358958229],
[0.98874401675529333, 0.97985067361693179, 0.98438641838598773],
[0.99352182420635560, 0.98560959981297047, 0.98802234658610211],
[0.99840047826059430, 0.99134901629505723, 0.99176916085142042],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
