from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000308792069928071533, 0.000372257451066833594, 0.000304881530845239467],
[0.000842788764655853090, 0.00108610365199204536, 0.000838632527582860716],
[0.00157516194165521306, 0.00212943545083484802, 0.00157157112321809080],
[0.00247946050612963577, 0.00348772729038664391, 0.00247297051125441869],
[0.00353812399315897455, 0.00515241784499048758, 0.00351935419346025577],
[0.00473871758984175176, 0.00711784676470003045, 0.00469111315618204235],
[0.00607225983797646078, 0.00937998582565852807, 0.00597104867792019444],
[0.00753233208905341751, 0.0119357956949832471, 0.00734362103735078549],
[0.00911454884241627225, 0.0147828570606234437, 0.00879451888159392403],
[0.0108162180146794580, 0.0179191403738329369, 0.0103103948595126907],
[0.0126361106013631944, 0.0213428528621151352, 0.0118786956465979244],
[0.0145742976257058360, 0.0250523319042247998, 0.0134875491960174988],
[0.0166320305824478563, 0.0290459678786740595, 0.0151256884248361229],
[0.0188116510923074902, 0.0333221466578830505, 0.0167823989664163536],
[0.0211165207632769067, 0.0378792057326517370, 0.0184474832556498873],
[0.0235509653516464169, 0.0426419877087446317, 0.0201112359093232641],
[0.0261202292156331416, 0.0473522317912303467, 0.0217644270047367347],
[0.0288304372654467796, 0.0520080068692198097, 0.0233982908979889596],
[0.0316885624111018713, 0.0566122115821506219, 0.0250045189028732344],
[0.0347023970496277562, 0.0611673074886607340, 0.0265752546095027603],
[0.0378805275087690380, 0.0656753911143374003, 0.0281030909390882974],
[0.0412148505001121504, 0.0701382516715566562, 0.0295810682564842838],
[0.0445701173285803012, 0.0745574178439032953, 0.0310026730256160593],
[0.0479464282107390990, 0.0789341961126417413, 0.0323618366141519287],
[0.0513488221974424605, 0.0832697024618478388, 0.0336529339455401005],
[0.0547819697885578091, 0.0875648888423894989, 0.0348707817672965145],
[0.0582501914288535358, 0.0918205654449026354, 0.0360106363599977664],
[0.0617574734554480267, 0.0960374195899208194, 0.0370681905558106622],
[0.0653074822309286651, 0.100216031863623184, 0.0380395699713796734],
[0.0689035770186245955, 0.104356889992652580, 0.0389213283894935327],
[0.0725488220169220044, 0.108460400848934574, 0.0397104422486015685],
[0.0762459978591016052, 0.112526900896776555, 0.0404043042199847893],
[0.0799976127975915163, 0.116556665333646226, 0.0409893046006518450],
[0.0838059137221470740, 0.120549916128487894, 0.0414725753983420167],
[0.0876728971068596319, 0.124506829124022111, 0.0418555888981881272],
[0.0916003199384081146, 0.128427540339795393, 0.0421390154386233270],
[0.0955897106454599577, 0.132312151589062954, 0.0423234442644041739],
[0.0996423800249597036, 0.136160735503538827, 0.0424093800615280084],
[0.103759432143679442, 0.139973340044651479, 0.0423972379870861185],
[0.107941775181731481, 0.143749992567417884, 0.0422873371121016764],
[0.112190132177601931, 0.147490703492811542, 0.0420798921506578480],
[0.116505051630811290, 0.151195469636074470, 0.0417750032973438282],
[0.120886917917716108, 0.154864277231480191, 0.0413726439343546568],
[0.125335961477524377, 0.158497104688284152, 0.0408726458958156638],
[0.129852268728797543, 0.162093925107788028, 0.0402719471464315915],
[0.134435791680952626, 0.165654708587429644, 0.0395690485476123677],
[0.139086357210240902, 0.169179424334424705, 0.0387748648999088480],
[0.143803675974960576, 0.172668042608643907, 0.0378919489965503509],
[0.148587350950066005, 0.176120536511986892, 0.0369230579224127317],
[0.153436885566560793, 0.179536883639474648, 0.0358711384196380920],
[0.158351691446085935, 0.182917067605521150, 0.0347393125108284712],
[0.163331095725694070, 0.186261079457357037, 0.0335308634552180102],
[0.168374347971972232, 0.189568918986283752, 0.0322492221105941806],
[0.173480626687364609, 0.192840595946327326, 0.0308979537707972998],
[0.178649045414712410, 0.196076131188895331, 0.0294807455454289824],
[0.183878658448724669, 0.199275557721207031, 0.0280013943449822465],
[0.189168466165332921, 0.202438921695521246, 0.0264637955310280393],
[0.194517419981630024, 0.205566283335555766, 0.0248719322873646835],
[0.199924426960511326, 0.208657717805908027, 0.0232298657642356528],
[0.205388354075124235, 0.211713316029785714, 0.0215417260438448624],
[0.210908032148949376, 0.214733185459898057, 0.0198117039715243887],
[0.216482259487728701, 0.217717450806955426, 0.0180440438930286086],
[0.222109805219665502, 0.220666254729837419, 0.0162430373346165655],
[0.227789412360271781, 0.223579758491167957, 0.0144130176588259419],
[0.233519800618054274, 0.226458142581707045, 0.0125583557252009048],
[0.239299668956926337, 0.229301607316680256, 0.0106834565817181329],
[0.245127697930766775, 0.232110373406898052, 0.00879275720927253507],
[0.251002551805068808, 0.234884682507249642, 0.00689072533838497488],
[0.256922880480032589, 0.237624797744913907, 0.00498185935425254824],
[0.262887321228845838, 0.240331004229390743, 0.00307068930342391244],
[0.268894500264258263, 0.243003609546225019, 0.00116177901273488947],
[0.274943034145911369, 0.245642944236075689, 0.],
[0.281031531040218774, 0.248249362260555662, 0.],
[0.287158591843965860, 0.250823241456060220, 0.],
[0.293322811182148535, 0.253364983976580027, 0.],
[0.299522778289972980, 0.255875016726286875, 0.],
[0.305757077788336384, 0.258353791782467923, 0.],
[0.312024290361554435, 0.260801786809169545, 0.],
[0.318322993345570959, 0.263219505461701864, 0.],
[0.324651761234357850, 0.265607477781946988, 0.],
[0.331009166111762176, 0.267966260584191207, 0.],
[0.337393778015592394, 0.270296437831002323, 0.],
[0.343804165240322646, 0.272598620998449170, 0.],
[0.350238894584403826, 0.274873449429754946, 0.],
[0.356696531547800899, 0.277121590676263130, 0.],
[0.363175640485047690, 0.279343740824381292, 0.],
[0.369674784718783622, 0.281540624806966733, 0.],
[0.376192526618453593, 0.283712996697405739, 0.],
[0.382727427648581198, 0.285861639984443194, 0.],
[0.389278048390780618, 0.287987367825614904, 0.],
[0.395842948543425055, 0.290091023276955740, 0.],
[0.402420686902698110, 0.292173479496460498, 0.],
[0.409009821328539969, 0.294235639918611236, 0.],
[0.415608908698827106, 0.296278438397109933, 0.],
[0.422216504854944552, 0.298302839312808765, 0.],
[0.428831164541762788, 0.300309837643691957, 0.],
[0.435451441344884227, 0.302300458993622345, 0.],
[0.442075887627869923, 0.304275759576483840, 0.],
[0.448703054472063101, 0.306236826152233299, 0.],
[0.455331491621476181, 0.308184775911319542, 0.],
[0.461959747435114199, 0.310120756303884026, 0.],
[0.468586368849001234, 0.312045944810116604, 0.],
[0.475209901350077180, 0.313961548648156064, 0.],
[0.481828888964034807, 0.315868804415955218, 0.],
[0.488441874259094300, 0.317768977663575591, 0.],
[0.495047398367609637, 0.319663362392486050, 0.],
[0.501644001027342523, 0.321553280478547809, 0.],
[0.508230220644144248, 0.323440081015537006, 0.],
[0.514804594377737512, 0.325325139576239875, 0.],
[0.521365658252188724, 0.327209857388395642, 0.],
[0.527911947292627359, 0.329095660423020908, 0.],
[0.534441995689675320, 0.330983998392957335, 0.],
[0.540954336993003437, 0.332876343659829654, 0.00331528925495596597],
[0.547447504335352497, 0.334774190047979259, 0.00832827268162662261],
[0.553920030688321630, 0.336679051564346354, 0.0138012945250094981],
[0.560370449151114558, 0.338592461023754954, 0.0197591724382142862],
[0.566797293273441083, 0.340515968579494010, 0.0262278062436330436],
[0.573199097413638170, 0.342451140159658607, 0.0332341981893317026],
[0.579574397133070684, 0.344399555810216529, 0.0407995590182388609],
[0.585921729627775001, 0.346362807946364648, 0.0483661394954020343],
[0.592239634198254872, 0.348342499514321391, 0.0557284312864969114],
[0.598526652758278432, 0.350340242066309093, 0.0629439711720674588],
[0.604781330383460824, 0.352357653752107369, 0.0700548962294983979],
[0.611002215900334211, 0.354396357231180126, 0.0770930745903532222],
[0.617187862516567098, 0.356457977510000024, 0.0840832392031112819],
[0.623336828492895068, 0.358544139709832010, 0.0910449942522846556],
[0.629447677857270294, 0.360656466770816309, 0.0979941502038600420],
[0.635518981161675156, 0.362796577098794815, 0.104943641041240876],
[0.641549316281930571, 0.364966082161882088, 0.111904171729468288],
[0.647537269260806569, 0.367166584044284206, 0.118884685950222085],
[0.653481435194606997, 0.369399672965371739, 0.125892710825808912],
[0.659380419163367648, 0.371666924772423579, 0.132934615457383804],
[0.665232837204698391, 0.373969898415830560, 0.140015807828107047],
[0.671037317331203531, 0.376310133415875714, 0.147140886825448708],
[0.676792500591362867, 0.378689147330422748, 0.154313761056252025],
[0.682497042173625057, 0.381108433233033672, 0.161537742740987256],
[0.688149612553407008, 0.383569457211110021, 0.168815622668803567],
[0.693748898682564397, 0.386073655893687306, 0.176149730597409598],
[0.699293605220831727, 0.388622434018412011, 0.183541984355842291],
[0.704782455808610542, 0.391217162047103772, 0.190993930102325599],
[0.710214194380388464, 0.393859173839057386, 0.198506775604600172],
[0.715587586517967278, 0.396549764390932480, 0.206081417980175152],
[0.720901420842564478, 0.399290187651682782, 0.213718467014095526],
[0.726154510444759871, 0.402081654420521128, 0.221418264931219910],
[0.731345694351110964, 0.404925330335389078, 0.229180903317139306],
[0.736473839026202892, 0.407822333958792860, 0.237006237741505144],
[0.741537839908695373, 0.410773734967268544, 0.244893900528841246],
[0.746536622979913078, 0.413780552450002614, 0.252843312036956591],
[0.751469146363301643, 0.416843753321462063, 0.260853690736165378],
[0.756334401953007274, 0.419964250852122134, 0.268924062329340630],
[0.761131417069692118, 0.423142903320627484, 0.277053268110278972],
[0.765859256141547928, 0.426380512789971966, 0.285239972723499713],
[0.770517022408363062, 0.429677824009508547, 0.293482671460691180],
[0.775103859646328774, 0.433035523443889348, 0.301779697206135344],
[0.779618953911147439, 0.436454238429304975, 0.310129227124561091],
[0.784061535296855627, 0.439934536456721814, 0.318529289169167840],
[0.788430879707626486, 0.443476924581179322, 0.326977768474389974],
[0.792726310639659038, 0.447081848955628580, 0.335472413686840609],
[0.796947200970113623, 0.450749694487265373, 0.344010843278406364],
[0.801092974749909037, 0.454480784613824407, 0.352590551877319747],
[0.805163108997004162, 0.458275381196928844, 0.361208916646017453],
[0.809157135486673673, 0.462133684529215383, 0.369863203728457990],
[0.813074642535088765, 0.466055833451699486, 0.378550574784198568],
[0.816915276772375409, 0.470041905577646524, 0.387268093621797982],
[0.820678744901154333, 0.474091917619045289, 0.396012732939885037],
[0.824364815436406273, 0.478205825811728824, 0.404781381180483457],
[0.827973320422351056, 0.482383526435141319, 0.413570849495810189],
[0.831504157121877974, 0.486624856422795238, 0.422377878826738384],
[0.834957289673898706, 0.490929594059519803, 0.431199147088390411],
[0.838332750713861152, 0.495297459761750714, 0.440031276455877363],
[0.841630642952522101, 0.499728116937200706, 0.448870840740982879],
[0.844851140707919224, 0.504221172920507499, 0.457714372848624429],
[0.847994491385392846, 0.508776179981574095, 0.466558372300151236],
[0.851061016900359402, 0.513392636403564362, 0.475399312808977792],
[0.854051115038441222, 0.518069987627719164, 0.484233649892676865],
[0.856965260747477253, 0.522807627462357982, 0.493057828504480600],
[0.859804007355837285, 0.527604899353627643, 0.501868290666126260],
[0.862567987711418516, 0.532461097715758114, 0.510661483083161616],
[0.865257915235623454, 0.537375469318721710, 0.519433864723165994],
[0.867874584886629386, 0.542347214731353833, 0.528181914336864344],
[0.870418874026211542, 0.547375489818082372, 0.536902137901780985],
[0.872891743184401214, 0.552459407287495097, 0.545591075967934547],
[0.875294236716305574, 0.557598038291031606, 0.554245310885069231],
[0.877627483345444936, 0.562790414070060363, 0.562861473891064446],
[0.879892696588060241, 0.568035527649616179, 0.571436252041485404],
[0.882091175052935106, 0.573332335576978713, 0.579966394960668707],
[0.884224302611419155, 0.578679759703200736, 0.588448721395325891],
[0.886293548432473877, 0.584076689005556426, 0.596880125552364027],
[0.888300466877773975, 0.589521981448733023, 0.605257583203453353],
[0.890246697252101704, 0.595014465882424570, 0.613578157539840130],
[0.892133963404486141, 0.600552943972755604, 0.621839004761932212],
[0.893964073175880669, 0.606136192164787091, 0.630037379389370766],
[0.895738917689399283, 0.611762963673098348, 0.638170639278525131],
[0.897460470479517158, 0.617431990497228966, 0.646236250335664453],
[0.899130786457003617, 0.623141985458502634, 0.654231790915458134],
[0.900752000706733114, 0.628891644254529592, 0.662154955895877806],
[0.902326327115967053, 0.634679647527463753, 0.670003560422074540],
[0.903856056831165100, 0.640504662941844827, 0.677775543313308471],
[0.905343556541869598, 0.646365347267664481, 0.685468970128550459],
[0.906791266590739386, 0.652260348464104856, 0.693082035887937486],
[0.908201698909374300, 0.658188307759219771, 0.700613067448793259],
[0.909577434780159733, 0.664147861720683519, 0.708060525536493124],
[0.910921122424982688, 0.670137644312620240, 0.715423006431972319],
[0.912235474422352754, 0.676156288933409288, 0.722699243319166684],
[0.913523264955107384, 0.682202430429320272, 0.729888107297162248],
[0.914787326891660424, 0.688274707078762260, 0.736988608063238626],
[0.916030548704459546, 0.694371762541946547, 0.743999894274397278],
[0.917255871230163056, 0.700492247770741594, 0.750921253596264049],
[0.918466284276801659, 0.706634822873571933, 0.757752112449565307],
[0.919664823084134109, 0.712798158930229797, 0.764492035465572983],
[0.920854564644214113, 0.718980939751594383, 0.771140724663093136],
[0.922038623890188758, 0.725181863579292818, 0.777698018360671317],
[0.923220149762296827, 0.731399644720477804, 0.784163889838752293],
[0.924402321160992968, 0.737633015112999835, 0.790538445767529852],
[0.925588342798296049, 0.743880725816332911, 0.796821924417201788],
[0.926781440959444036, 0.750141548423739257, 0.803014693668268276],
[0.927984859188197286, 0.756414276391223384, 0.809117248840446002],
[0.929201853910293862, 0.762697726278883770, 0.815130210359680141],
[0.930435690010921523, 0.768990738900271476, 0.821054321283669619],
[0.931689636383444486, 0.775292180375346085, 0.826890444707323979],
[0.932966961468164713, 0.781600943082477073, 0.832639561070610768],
[0.934270928801534950, 0.787915946504769371, 0.838302765392454074],
[0.935604792598166979, 0.794236137965635303, 0.843881264455681124],
[0.936971793389974050, 0.800560493248089977, 0.849376373969619958],
[0.938375153749291813, 0.806888017091575094, 0.854789515738840766],
[0.939818074125546743, 0.813217743559217943, 0.860122214868869972],
[0.941303728828437158, 0.819548736267211697, 0.865376097042589110],
[0.942835262194543389, 0.825880088466407924, 0.870552885904646079],
[0.944415784979308115, 0.832210922964083610, 0.875654400595793248],
[0.946048371022411350, 0.838540391871056556, 0.880682553484921970],
[0.947736054242429016, 0.844867676155648284, 0.885639348154116046],
[0.949481826026671194, 0.851191984981161887, 0.890526877701847019],
[0.951288633095206060, 0.857512554797098092, 0.895347323442280740],
[0.953159375935293096, 0.863828648145813172, 0.900102954095645669],
[0.955096907925643834, 0.870139552134732042, 0.904796125587242095],
[0.957104035301220235, 0.876444576508627504, 0.909429281603263084],
[0.959183518152470493, 0.882743051234881837, 0.914004955093281612],
[0.961338072713177394, 0.889034323484621747, 0.918525770967018040],
[0.963570375276607050, 0.895317753850068065, 0.922994450314126968],
[0.965883068203221451, 0.901592711577171579, 0.927413816591674434],
[0.968278768665335909, 0.907858568502542873, 0.931786804392939927],
[0.970760081048187007, 0.914114691248492428, 0.936116471662743033],
[0.973329614350314176, 0.920360431021700398, 0.940406016608529405],
[0.975990006598547732, 0.926595110030964952, 0.944658801159545036],
[0.978743959396508267, 0.932818002998844875, 0.948878383804974912],
[0.981594287607266636, 0.939028311321836839, 0.953068566291374819],
[0.984543992526512590, 0.945225125795490784, 0.957233461567703281],
[0.987596373218367352, 0.951407370742093028, 0.961377595776352512],
[0.990755203381021299, 0.957573716198861224, 0.965506067837086923],
[0.994025028820309298, 0.963722431353485898, 0.969624813356651960],
[0.997411707920279444, 0.969851119734832845, 0.973741075240002085],
[1.00000000000000000, 0.975956184972878504, 0.977864337774265402],
[1.00000000000000000, 0.982031557245914732, 0.982008511290832442],
[1.00000000000000000, 0.988064614018964504, 0.986198776624275353],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
