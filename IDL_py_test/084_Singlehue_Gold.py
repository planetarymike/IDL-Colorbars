from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00036372015502440796, 0.00034007092587346854, 0.00026794898934974856],
[0.00106079, 0.00097343271477890229, 0.00070405016570244472],
[0.0020808731361675889, 0.0018828076416195990, 0.0012754],
[0.0034109661517021314, 0.0030493658392497843, 0.0019514009561782957],
[0.0050441070574699662, 0.0044608793931083810, 0.0027104083348668531],
[0.0069763968263824071, 0.0061085551744166034, 0.0035357370431748371],
[0.0092057643588906793, 0.0079856902972268613, 0.0044138729876737979],
[0.011731340194830473, 0.010086978737636129, 0.0053335114812230718],
[0.014553098116078824, 0.012408108927980268, 0.0062849805901522681],
[0.017671632232300415, 0.014945510624383568, 0.0072598680168310592],
[0.021088009546406664, 0.017696186029711909, 0.00825077],
[0.024803667686144181, 0.020657591954677777, 0.0092510884983064163],
[0.028820341196020186, 0.023827554631388300, 0.010254937846191404],
[0.033140006701497214, 0.027204206348337052, 0.011257001327610126],
[0.037764841000149311, 0.030785937198842546, 0.012252472354454666],
[0.042624639723904824, 0.034571357613895591, 0.013236987365072638],
[0.047450834135530563, 0.038559268787612115, 0.014206575030701029],
[0.052239593929704641, 0.042673638800450074, 0.015157614668865610],
[0.056994491297549903, 0.046734120753645365, 0.016086801737113392],
[0.061718659105837188, 0.050749913078312871, 0.016991118856215577],
[0.066414861560322669, 0.054724104160919086, 0.017867811210860524],
[0.071085550657963875, 0.058659459405160090, 0.018714365458133410],
[0.075732911793016500, 0.062558468861992234, 0.019528491477665805],
[0.080358900975513098, 0.066423386162008380, 0.020308106446671401],
[0.084965275485527625, 0.0702563, 0.021051320834314227],
[0.089553619334152151, 0.074058963998586941, 0.021756425993854776],
[0.094125364574824316, 0.077833212795405476, 0.022421883095255925],
[0.098681809268584442, 0.081580587242960217, 0.023046313190630666],
[0.10322413272850436, 0.085302547311777749, 0.023628488243765129],
[0.10775340853449456, 0.089000446440931719, 0.024167322985627480],
[0.11227061570785540, 0.092675543328941124, 0.024661867482210574],
[0.11677664835677209, 0.096329012118894414, 0.025111300320685044],
[0.12127232404341798, 0.099961951238769276, 0.025514922335734332],
[0.12575839107600933, 0.10357539110889200, 0.025872150810899355],
[0.13023553489190418, 0.10717030088982488, 0.026182514100400438],
[0.13470438366823881, 0.11074759441325824, 0.026445646625690347],
[0.13916551327297147, 0.114308, 0.026661284208295780],
[0.14361945165015361, 0.11785274216060510, 0.026829259706603298],
[0.14806668271785275, 0.12138219156880006, 0.026949498929368147],
[0.152508, 0.12489722286345112, 0.027022],
[0.15694275895988716, 0.128399, 0.027046913773716111],
[0.16137238134599277, 0.13188681884816733, 0.027024372427448842],
[0.16579685615095427, 0.13536270131489914, 0.026954654315692279],
[0.17021649265724201, 0.13882680621900650, 0.026838096974455737],
[0.17463157233535803, 0.14227972717202345, 0.026675111128082438],
[0.17904235070772684, 0.14572203535787157, 0.026466178070068007],
[0.18344905904473865, 0.14915428127913338, 0.026211847214839216],
[0.18785190591189785, 0.15257699634073327, 0.025912733815675815],
[0.192251, 0.15599069428847687, 0.025569516845045374],
[0.19664674434457152, 0.15939587251767748, 0.025182937034574575],
[0.201039, 0.162793, 0.024753795072705191],
[0.20542813133969900, 0.16618258469673639, 0.024282949958800284],
[0.20981409742958595, 0.16956504189932484, 0.0237713],
[0.21419704826423525, 0.17294082778873063, 0.023219869042395806],
[0.21857706727616261, 0.17631037393923576, 0.022629630162032142],
[0.22295422381262714, 0.179674, 0.022001679774712828],
[0.227329, 0.18303242110735574, 0.021337149207629125],
[0.23170016086656425, 0.18638573508939987, 0.020637221509184053],
[0.236069, 0.189734, 0.019903130907133564],
[0.24043515973906438, 0.19307891035561117, 0.0191362],
[0.24479860085736460, 0.19641953413509733, 0.018337651694702827],
[0.24915933845109117, 0.199757, 0.017508984860438313],
[0.25351736171328215, 0.20309070561556847, 0.016651598755137234],
[0.25787265055811953, 0.206422, 0.015766981173254192],
[0.26222517607242996, 0.20975083382984849, 0.014856671349890478],
[0.26657490094311959, 0.21307763081562980, 0.013922260613258729],
[0.27092177986256621, 0.21640270467253381, 0.012965393218434580],
[0.27526575991381824, 0.21972639007697831, 0.0119878],
[0.279607, 0.22304901676927552, 0.010991136403442146],
[0.28394477588042472, 0.22637090977297286, 0.0099773102274016562],
[0.28828, 0.229692, 0.0089481568644497692],
[0.29261138684127641, 0.23301377240088628, 0.0079056042586002594],
[0.29693983722585288, 0.23633537018774836, 0.0068516422533226578],
[0.30126493086509254, 0.23965749092053024, 0.0057883247760199298],
[0.30558657098420811, 0.24298043866828128, 0.0047177722271108599],
[0.30990465572747855, 0.24630451372005430, 0.0036421740765527149],
[0.31421907842224328, 0.24963001268848578, 0.0025637916705714327],
[0.31852972783432804, 0.25295722860090125, 0.0014849612513187079],
[0.32283648841563095, 0.25628645097873060, 0.00040809719208576895],
[0.32713924054450982, 0.25961796590598074, -0.00066430454936375501],
[0.33143786075961434, 0.262952, -0.0017296627568889990],
[0.33573222198771024, 0.26628900089727447, -0.0027853070591372328],
[0.34002219376604503, 0.26962907641857276, -0.0038284738075534193],
[0.34430764245974882, 0.27297255547445987, -0.0048563017271231485],
[0.34858843147472690, 0.27631970765124697, -0.0058658273379089141],
[0.35286442146649000, 0.27967079931414429, -0.0068539801455760043],
[0.35713547054531991, 0.28302609361598952, -0.00781758],
[0.36140143447815176, 0.28638585049943416, -0.0087533198156727055],
[0.36566216688753089, 0.28975032669300527, -0.0096577840672847377],
[0.36991751944798185, 0.29311977570142966, -0.0105274],
[0.37416734208009522, 0.29649444779060474, -0.011358538824541737],
[0.37841148314263295, 0.29987458996756894, -0.012147316742460151],
[0.38264978962292928, 0.30326044595581259, -0.012889778838992462],
[0.38688210732584449, 0.30665225616626218, -0.013581797210324313],
[0.39110828106150797, 0.31005025766424821, -0.014219083065393387],
[0.39532815483209766, 0.31345468413276639, -0.0147972],
[0.39954157201784551, 0.31686576583232035, -0.015311454376105845],
[0.403748, 0.32028372955763501, -0.015757092119030903],
[0.40794840815833222, 0.32370879859151747, -0.016129086416510573],
[0.412142, 0.32714119265613079, -0.016422231840578418],
[0.41632753112487714, 0.330581, -0.016631115584566807],
[0.42050630728677335, 0.33402881665467527, -0.0167501],
[0.42467768445234749, 0.33748446776027985, -0.016773358453078042],
[0.428842, 0.34094828612857969, -0.016694777129735702],
[0.43299761949200816, 0.34442047287543343, -0.016508035088335885],
[0.43714586855106413, 0.34790122522389405, -0.016206550272996112],
[0.44128610135754043, 0.351391, -0.015783478870666379],
[0.44541816668244300, 0.35488919579516964, -0.015231705561159220],
[0.44954191490718748, 0.35839678846025758, -0.014543833591447083],
[0.45365719821322475, 0.36191369549014440, -0.013712174683720440],
[0.45776387077257247, 0.36544009374045561, -0.012728738787550875],
[0.46186178893927027, 0.36897615581182819, -0.011585223687397332],
[0.46595081144178102, 0.37252204999022825, -0.010273004477614960],
[0.470031, 0.37607794018808144, -0.0087831229180717514],
[0.47410161740132256, 0.37964398588645482, -0.0071062766844573865],
[0.47816313193235643, 0.38322, -0.0052328085283596098],
[0.48221521333859546, 0.38680715921448078, -0.0031526953632156547],
[0.48625773513965825, 0.39040458314834670, -0.00085553729327499009],
[0.49029057440346174, 0.39401275508652622, 0.0016694533962223156],
[0.49431361194478268, 0.39763181153871924, 0.0044334632683908481],
[0.49832673252448550, 0.40126188427118820, 0.0074480887632124362],
[0.50232982504933699, 0.40490310026267601, 0.0107253],
[0.50632278277229326, 0.40855558166319311, 0.0142777],
[0.51030550349315051, 0.41221944575589225, 0.018118002330563376],
[0.51427788975943967, 0.41589480492224756, 0.022259636364995894],
[0.51823984906741816, 0.41958176661076208, 0.026716399522716767],
[0.52219129406301235, 0.42328043330940707, 0.031502576219462654],
[0.52613214274255571, 0.42699090252201033, 0.036632935986963690],
[0.53006231865313047, 0.43071326674880189, 0.042075212553257572],
[0.533982, 0.43444761347130745, 0.047493772701264335],
[0.53789037530738559, 0.43819402514179984, 0.052863361153268930],
[0.54178813269297355, 0.44195257917749353, 0.058199393522583180],
[0.54567497098829199, 0.44572334795966878, 0.063514315767110280],
[0.54955084447236358, 0.44950639883790938, 0.068818340321580324],
[0.55341571415781843, 0.45330179413961941, 0.07412],
[0.55726954798273654, 0.45710959118499300, 0.079426350204851753],
[0.56111232100031094, 0.46092984230758988, 0.084743591345917246],
[0.56494401556607377, 0.46476259488066557, 0.090076930608767619],
[0.56876462152239826, 0.46860789134939823, 0.095430913186945882],
[0.572574, 0.47246576926914224, 0.10080951012442549],
[0.57637256549605564, 0.47633626134982626, 0.10621621418115854],
[0.58015992224893254, 0.48021939550660869, 0.11165411574720671],
[0.58393622820871449, 0.48411519491688310, 0.11712596356872026],
[0.58770151330372122, 0.48802367808372554, 0.122634],
[0.591456, 0.49194485890585299, 0.12818106976558089],
[0.59519918337036992, 0.49587874675415383, 0.13376851498061171],
[0.59893167142225356, 0.49982534655483818, 0.13939833989694331],
[0.60265334506802282, 0.503785, 0.14507216451848204],
[0.60636427835347684, 0.50775668004030494, 0.15079145716035031],
[0.61006455457454201, 0.51174140219571163, 0.15655755024272530],
[0.61375426640507180, 0.51573881345771488, 0.16237165363461140],
[0.617434, 0.51974889800957957, 0.168235],
[0.62110241519817866, 0.52377163622863199, 0.17414818435774659],
[0.62476108545063047, 0.52780700481583487, 0.18011251254324009],
[0.62840965809714444, 0.53185497693182793, 0.18612866812020756],
[0.63204827436765076, 0.53591552233933759, 0.19219738860849231],
[0.63567708548204682, 0.53998860755183742, 0.19831933677336422],
[0.639296, 0.54407419598835294, 0.20449510523898484],
[0.64290594750271635, 0.54817224813424881, 0.21072522051198978],
[0.64650635141310164, 0.55228272170785198, 0.21701014650319245],
[0.65009765627618388, 0.55640557183273032, 0.22335028762127812],
[0.65368006417743141, 0.56054075121543512, 0.22974599150075720],
[0.65725378749200802, 0.56468821032849370, 0.23619755141687387],
[0.66081904890031362, 0.56884789759843657, 0.24270520843226601],
[0.66437608139311932, 0.57301975959860552, 0.24926915331357014],
[0.66792512826610373, 0.57720374124649521, 0.25588952825065831],
[0.67146644310363624, 0.58139978600535092, 0.26256642840659095],
[0.67500028975166992, 0.58560783608973455, 0.26929990332244313],
[0.67852694227961841, 0.58982783267476557, 0.27608995819789345],
[0.682047, 0.59405971610871022, 0.28293655506563736],
[0.68555981206378880, 0.59830342612859899, 0.28983961387531121],
[0.68906662807734165, 0.60255890207853502, 0.29679901350055293],
[0.69256744733106235, 0.606826, 0.30381459268106570],
[0.696063, 0.61110490850611554, 0.31088615091003008],
[0.69955240221793513, 0.61539531770257372, 0.31801344927588793],
[0.70303721546480313, 0.61969725071635706, 0.32519621126637105],
[0.70651738693566724, 0.62401064827036734, 0.33243412354164614],
[0.709993, 0.62833545204046604, 0.33972683668256609],
[0.71346526387448206, 0.63267160488222474, 0.34707396591923884],
[0.71693372191951121, 0.63701905105730683, 0.35447509184444148],
[0.72039904301363833, 0.64137773645907714, 0.36192976111579467],
[0.72386162560180967, 0.64574760883703219, 0.36943748715006575],
[0.72732187666035408, 0.65012861801962951, 0.37699775081248471],
[0.73078, 0.65452071613511820, 0.38461000110351368],
[0.73423705354868984, 0.65892385782995644, 0.39227365584511104],
[0.73769283415365860, 0.66333800048440272, 0.399988],
[0.74114799233804474, 0.66776310442490228, 0.40775269820249538],
[0.744603, 0.67219913313284629, 0.415567],
[0.748058, 0.67664605344933348, 0.42342962308413468],
[0.75151423293433894, 0.68110383577555334, 0.43134052444946469],
[0.75497143706558745, 0.685572, 0.439299],
[0.75843032076935046, 0.69005188703103404, 0.44730343227313069],
[0.76189136405186320, 0.69454211629785179, 0.45535385120243460],
[0.76535505284168293, 0.69904312861383744, 0.46344914656516661],
[0.76882187871838104, 0.70355491500767975, 0.47158846284573924],
[0.77229233863833824, 0.70807747115852227, 0.479771],
[0.77576693465835789, 0.71261079755601708, 0.48799561987351520],
[0.77924617365792703, 0.71715489965340695, 0.49626163555951447],
[0.78273056706088440, 0.72170978801340746, 0.50456802350456054],
[0.78622063055741054, 0.72627547844664508, 0.51291381855090745],
[0.78971688382718175, 0.730852, 0.52129803579943679],
[0.79321985026461184, 0.73543935579189790, 0.52971967132929065],
[0.79673005670718133, 0.74003760170268906, 0.53817770290942057],
[0.80024803316781112, 0.74464676790615880, 0.546671],
[0.80377431257233511, 0.74926689825588477, 0.55519877793835637],
[0.807309, 0.75389804251806480, 0.56375969161452710],
[0.81085392495040265, 0.75854025645352574, 0.57235274311983508],
[0.81440833607120833, 0.76319360189134611, 0.58097682887834801],
[0.81797320595936551, 0.76785814679410080, 0.58963083094931046],
[0.82154907842570846, 0.77253396531475616, 0.59831361759896828],
[0.82513649879125417, 0.77722113784527547, 0.60702404383669362],
[0.82873601369442196, 0.78191975105703027, 0.615761],
[0.83234817091401037, 0.78662989793314997, 0.62452317175415739],
[0.83597351920972462, 0.79135167779295179, 0.63330952138550167],
[0.83961260818216621, 0.796085, 0.64211880723868620],
[0.84326598815445086, 0.80083056551469434, 0.65094982443232463],
[0.84693421007779923, 0.80558790380958178, 0.65980135695835374],
[0.85061782546371811, 0.81035733595118475, 0.668672],
[0.85431738634573917, 0.81513899304520221, 0.67756104884938229],
[0.85803344527406544, 0.81993301252757977, 0.68646672096315686],
[0.86176655534691860, 0.82473953814119316, 0.69538793355384421],
[0.86551727028298420, 0.829559, 0.70432341428529632],
[0.869286, 0.83439071409249244, 0.71327187849905271],
[0.87307373348582107, 0.83923568317124830, 0.72223202846393753],
[0.87688059362767745, 0.84409379578570021, 0.73120255240262910],
[0.88070728291011202, 0.84896522670250585, 0.74018212326007982],
[0.88455436108928331, 0.85385015676830023, 0.74916939717173259],
[0.88842239019694835, 0.85874877286456064, 0.75816301158081456],
[0.89231193510814100, 0.86366126786313879, 0.76716158294309666],
[0.89622356423039573, 0.86858784058382887, 0.776164],
[0.90015785033638707, 0.87352869575562153, 0.78516794013295343],
[0.90411537156729071, 0.87848404398356228, 0.79417282586542159],
[0.90809671264110481, 0.88345410172353955, 0.80317685939698369],
[0.91210246630939307, 0.88843909126781695, 0.81217849695557121],
[0.91613323511815958, 0.89343924074476255, 0.82117614554980345],
[0.92018963354503469, 0.89845478413710511, 0.83016815421003509],
[0.92427229060748917, 0.903486, 0.839153],
[0.92838185306795073, 0.90853301815524001, 0.84812829109753973],
[0.93251898940559064, 0.91359620656299578, 0.85709271773713724],
[0.93668439478743848, 0.91867578472981781, 0.86604406418402113],
[0.94087879736343161, 0.92377201732324166, 0.87498016622043306],
[0.94510296634739011, 0.928885, 0.88389868068831889],
[0.94935772255663176, 0.934016, 0.89279704142579930],
[0.95364395241531963, 0.939163, 0.90167240062908238],
[0.95796262696861090, 0.94432903460984618, 0.91052154913220729],
[0.96231482837305549, 0.94951276792365402, 0.91934080523882333],
[0.96670178795652106, 0.95471491059977109, 0.92812585490358956],
[0.97112494298645380, 0.95993579430550435, 0.93687151327438078],
[0.975586, 0.96517576924772797, 0.94557135206371579],
[0.98008720872566613, 0.97043521083645101, 0.95421708180537979],
[0.98463137212825413, 0.97571453135544706, 0.96279744428134351],
[0.98922262796911398, 0.98101420266143646, 0.97129599691553536],
[0.99386756941388910, 0.98633480808535567, 0.97968587947485630],
[0.99857922847265257, 0.99167720092903833, 0.987913],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
