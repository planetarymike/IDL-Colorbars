from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00033373533074226435, 0.00033934982083596058, 0.00038819532621652231],
[0.00094474240293505516, 0.00097103509434999893, 0.0011650021276058602],
[0.0018123978064168904, 0.0018778727105252296, 0.0023349087494658645],
[0.0029151491384533674, 0.0030411323239678449, 0.0038981671232107494],
[0.0042385331089136750, 0.0044486815749468838, 0.0058600974588974043],
[0.00577182, 0.0060918137670924839, 0.0082285601863436291],
[0.0075065970406751137, 0.0079639005801975110, 0.011012954577300806],
[0.0094359775020372537, 0.010059696988907473, 0.014223730991228575],
[0.011554206889870191, 0.012374937666288933, 0.017872121220689850],
[0.013856365032673852, 0.0149061, 0.021969975558243412],
[0.016338185160864410, 0.017650149144121701, 0.026529657384253797],
[0.018995924160542670, 0.0206046, 0.031563970997020435],
[0.021826268486201270, 0.023767211680354870, 0.037086109673215808],
[0.024826264002421931, 0.027136107234169492, 0.043016452207294629],
[0.027993262460494977, 0.030709609590623819, 0.0489569],
[0.031324879884880731, 0.034486252822135480, 0.054885046835808325],
[0.034818963701813817, 0.038464742378437298, 0.060805076166068388],
[0.038473566423470475, 0.042573883987554843, 0.066720678675092099],
[0.042232686821259170, 0.046629927061945568, 0.072635022372610658],
[0.045937391435626925, 0.050640878025250142, 0.078550861786126691],
[0.049595698007744986, 0.054609746206846256, 0.084470602368337005],
[0.053210566629095478, 0.058539217921930654, 0.090396351687486776],
[0.0567847, 0.062431704230944816, 0.096329960557808930],
[0.060320452037498328, 0.066289380009478954, 0.10227305641142753],
[0.063820124182816351, 0.070114216208576136, 0.10822707061490763],
[0.067285729837353148, 0.073908006720646541, 0.11419326100839391],
[0.070719149060677833, 0.077672390929623025, 0.12017273063834894],
[0.074122121771027394, 0.081408872776818103, 0.126166],
[0.077496264319973668, 0.085118836990106583, 0.13217523738107345],
[0.080843083651017000, 0.088803562985715040, 0.13819983572643285],
[0.084163989458788974, 0.092464236846665881, 0.14424085644259629],
[0.087460304682498297, 0.096101961701064303, 0.15029882037094672],
[0.090733274602817715, 0.0997178, 0.15637415819644285],
[0.093984074761004593, 0.10331261523145349, 0.16246721646784665],
[0.097213817879263476, 0.10688741126803036, 0.168578],
[0.10042355992978522, 0.11044300611535851, 0.17470749047600726],
[0.10361430547457359, 0.11398020355367214, 0.180855],
[0.10678701237782714, 0.11749976474503446, 0.18702091409581756],
[0.10994259597611133, 0.12100241256269498, 0.19320515791641862],
[0.11308193277809023, 0.12448883547163570, 0.19940768454945296],
[0.11620586375456396, 0.12795969101788965, 0.20562836603025086],
[0.11931519727045048, 0.13141560897533680, 0.21186701776888972],
[0.12241071170281145, 0.13485719419132949, 0.21812340047935103],
[0.12549315778277531, 0.13828502916636470, 0.224397],
[0.12856326069395047, 0.14169967639789474, 0.23068813848606212],
[0.13162172195553895, 0.14510168051406017, 0.23699575664056338],
[0.13466922111465973, 0.14849157021948989, 0.24331963426804287],
[0.13770641726924065, 0.15186986007223824, 0.24965928190645292],
[0.14073395044020212, 0.155237, 0.25601416391138865],
[0.14375244280936048, 0.15859363732798731, 0.262384],
[0.14676249983756626, 0.16194009705629897, 0.26876726406953033],
[0.14976471127590454, 0.16527690418826754, 0.27516418966028777],
[0.15275965208136250, 0.16860452432825379, 0.28157376647540233],
[0.15574788324712566, 0.17192341683144063, 0.28799524356387940],
[0.15872995255658495, 0.17523403575448798, 0.29442782981630911],
[0.16170639526919761, 0.17853683072148738, 0.30087069489984031],
[0.16467773474553027, 0.18183224771056555, 0.30732297019310306],
[0.16764448301807730, 0.18512072976582392, 0.31378374972674661],
[0.17060714131382493, 0.18840271763871841, 0.32025209113464476],
[0.17356620053396263, 0.19167865036249171, 0.32672701662028170],
[0.17652214169562341, 0.19494896576285012, 0.33320751394232462],
[0.17947543634011381, 0.19821410090770691, 0.33969253742293609],
[0.18242654691166180, 0.201474, 0.34618100898195325],
[0.18537592711034626, 0.20473057720543397, 0.35267181919966467],
[0.18832402222255826, 0.20798279194843178, 0.35916382841055044],
[0.19127126943200223, 0.21123157412609622, 0.36565586782999804],
[0.19421809811398091, 0.21447736179398769, 0.372147],
[0.197165, 0.21772059379408737, 0.37863522356499263],
[0.20011218002307424, 0.22096170983690522, 0.38512006734953980],
[0.20306, 0.22420115053772372, 0.39159999878759882],
[0.20600955714197344, 0.22743935740842325, 0.39807372165492594],
[0.20896047950796132, 0.23067677280632481, 0.40453991813423418],
[0.21191341057062712, 0.23391383984148611, 0.41099725020329469],
[0.21486873234390569, 0.237151, 0.41744436106139948],
[0.21782682103507134, 0.24038870419212982, 0.42387987659367760],
[0.22078804727333634, 0.24362739010478568, 0.43030240687251126],
[0.22375277633694207, 0.246868, 0.43671054769508855],
[0.22672136837924545, 0.25010949120089682, 0.443103],
[0.22969417865420477, 0.25335379405924457, 0.44947798225268015],
[0.23267155774146942, 0.25660085558182921, 0.45583441052446622],
[0.23565385177118908, 0.259851, 0.46217072171947332],
[0.23864140264850697, 0.26310501816465487, 0.46848546449126455],
[0.24163454827756969, 0.26636299634025090, 0.47477718312074341],
[0.24463362278479184, 0.26962548654980739, 0.48104441926169023],
[0.24763895674099135, 0.27289292071992283, 0.48728571370731794],
[0.25065087738190983, 0.27616572728001360, 0.4935],
[0.25366970882654233, 0.279444, 0.49968464710742372],
[0.25669577229262808, 0.28272915081996908, 0.50583937948399205],
[0.259729, 0.28602060265697255, 0.51196236064474887],
[0.26277086692084656, 0.28931909555370794, 0.51805215411827676],
[0.26582052789649518, 0.292625, 0.52410733345349136],
[0.26887868091902189, 0.29593881111306353, 0.53012648405087715],
[0.27194563577752806, 0.29926082000859966, 0.53610820498987044],
[0.27502170054763808, 0.30259144136304761, 0.54205111084887281],
[0.27810718176338606, 0.30593104883941374, 0.54795383351433125],
[0.28120238457904501, 0.30928000737740191, 0.55381502397530447],
[0.284308, 0.312639, 0.55963335409988490],
[0.28742316962089720, 0.31600739073911987, 0.56540751838987302],
[0.29054935655251896, 0.31938649731083935, 0.57113623571008976],
[0.29368647473240706, 0.32277631749584190, 0.57681825098873762],
[0.296835, 0.32617716527416035, 0.58245233688527409],
[0.29999470520988658, 0.32958934308835164, 0.58803729542228467],
[0.30316641607257550, 0.33301314144656646, 0.59357195957794051],
[0.30635, 0.33644883855186397, 0.59905519483567449],
[0.30954652115526898, 0.33989669995960786, 0.604486],
[0.31275551062314855, 0.34335697826465106, 0.60986301209008553],
[0.31597752066661727, 0.34682991281984132, 0.61518550086372414],
[0.31921284756888341, 0.35031572948723566, 0.62045237704266409],
[0.32246178701421191, 0.35381464042323507, 0.62566269016265497],
[0.32572463402287566, 0.35732684389867186, 0.63081553048991657],
[0.32900168286656822, 0.36085252415471158, 0.63591003018679893],
[0.33229322696434138, 0.36439185129524160, 0.64094536441217043],
[0.33559955875926861, 0.36794498121623087, 0.64592075235442603],
[0.33892096957613777, 0.37151205557236649, 0.65083545819519040],
[0.34225774946059406, 0.37509320178107824, 0.65568879200198582],
[0.34561018700027435, 0.37868853306388339, 0.66048011054833700],
[0.34897856912856390, 0.38229814852480193, 0.66520881805997212],
[0.35236318091176982, 0.38592213326540770, 0.66987436688600910],
[0.355764, 0.38956055853592392, 0.674476],
[0.35918222298643904, 0.39321348192158717, 0.67901404198958737],
[0.36261721194500057, 0.396881, 0.68348731855591183],
[0.36606954736593844, 0.40056298641192561, 0.68789573781978963],
[0.36953950127222129, 0.40425961651372300, 0.69223900013729456],
[0.37302734224903905, 0.40797084332771494, 0.69651685640327121],
[0.37653333514410869, 0.41169666007139133, 0.70072910818366485],
[0.38005774076076315, 0.41543704809444698, 0.70487560777144243],
[0.38360081554527869, 0.41919197727845930, 0.708956],
[0.38716281126997898, 0.42296140646080960, 0.71297101298292376],
[0.39074397471364380, 0.42674528388101418, 0.71691987627750065],
[0.39434454734081298, 0.43054354764757519, 0.72080290231284760],
[0.39796476498154515, 0.434356, 0.72462019524459675],
[0.40160485751321984, 0.43818293892787852, 0.72837190874151225],
[0.40526504854595052, 0.44202389645341544, 0.73205824553794663],
[0.40894555511314407, 0.445879, 0.73567945692092862],
[0.41264658736875559, 0.44974784878861834, 0.73923584215397853],
[0.41636834829267966, 0.45363062666222404, 0.74272774783987450],
[0.42011103340574624, 0.45752711658801409, 0.74615556722470611],
[0.42387483049568542, 0.46143719424325186, 0.74951973944565753],
[0.42765991935537106, 0.46536072997220818, 0.75282074872507210],
[0.43146647153460360, 0.46929758934917848, 0.75605912351341398],
[0.43529465010658330, 0.47324763374050322, 0.75923543558384043],
[0.43914460945018163, 0.47721072086382949, 0.76235029908114260],
[0.44301649504897805, 0.48118670534293767, 0.76540436952787993],
[0.44691, 0.48517543925651291, 0.76839834279056907],
[0.45082658138895021, 0.48917677267934040, 0.77133295400881952],
[0.45476502706465721, 0.49319055421446883, 0.77420897649033182],
[0.45872588859331559, 0.49721663151499934, 0.777027],
[0.46270926461307932, 0.50125485179421436, 0.77978853246885793],
[0.46671524405735759, 0.50530506232289130, 0.78249379305734934],
[0.47074390609115330, 0.50936711091270981, 0.78514391668989436],
[0.47479532006861130, 0.51344084638477860, 0.78773984994956081],
[0.47886954551189115, 0.51752611902239065, 0.79028257040412719],
[0.48296663211136098, 0.52162278100721693, 0.79277308534352575],
[0.48708661974698725, 0.52573068683824797, 0.79521243050609935],
[0.49122953853076806, 0.52984969373287361, 0.79760166879638217],
[0.49539540886988570, 0.53398, 0.79994188899702612],
[0.49958424155024855, 0.53812, 0.80223420447744409],
[0.50379603783993132, 0.54227194165343873, 0.80447975190166510],
[0.50803078961202952, 0.54643399234267687, 0.80667968993780848],
[0.51228847948629863, 0.55060648368964171, 0.80883519797151704],
[0.51656908098893683, 0.55478929659179255, 0.81094747482558505],
[0.520873, 0.55898231694077349, 0.81301773748794382],
[0.525199, 0.56318543586950443, 0.81504721985006256],
[0.52954795796243914, 0.56739854997981587, 0.81703717145773502],
[0.53391976591482560, 0.571622, 0.81898885627612328],
[0.53831422348980573, 0.57585437872828349, 0.82090355147083205],
[0.54273125392600496, 0.58009691569521626, 0.82278254620669022],
[0.54717077292807936, 0.58434909282416880, 0.82462714046581509],
[0.551633, 0.58861083681149240, 0.82643864388644084],
[0.556117, 0.59288208079408467, 0.828218],
[0.56062331121379194, 0.59716276444905691, 0.82996765823495666],
[0.56515180068163828, 0.60145283407684858, 0.83168782658693763],
[0.569702, 0.60575224266831840, 0.83338021679232244],
[0.57427454834652825, 0.61006094995637583, 0.83504617017022442],
[0.57886855431266859, 0.61437892245274139, 0.83668703123541088],
[0.58348413815709021, 0.61870613347043424, 0.83830414671578057],
[0.58812116117040802, 0.623043, 0.83989886459900820],
[0.59277948019904025, 0.62738819836840909, 0.84147253320903270],
[0.597459, 0.63174303289634259, 0.843027],
[0.60215941346242197, 0.63610706719605714, 0.84456211225881417],
[0.60688072216326539, 0.64048030846893489, 0.84608071314480726],
[0.61162271647590505, 0.64486277058828367, 0.84758364402009068],
[0.61638523601125805, 0.64925447403974146, 0.84907224211769206],
[0.62116811792243853, 0.65365544585253044, 0.850548],
[0.62597119722828587, 0.65806571952220572, 0.85201176545455448],
[0.63079430713276641, 0.66248533492552319, 0.85346533962780247],
[0.63563727933963654, 0.66691433822804247, 0.85490987758436432],
[0.64049994436168634, 0.67135278178508417, 0.85634668710441331],
[0.64538213182403204, 0.67580072403661295, 0.85777706823166300],
[0.65028367076087257, 0.68025822939665404, 0.85920231273446079],
[0.65520438990521235, 0.68472536813778095, 0.860624],
[0.660144, 0.68920221627124034, 0.86204251455877712],
[0.66510268392764793, 0.693689, 0.86346000964770175],
[0.67007991726527882, 0.69818537270787540, 0.86487744279767165],
[0.67507564825236010, 0.70269186059731614, 0.86629605745966398],
[0.68008970818331616, 0.70720841678950597, 0.86771708626080868],
[0.68512192961699481, 0.711735, 0.86914175069322586],
[0.690172, 0.71627215019662915, 0.87057126083519776],
[0.69524019491169253, 0.72081954772227386, 0.87200681510468214],
[0.700326, 0.72537745389810648, 0.87344960004522065],
[0.70542913832865750, 0.72994599051570042, 0.87490079014433808],
[0.71054971534383760, 0.73452528377354675, 0.876362],
[0.71568748784840630, 0.73911546413992013, 0.87783302262749596],
[0.72084230306927188, 0.74371666621646237, 0.87931635253068874],
[0.72601401102920415, 0.74832902860277217, 0.88081266249867662],
[0.73120246468740147, 0.752953, 0.88232306516778725],
[0.73640752006792964, 0.75758780788971836, 0.88384866072596524],
[0.74162903637573296, 0.76223452078022791, 0.88539053696826009],
[0.74686687609987978, 0.76689298570065467, 0.88694976938904335],
[0.75212090510374630, 0.77156335926290010, 0.88852742131219309],
[0.75739099270171206, 0.77624580129970389, 0.89012454406074970],
[0.76267701172192570, 0.78094047474297068, 0.89174217716782567],
[0.76797883855465998, 0.78564754550477667, 0.89338134863090290],
[0.77329635318562429, 0.79036718236120285, 0.89504307521203708],
[0.77862943921357319, 0.79509955683910272, 0.89672836278696155],
[0.78397798385137463, 0.799845, 0.89843820674661590],
[0.78934187790962052, 0.80460321786248024, 0.90017359245526907],
[0.79472101576160758, 0.80937486023930694, 0.90193549577016208],
[0.80011529528839487, 0.81415995169568844, 0.90372488362849102],
[0.80552461780235918, 0.81895867592234384, 0.90554271470861270],
[0.81094888794731768, 0.82377121874722126, 0.90738994017364050],
[0.81638801357305524, 0.82859776804455876, 0.90926750450712657],
[0.82184190558149439, 0.83343851364718757, 0.91117634645239187],
[0.82731047774134969, 0.83829364726200717, 0.91311740006931585],
[0.83279364646735044, 0.84316336238857315, 0.91509159592516887],
[0.83829133055935290, 0.848048, 0.91709986243945474],
[0.84380345089564646, 0.852947, 0.91914312740695780],
[0.84932993007348223, 0.85786195709752933, 0.92122231972842139],
[0.85487069198831112, 0.86279196643464751, 0.92333837138489183],
[0.860426, 0.86773754902365463, 0.92549221970010454],
[0.86599476306108603, 0.87269890756720747, 0.92768480994595748],
[0.87157792162625258, 0.87767624606441741, 0.92991709835986858],
[0.877175, 0.88266976974697431, 0.93219005566067792],
[0.88278609999669821, 0.88767968501547889, 0.93450467117329783],
[0.88841095852000662, 0.89270619937508477, 0.93686195770356206],
[0.89405, 0.89774952136924790, 0.93926295734685550],
[0.89970177761463643, 0.90280986051004752, 0.94170874847156638],
[0.90536754319485702, 0.90788742720296167, 0.94420045419799425],
[0.91104673311433659, 0.91298243266325552, 0.94673925280538762],
[0.91673922103894634, 0.91809508882000757, 0.94932639066035385],
[0.92244486288505556, 0.92322560820219213, 0.95196319849464650],
[0.92816349185503932, 0.92837420379873015, 0.95465111221136356],
[0.93389491197419194, 0.93354108888059450, 0.95739169993688222],
[0.93963888951417362, 0.93872647676688958, 0.96018669788538224],
[0.94539514135634606, 0.94393058050664158, 0.96303805898853334],
[0.95116331878602478, 0.94915361243056073, 0.96594802059169360],
[0.95694298421175572, 0.95439578349561238, 0.96891920168279155],
[0.96273357643825641, 0.95965730228564083, 0.97195474791500380],
[0.96853435639301766, 0.96493837341055511, 0.97505855826694454],
[0.97434431711332536, 0.97023919478097864, 0.97823566101340009],
[0.98016202225187243, 0.97555995258490025, 0.98149288840670013],
[0.98598528274854102, 0.980901, 0.98484022782204794],
[0.99181039237233992, 0.98626188681987015, 0.98829401733993583],
[0.99762970101554249, 0.99164316783536888, 0.99188709356448845],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
