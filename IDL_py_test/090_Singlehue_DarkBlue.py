from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000354726754921819859, 0.000346818400957401923, 0.000375296818107909440],
[0.00100989096213751749, 0.000992840169665696682, 0.00110130023925142785],
[0.00194602542027709317, 0.00192083478481381350, 0.00216928169899546211],
[0.00314221710907153099, 0.00311200343866968512, 0.00356812801640176650],
[0.00458476196942144993, 0.00455430215567151093, 0.00529271123642827222],
[0.00626373737536496146, 0.00623920339309374725, 0.00734090834321979649],
[0.00817153670180643076, 0.00816032078494978615, 0.00971238101457813641],
[0.0103021092916785722, 0.0103126996564387851, 0.0124079647928877716],
[0.0126505171332664135, 0.0126924050579079219, 0.0154293238568255515],
[0.0152126546514831564, 0.0152962624218513712, 0.0187787391093971745],
[0.0179850608771062528, 0.0181216843534983962, 0.0224589700371312061],
[0.0209647877395072145, 0.0211665495848939004, 0.0264731604398456485],
[0.0241493043586982342, 0.0244291152902693306, 0.0308247717430371673],
[0.0275364254508451423, 0.0279079516868722989, 0.0355175344404517826],
[0.0311242564684625529, 0.0316018920621801078, 0.0405535337088185968],
[0.0349111507029244914, 0.0355099938014707336, 0.0456505438302548736],
[0.0388956751548777055, 0.0396315074596028452, 0.0507115861205862176],
[0.0429851506525969554, 0.0438229621240249015, 0.0557408019073026770],
[0.0470161224507456218, 0.0479593482897025733, 0.0607418157474981860],
[0.0510007846955114128, 0.0520530543771506107, 0.0657178241885885139],
[0.0549423470234644482, 0.0561071690940300391, 0.0706716657283889826],
[0.0588436801944296692, 0.0601244532732055984, 0.0756058766468221954],
[0.0627073655376982897, 0.0641073878635080030, 0.0805227360637589817],
[0.0665357353833848642, 0.0680582131511368038, 0.0854243026718743137],
[0.0703309064251053384, 0.0719789611080116076, 0.0903124449593799006],
[0.0740948074797643519, 0.0758714822946888190, 0.0951888662861231638],
[0.0778292027621617366, 0.0797374684060189187, 0.100055125850267518],
[0.0815357115364572782, 0.0835784712984464218, 0.104912656343618432],
[0.0852158248162718512, 0.0873959191524739665, 0.109762778916121628],
[0.0888709196420189307, 0.0911911302843078642, 0.114606715936699688],
[0.0925022713550984754, 0.0949653250146008932, 0.119445601936334772],
[0.0961110642048339236, 0.0987196359206878038, 0.124280493041638490],
[0.0996984005590956235, 0.102455116735496843, 0.129112375147023561],
[0.103265308938712858, 0.106172750106877822, 0.133942171026639717],
[0.106812751055700067, 0.109873454392101416, 0.138770746550271662],
[0.110341628003455677, 0.113558089631310366, 0.143598916138070382],
[0.113852785721599015, 0.117227462818916578, 0.148427447565566750],
[0.117347019837557936, 0.120882332571979223, 0.153257066211568066],
[0.120825079970364568, 0.124523413278411682, 0.158088458826292078],
[0.124287673568524992, 0.128151378794677029, 0.162922276884670342],
[0.127735469342698360, 0.131766865751806184, 0.167759139579593014],
[0.131169100344702083, 0.135370476519665273, 0.172599636501488130],
[0.134589166736788196, 0.138962781871997732, 0.177444330043713488],
[0.137996238288757733, 0.142544323388630101, 0.182293757567477704],
[0.141390856635195378, 0.146115615626080553, 0.187148433355203758],
[0.144773537320657564, 0.149677148083492084, 0.192008850377215545],
[0.148144771656873842, 0.153229386987174893, 0.196875481893233839],
[0.151505028412856263, 0.156772776913954442, 0.201748782907299251],
[0.154854755356096468, 0.160307742270908465, 0.206629191492302688],
[0.158194380660731937, 0.163834688646836701, 0.211517129998227971],
[0.161524314196586472, 0.167354004048901744, 0.216413006156444432],
[0.164844948711290740, 0.170866060036234557, 0.221317214090858971],
[0.168156660916235323, 0.174371212760888378, 0.226230135245435893],
[0.171459812485851570, 0.177869803925299719, 0.231152139236464382],
[0.174754750978598772, 0.181362161664367916, 0.236083584636971711],
[0.178041810687129071, 0.184848601359329956, 0.241024819699841908],
[0.181321313424223807, 0.188329426389827886, 0.245976183025456596],
[0.184593569250415979, 0.191804928829848564, 0.250938004179033780],
[0.187858877148559117, 0.195275390092615797, 0.255910604262280017],
[0.191117525650044917, 0.198741081528976293, 0.260894296443476892],
[0.194369793416894782, 0.202202264983344260, 0.265889386449690124],
[0.197615949783516265, 0.205659193310860577, 0.270896173024410991],
[0.200856255261536276, 0.209112110859045297, 0.275914948353598310],
[0.204090962010766874, 0.212561253916912163, 0.280945998462800217],
[0.207320314279101914, 0.216006851134206646, 0.285989603587760821],
[0.210544548813831223, 0.219449123913185717, 0.291046038520692996],
[0.213763895246651958, 0.222888286775128064, 0.296115572934184279],
[0.216978576454439798, 0.226324547703551704, 0.301198471684519853],
[0.220188808897641086, 0.229758108465943300, 0.306294995096040523],
[0.223394802938001735, 0.233189164915635294, 0.311405399228005086],
[0.226596763137168922, 0.236617907275320893, 0.316529936125295452],
[0.229794888537588782, 0.240044520403570993, 0.321668854054183662],
[0.232989372926994787, 0.243469184045588372, 0.326822397724269187],
[0.236180405087656975, 0.246892073069343632, 0.331990808497606926],
[0.239368169031488720, 0.250313357688124294, 0.337174324585950924],
[0.242552844221988140, 0.253733203670457874, 0.342373181236965529],
[0.245734605783941074, 0.257151772538276424, 0.347587610910185030],
[0.248913624701709246, 0.260569221754133162, 0.352817843443436141],
[0.252090068006879053, 0.263985704898207163, 0.358064106210381872],
[0.255264098955985008, 0.267401371835776613, 0.363326624269793619],
[0.258435877198950781, 0.270816368875791136, 0.368605620507104492],
[0.261605558938866722, 0.274230838921118547, 0.373901315768764564],
[0.264773297083642944, 0.277644921611006512, 0.379213928989866056],
[0.267939241390074301, 0.281058753456247423, 0.384543677315481169],
[0.271103538600779736, 0.284472467967510079, 0.389890776216114843],
[0.274266332574462424, 0.287886195777260656, 0.395255439597650915],
[0.277427764409909849, 0.291300064755663113, 0.400637879906134475],
[0.280587972564097399, 0.294714200120831660, 0.406038308227718803],
[0.283747092964770076, 0.298128724543764378, 0.411456934384070216],
[0.286905259117812561, 0.301543758248284666, 0.416893967023512613],
[0.290062602209731457, 0.304959419106273166, 0.422349613708169980],
[0.293219251205520337, 0.308375822728471360, 0.427824080997343592],
[0.296375332942183156, 0.311793082551108158, 0.433317574527353921],
[0.299530972218159886, 0.315211309918587423, 0.438830299088050657],
[0.302686291878891345, 0.318630614162455805, 0.444362458696188400],
[0.305841412898729403, 0.322051102676866485, 0.449914256665848777],
[0.308996454459408765, 0.325472880990719471, 0.455485895676080055],
[0.312151534025262745, 0.328896052836670449, 0.461077577835911800],
[0.315306767415351741, 0.332320720217176013, 0.466689504746893469],
[0.318462268872693577, 0.335746983467725080, 0.472321877563295856],
[0.321618151130729613, 0.339174941317420264, 0.477974897050106928],
[0.324774525477181941, 0.342604690947036716, 0.483648763638944101],
[0.327931501815439175, 0.346036328044695252, 0.489343677481993755],
[0.331089188723604211, 0.349469946859271019, 0.495059838504093352],
[0.334247693511313948, 0.352905640251654995, 0.500797446453049355],
[0.337407122274454463, 0.356343499743976999, 0.506556700948292082],
[0.340567579947875676, 0.359783615566891590, 0.512337801527952497],
[0.343729170356216418, 0.363226076705020662, 0.518140947694447962],
[0.346891996262908675, 0.366670970940655150, 0.523966338958656852],
[0.350056159417486135, 0.370118384895783858, 0.529814174882752620],
[0.353221760601259482, 0.373568404072545601, 0.535684655121773101],
[0.356388899671435944, 0.377021112892173993, 0.541577979463988890],
[0.359557675603783655, 0.380476594732506612, 0.547494347870131626],
[0.362728186533877839, 0.383934931964129089, 0.553433960511547918],
[0.365900529797030138, 0.387396205985216346, 0.559397017807326646],
[0.369074801966935595, 0.390860497255136052, 0.565383720460461148],
[0.372251098893124355, 0.394327885326863137, 0.571394269493089024],
[0.375429515737255970, 0.397798448878270761, 0.577428866280863540],
[0.378610147008318021, 0.401272265742340761, 0.583487712586495677],
[0.381793086596782572, 0.404749412936348363, 0.589571010592517375],
[0.384978427807770751, 0.408229966690061064, 0.595678962933296030],
[0.388166263393258493, 0.411714002473005047, 0.601811772726349004],
[0.391356685583391428, 0.415201595020831427, 0.607969643602990328],
[0.394549786116925760, 0.418692818360826946, 0.614152779738341259],
[0.397745656270852732, 0.422187745836607342, 0.620361385880742522],
[0.400944386889237725, 0.425686450132027605, 0.626595667380600352],
[0.404146068411307957, 0.429189003294341676, 0.632855830218689186],
[0.407800816271846611, 0.432903570478341659, 0.636779331793684622],
[0.411912548152859437, 0.436826866222555177, 0.638361127631995817],
[0.416032496670039498, 0.440749959362535804, 0.639962121658787630],
[0.420160628163654015, 0.444673164519895303, 0.641582166206262960],
[0.424296915328254753, 0.448596786702630756, 0.643221121874101520],
[0.428441336855762189, 0.452521121821742034, 0.644878857197966338],
[0.432593877101909774, 0.456446457175992360, 0.646555248335488719],
[0.436754525774400160, 0.460373071907145548, 0.648250178768714713],
[0.440923277641289302, 0.464301237427812652, 0.649963539022061831],
[0.445100132258173742, 0.468231217823875834, 0.651695226394909732],
[0.449285093712922523, 0.472163270233280474, 0.653445144707994197],
[0.453478170386721391, 0.476097645202861186, 0.655213204062837229],
[0.457679374730357080, 0.480034587024713522, 0.656999320613490090],
[0.461888723054682371, 0.483974334053524136, 0.658803416349916793],
[0.466106235334329655, 0.487917119006146371, 0.660625418892387128],
[0.470331935023778180, 0.491863169244614873, 0.662465261296289243],
[0.474565848884961727, 0.495812707043702783, 0.664322881866807990],
[0.478808006825639898, 0.499765949844041046, 0.666198223982954918],
[0.483058441747857226, 0.503723110491733461, 0.668091235930460048],
[0.487317189405781670, 0.507684397465353654, 0.670001870743075600],
[0.491584288272370384, 0.511650015091116073, 0.671930086051863218],
[0.495859779414233037, 0.515620163746987381, 0.673875843942065789],
[0.500143706374226338, 0.519595040056411994, 0.675839110817189170],
[0.504436115061224988, 0.523574837072322663, 0.677819857269943982],
[0.508737053646656445, 0.527559744452014590, 0.679818057959716282],
[0.513046572467356854, 0.531549948623452839, 0.681833691496259275],
[0.517364723934334636, 0.535545632943528749, 0.683866740329314604],
[0.521691562447093360, 0.539546977848752829, 0.685917190643894448],
[0.526027144313155115, 0.543554160998828362, 0.687985032260966967],
[0.530371527672457876, 0.547567357413531908, 0.690070258543306503],
[0.534724772426336426, 0.551586739603291298, 0.692172866306287271],
[0.539086940170784512, 0.555612477693829487, 0.694292855733407044],
[0.543458094133757119, 0.559644739545212100, 0.696430230296348540],
[0.547838299116245930, 0.563683690865623976, 0.698584996679392334],
[0.552227621436907512, 0.567729495320173250, 0.700757164708012748],
[0.556626128880024718, 0.571782314635000399, 0.702946747281492423],
[0.561033890646594924, 0.575842308696960514, 0.705153760309413680],
[0.565450977308354252, 0.579909635649120458, 0.707378222651881772],
[0.569877460764574795, 0.583984451982303310, 0.709620156063354601],
[0.574313414201430894, 0.588066912622899674, 0.711879585139958859],
[0.578758912053817909, 0.592157171017145267, 0.714156537270187242],
[0.583214029969441494, 0.596255379212059955, 0.716451042588868492],
[0.587678844775065268, 0.600361687933224752, 0.718763133934327669],
[0.592153434444750326, 0.604476246659569560, 0.721092846808642718],
[0.596637878069990801, 0.608599203695327939, 0.723440219340929502],
[0.601132255831627438, 0.612730706239308920, 0.725805292253589252],
[0.605636648973398750, 0.616870900451628845, 0.728188108831449910],
[0.610151139777049489, 0.621019931518038692, 0.730588714893760094],
[0.614675811538891170, 0.625177943711963224, 0.733007158768984368],
[0.619210748547708967, 0.629345080454379535, 0.735443491272367744],
[0.623756036063935704, 0.633521484371648125, 0.737897765686244988],
[0.628311760299987476, 0.637707297351388647, 0.740370037743061982],
[0.632878008401700609, 0.641902660596517682, 0.742860365611113016],
[0.637454868430768595, 0.646107714677530143, 0.745368809882980044],
[0.642042429348101851, 0.650322599583118888, 0.747895433566679868],
[0.646640780998056552, 0.654547454769215831, 0.750440302079537047],
[0.651250014093426310, 0.658782419206536130, 0.753003483244803040],
[0.655870220201144605, 0.663027631426698072, 0.755585047291051137],
[0.660501491728629486, 0.667283229566991154, 0.758185066854395795],
[0.665143921910693159, 0.671549351413862516, 0.760803616983585007],
[0.669797604796932178, 0.675826134445188686, 0.763440775148034323],
[0.674462635239566066, 0.680113715871379032, 0.766096621248872345],
[0.679139108881621989, 0.684412232675395082, 0.768771237633102622],
[0.683827122145413857, 0.688721821651709587, 0.771464709110966984],
[0.688526772221229266, 0.693042619444286800, 0.774177122976649867],
[0.693238157056169313, 0.697374762583612751, 0.776908569032443097],
[0.697961375343052359, 0.701718387522831666, 0.779659139616539876],
[0.702696526509320019, 0.706073630673033081, 0.782428929634627846],
[0.707443710705832451, 0.710440628437732036, 0.785218036595474511],
[0.712203028795523885, 0.714819517246576108, 0.788026560650735952],
[0.716974582341761146, 0.719210433588331810, 0.790854604639232184],
[0.721758473596370242, 0.723613514043170536, 0.793702274135969499],
[0.726554805487198530, 0.728028895314297375, 0.796569677506224649],
[0.731363681605105231, 0.732456714258959640, 0.799456925965040921],
[0.736185206190269725, 0.736897107918854655, 0.802364133642530009],
[0.741019484117695360, 0.741350213549974768, 0.805291417655418340],
[0.745866620881762699, 0.745816168651912914, 0.808238898185338117],
[0.750726722579670769, 0.750295110996659798, 0.811206698564412632],
[0.755599895893625084, 0.754787178656910140, 0.814194945368761025],
[0.760486248071556181, 0.759292510033908630, 0.817203768520632034],
[0.765385886906194468, 0.763811243884846669, 0.820233301399951986],
[0.770298920712242929, 0.768343519349843906, 0.823283680966186648],
[0.775225458301421089, 0.772889475978516538, 0.826355047891528582],
[0.780165608955062817, 0.777449253756161585, 0.829447546706560845],
[0.785119482393965229, 0.782022993129565469, 0.832561325959700893],
[0.790087188745114744, 0.786610835032449662, 0.835696538391915822],
[0.795068838504882969, 0.791212920910563722, 0.838853341128406260],
[0.800064542498185038, 0.795829392746441488, 0.842031895889207238],
[0.805074411833104242, 0.800460393083810895, 0.845232369220940805],
[0.810098557850327139, 0.805106065051675368, 0.848454932752302104],
[0.815137092066677504, 0.809766552388060501, 0.851699763476255645],
[0.820190126111908113, 0.814441999463419330, 0.854967044062397874],
[0.825257771657814332, 0.819132551303692225, 0.858256963203517187],
[0.830340140338484467, 0.823838353613012386, 0.861569716001054142],
[0.835437343660423215, 0.828559552796023335, 0.864905504394990032],
[0.840549492900942830, 0.833296295979798707, 0.868264537644678924],
[0.845676698992989362, 0.838048731035324845, 0.871647032868339777],
[0.850819072394206288, 0.842817006598498009, 0.875053215650400951],
[0.855976722937630608, 0.847601272090574898, 0.878483320727693751],
[0.861149759660791769, 0.852401677738025665, 0.881937592767729650],
[0.866338290609480310, 0.857218374591660392, 0.885416287255087364],
[0.871542422611426337, 0.862051514544951769, 0.888919671505442377],
[0.876762261014257138, 0.866901250351373109, 0.892448025831192870],
[0.881997909380600187, 0.871767735640579411, 0.896001644888298587],
[0.887249469131547008, 0.876651124933194303, 0.899580839241227781],
[0.892517039127452283, 0.881551573653874820, 0.903185937192360733],
[0.897800715171979680, 0.886469238142284288, 0.906817286934637479],
[0.903100589421508393, 0.891404275661423995, 0.910475259102740186],
[0.908416749676580371, 0.896356844402670272, 0.914160249820308635],
[0.913749278524954578, 0.901327103486595949, 0.917872684370962033],
[0.919098252295810103, 0.906315212958365035, 0.921613021662765597],
[0.924463739770601034, 0.911321333776051179, 0.925381759714671070],
[0.929845800575986314, 0.916345627789580952, 0.929179442477727435],
[0.935244483154922812, 0.921388257707091318, 0.933006668426949126],
[0.940659822168207649, 0.926449387044060657, 0.936864101543543382],
[0.946091835111635304, 0.931529180048440430, 0.940752485588746246],
[0.951540517828225574, 0.936627801591541909, 0.944672663014325398],
[0.957005838422645305, 0.941745417008831298, 0.948625600577896910],
[0.962487728793349873, 0.946882191865137224, 0.952612424955341264],
[0.967986072481428983, 0.952038291601666864, 0.956634473810738739],
[0.973500686569689022, 0.957213880989936539, 0.960693371837294641],
[0.979031293437972461, 0.962409123252841225, 0.964791149375538892],
[0.984577474001290365, 0.967624178571416693, 0.968930438763378921],
[0.990138583973549591, 0.972859201351631175, 0.973114825916153614],
[0.995713586561474684, 0.978114334658042428, 0.977349552802256993],
[1.00000000000000000, 0.983389696853213313, 0.981643174882297242],
[1.00000000000000000, 0.988685338582048545, 0.986012810955908203],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
