from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000338142343461153387, 0.000339662291934509080, 0.000368198786894395375],
[0.000961786762595554152, 0.000972470105517903353, 0.00108511648876643391],
[0.00185184583077243887, 0.00188160335327644426, 0.00214541392125584037],
[0.00298804631590585254, 0.00304869244825546745, 0.00354050166903151957],
[0.00435704828850029362, 0.00446197140006144959, 0.00526737845020753322],
[0.00594914748829568959, 0.00611310954912715459, 0.00732585697992397134],
[0.00775686540907836140, 0.00799586643597334327, 0.00971743265473132278],
[0.00977421797877113356, 0.0101053979882670866, 0.0124447198774730664],
[0.0119962889263012414, 0.0124378537101241249, 0.0155111351582329412],
[0.0144189600824891611, 0.0149901231236250557, 0.0189207037653674956],
[0.0170387305673156617, 0.0177596664266803234, 0.0226779345721088189],
[0.0198525899846779714, 0.0207443961443743719, 0.0267877353613529233],
[0.0228579262625421137, 0.0239425913875406168, 0.0312553535115382142],
[0.0260524567018295718, 0.0273528338890829843, 0.0360863333327905641],
[0.0294341751335469755, 0.0309739591123046193, 0.0412675029496065368],
[0.0330013105914289118, 0.0348050181046358140, 0.0464848496389831042],
[0.0367522944256955531, 0.0388452472073178567, 0.0516730579572355284],
[0.0406813532827007204, 0.0430016975727413667, 0.0568362225327178686],
[0.0446002645493773012, 0.0471039932904227174, 0.0619779365860646733],
[0.0484727185490910137, 0.0511638303525788693, 0.0671013783386467944],
[0.0523018621145595122, 0.0551842553131457400, 0.0722093791048228906],
[0.0560905087618757334, 0.0591679897750612485, 0.0773044776226209374],
[0.0598411873257956098, 0.0631174779221507498, 0.0823889638923814560],
[0.0635561817288049780, 0.0670349253633775732, 0.0874649149098254142],
[0.0672375637980126284, 0.0709223311682322666, 0.0925342240618616529],
[0.0708872205714654036, 0.0747815145076475285, 0.0975986255134351499],
[0.0745068771931620688, 0.0786141369785049449, 0.102659714595696006],
[0.0780981162445889277, 0.0824217214428284717, 0.107718964972701753],
[0.0816623941734867798, 0.0862056680290868571, 0.112777743190863949],
[0.0852010553397399839, 0.0899672678048182017, 0.117837321085422775],
[0.0887153440911012114, 0.0937077145246705545, 0.122898886419587627],
[0.0922064151991234260, 0.0974281147771856593, 0.127963552056335944],
[0.0956753429217689910, 0.101129496791036805, 0.133032363904306727],
[0.0991231289091978052, 0.104812818112440503, 0.138106307833503028],
[0.102550709129787393, 0.108478972326849332, 0.143186315720533530],
[0.105958959962130061, 0.112128794967337630, 0.148273270754572251],
[0.109348703573638906, 0.115763068727552487, 0.153368012112417462],
[0.112720712686222524, 0.119382528077312172, 0.158471339092690761],
[0.116075714813071856, 0.122987863362916922, 0.163584014784378257],
[0.119414396037258008, 0.126579724461160031, 0.168706769332834017],
[0.122737404391872251, 0.130158724045312452, 0.173840302856476753],
[0.126045352892400764, 0.133725440512520749, 0.178985288059269027],
[0.129338822264542963, 0.137280420614740162, 0.184142372577332875],
[0.132618363404438805, 0.140824181829235534, 0.189312181092465281],
[0.135884499603066616, 0.144357214499581665, 0.194495317240635540],
[0.139137728562172352, 0.147879983773831519, 0.199692365339633471],
[0.142378524225424380, 0.151392931362897359, 0.204903891956737805],
[0.145607338445332163, 0.154896477139150030, 0.210130447334480941],
[0.148824602503818709, 0.158391020592643567, 0.215372566690223088],
[0.152030728502082102, 0.161876942160152193, 0.220630771403233505],
[0.155226110633404024, 0.165354604440330122, 0.225905570101248177],
[0.158411126350945564, 0.168824353306662289, 0.231197459657008164],
[0.161586137441087241, 0.172286518928487065, 0.236506926104000370],
[0.164751491011660478, 0.175741416709157855, 0.241834445479537141],
[0.167907520403332455, 0.179189348149364103, 0.247180484602355588],
[0.171054546031472660, 0.182630601642722990, 0.252545501791103633],
[0.174192876165014110, 0.186065453209960985, 0.257929947529354942],
[0.177322807648115532, 0.189494167177313128, 0.263334265082180663],
[0.180444626569808586, 0.192916996804160745, 0.268758891068753614],
[0.183558608886265767, 0.196334184864396300, 0.274204255994984991],
[0.186665020999838560, 0.199745964185541525, 0.279670784749776635],
[0.189764120298608341, 0.203152558149225948, 0.285158897068095052],
[0.192856155659800466, 0.206554181156272498, 0.290669007963756665],
[0.195941367920091869, 0.209951039059316946, 0.296201528134515890],
[0.199019990315545070, 0.213343329565594764, 0.301756864341801267],
[0.202092248893634752, 0.216731242612285491, 0.307335419767208684],
[0.205158362899615421, 0.220114960716565611, 0.312937594347668546],
[0.208218545139251143, 0.223494659302332088, 0.318563785091016571],
[0.211273002319762315, 0.226870507005367317, 0.324214386373541441],
[0.214321935370659466, 0.230242665958563464, 0.329889790220938228],
[0.217365539746007253, 0.233611292058670927, 0.335590386573967281],
[0.220404005709501138, 0.236976535215915829, 0.341316563540005002],
[0.223437518603647800, 0.240338539587701627, 0.347068707631567885],
[0.226466259104204593, 0.243697443797518676, 0.352847203992796732],
[0.229490403460958225, 0.247053381140077577, 0.358652436614810055],
[0.232510123725822027, 0.250406479773605417, 0.364484788540750504],
[0.235525587969153738, 0.253756862900157532, 0.370344642061289642],
[0.238536960485117189, 0.257104648934741720, 0.376232378901286357],
[0.241544401986870327, 0.260449951663964119, 0.382148380398244780],
[0.244548069792260181, 0.263792880394875196, 0.388093027673160840],
[0.247548118000694373, 0.267133540094619204, 0.394066701794304364],
[0.250544697661781501, 0.270472031521451939, 0.400069783934442202],
[0.253537956936295772, 0.273808451347651249, 0.406102655521962341],
[0.256528041249988514, 0.277142892274792996, 0.412165698386337154],
[0.259515093440709221, 0.280475443141841418, 0.418259294898317591],
[0.262499253899297624, 0.283806189026459099, 0.424383828105233063],
[0.265480660704642990, 0.287135211339915653, 0.430539681861737078],
[0.268459449753301327, 0.290462587915946258, 0.436727240956318041],
[0.271435754884026326, 0.293788393093882272, 0.442946891233873263],
[0.274409707997546381, 0.297112697796354575, 0.449199019714620673],
[0.277381439171894118, 0.300435569601848751, 0.455484014709606699],
[0.280351076773579566, 0.303757072812367912, 0.461802265933048461],
[0.283318747564887619, 0.307077268516441071, 0.468154164611737811],
[0.286284576807531832, 0.310396214647703950, 0.474540103591715223],
[0.289248688362923612, 0.313713966039248671, 0.480960477442406831],
[0.292211204789268319, 0.317030574473943227, 0.487415682558415886],
[0.295172247435695978, 0.320346088730888434, 0.493906117259133859],
[0.298131936533635178, 0.323660554628180219, 0.500432181886336980],
[0.301090391285591563, 0.326974015062132806, 0.506994278899919215],
[0.304047729951535561, 0.330286510043094506, 0.513592812971906065],
[0.307004069933035695, 0.333598076727998127, 0.520228191078883295],
[0.309959527855310668, 0.336908749449756517, 0.526900822592967000],
[0.312914219647336844, 0.340218559743621141, 0.533611119371438458],
[0.315868260620150887, 0.343527536370608455, 0.540359495845151083],
[0.318821765543483959, 0.346835705338083555, 0.547146369105825148],
[0.321774848720844886, 0.350143089917595130, 0.553972158992325325],
[0.324727624063174902, 0.353449710660040162, 0.560837288176019300],
[0.327680205161177351, 0.356755585408234877, 0.567742182245311144],
[0.330632705356444900, 0.360060729306958094, 0.574687269789435073],
[0.333585237811468205, 0.363365154810530277, 0.581672982481590273],
[0.336537915578629665, 0.366668871687990172, 0.588699755161499194],
[0.339490851668283022, 0.369971887025911938, 0.595768025917465249],
[0.342444159115984803, 0.373274205228919853, 0.602878236167995629],
[0.345397951048991625, 0.376575828017932934, 0.610030830743065078],
[0.348352340752070666, 0.379876754426187568, 0.617226257965083125],
[0.351307441732732706, 0.383176980793063227, 0.624464969729628061],
[0.354263367785936645, 0.386476500755744634, 0.631747421586009494],
[0.357220233058351877, 0.389775305238745984, 0.639074072817715333],
[0.360178152112243133, 0.393073382441317176, 0.646445386522803589],
[0.363137239989037519, 0.396370717822752794, 0.653861829694287189],
[0.366097612272650808, 0.399667294085614244, 0.661323873300570519],
[0.369059385152621211, 0.402963091156881614, 0.668831992365982897],
[0.372022675487118648, 0.406258086167038845, 0.676386666051461249],
[0.374987600865883175, 0.409552253427098445, 0.683988377735427533],
[0.377954279673155813, 0.412845564403566068, 0.691637615094905844],
[0.380922831150637631, 0.416137987691348576, 0.699334870186930413],
[0.383893375460560127, 0.419429488984590815, 0.707080639530276889],
[0.387456880749552812, 0.423197353356880912, 0.711094703450020571],
[0.391622327006063198, 0.427432531948292727, 0.711372803908771667],
[0.395801448604638673, 0.431655483512189686, 0.711693504226240337],
[0.399993805758792564, 0.435867115860787468, 0.712056048752827686],
[0.404198991183748246, 0.440068292614774703, 0.712459713858213606],
[0.408416628000968784, 0.444259836171493561, 0.712903806448470512],
[0.412646367787296242, 0.448442530436219788, 0.713387662567096514],
[0.416887888758427860, 0.452617123338691585, 0.713910646074519706],
[0.421140894077208006, 0.456784329154661661, 0.714472147401043367],
[0.425405110277831677, 0.460944830650176829, 0.715071582368561831],
[0.429680285797739148, 0.465099281064439485, 0.715708391076713468],
[0.433966189609532149, 0.469248305945490773, 0.716382036849453785],
[0.438262609945808013, 0.473392504851518903, 0.717092005238315289],
[0.442569353110315700, 0.477532452929323059, 0.717837803078883674],
[0.446886242369319009, 0.481668702380329272, 0.718618957597263464],
[0.451213116917483836, 0.485801783823557154, 0.719435015563531843],
[0.455549830913036635, 0.489932207564032385, 0.720285542489384700],
[0.459896252577316755, 0.494060464774342345, 0.721170121867368286],
[0.464252263354181849, 0.498187028596318748, 0.722088354449271774],
[0.468617757125093182, 0.502312355169189373, 0.723039857561415311],
[0.472992639475980081, 0.506436884589963054, 0.724024264454717903],
[0.477376827012275740, 0.510561041811303795, 0.725041223687575953],
[0.481770246718795814, 0.514685237481674496, 0.726090398539708026],
[0.486172835361329103, 0.518809868732129753, 0.727171466455238780],
[0.490584538927105796, 0.522935319913735874, 0.728284118513422341],
[0.495005312101435335, 0.527061963289284341, 0.729428058925486567],
[0.499435117778062876, 0.531190159682630059, 0.730603004556194091],
[0.503873926600934441, 0.535320259088732264, 0.731808684468802206],
[0.508321716535256485, 0.539452601247196406, 0.733044839492181466],
[0.512778472465834745, 0.543587516181915254, 0.734311221808935377],
[0.517244185820898483, 0.547725324709173789, 0.735607594563439604],
[0.521718854219658579, 0.551866338916412791, 0.736933731488775501],
[0.526202481142053258, 0.556010862613654178, 0.738289416551618061],
[0.530695075619164958, 0.560159191759457720, 0.739674443614165455],
[0.535196651942979051, 0.564311614863112987, 0.741088616112287379],
[0.539707229394164267, 0.568468413364653036, 0.742531746749096833],
[0.544226831986728832, 0.572629861994152223, 0.744003657203207824],
[0.548755488228425348, 0.576796229111660397, 0.745504177850989658],
[0.553293230895865795, 0.580967777029031574, 0.747033147502166983],
[0.557840096823423059, 0.585144762314800393, 0.748590413148155442],
[0.562396126704989285, 0.589327436083188272, 0.750175829722562249],
[0.566961364907784371, 0.593516044268239673, 0.751789259873320792],
[0.571535859297412352, 0.597710827884018081, 0.753430573745955900],
[0.576119661073479672, 0.601912023271712004, 0.755099648777505461],
[0.580712824615050249, 0.606119862334475790, 0.756796369500672861],
[0.585315407335352256, 0.610334572760727223, 0.758520627357789579],
[0.589927469545109329, 0.614556378236619905, 0.760272320524215228],
[0.594549074323958426, 0.618785498648325105, 0.762051353740808679],
[0.599180287399446399, 0.623022150274730069, 0.763857638155158059],
[0.603821177033096679, 0.627266545971121747, 0.765691091171242344],
[0.608471813913116999, 0.631518895344380438, 0.767551636307263863],
[0.613132271053303035, 0.635779404920172264, 0.769439203061374699],
[0.617802623697745301, 0.640048278302609019, 0.771353726785069860],
[0.622482949230958371, 0.644325716326801912, 0.773295148564027146],
[0.627173327093088040, 0.648611917204706900, 0.775263415106199894],
[0.631873838699851365, 0.652907076664651420, 0.777258478636987271],
[0.636584567366880627, 0.657211388084888992, 0.779280296801325267],
[0.641305598238225860, 0.661525042621512571, 0.781328832572574461],
[0.646037018218644010, 0.665848229331044927, 0.783404054168077013],
[0.650778915909508870, 0.670181135287991614, 0.785505934971305053],
[0.655531381547984182, 0.674523945697637295, 0.787634453460517858],
[0.660294506949308468, 0.678876844004335123, 0.789789593143882862],
[0.665068385451870747, 0.683240011995547958, 0.791971342501036180],
[0.669853111864926021, 0.687613629901849821, 0.794179694931067326],
[0.674648782418689086, 0.691997876493112063, 0.796414648706960104],
[0.679455494716597386, 0.696392929171086528, 0.798676206936523525],
[0.684273347689559275, 0.700798964058557572, 0.800964377529888249],
[0.689102441551980083, 0.705216156085250678, 0.803279173173671590],
[0.693942877759339272, 0.709644679070678741, 0.805620611311933299],
[0.698794758967179908, 0.714084705804058584, 0.807988714134092012],
[0.703658188991251987, 0.718536408121480341, 0.810383508569999855],
[0.708533272768665734, 0.722999956980442615, 0.812805026292410915],
[0.713420116319826936, 0.727475522531909502, 0.815253303727126122],
[0.718318826710951042, 0.731963274190005508, 0.817728382071145510],
[0.723229512016985043, 0.736463380699463266, 0.820230307319204543],
[0.728152281284661807, 0.740976010200951496, 0.822759130299139385],
[0.733087244495528090, 0.745501330294375597, 0.825314906716577479],
[0.738034512528662367, 0.750039508100256103, 0.827897697209544092],
[0.742994197122850641, 0.754590710319280600, 0.830507567413633407],
[0.747966410837959228, 0.759155103290120259, 0.833144588038508993],
[0.752951267015203651, 0.763732853045584359, 0.835808834956587643],
[0.757948879736012104, 0.768324125367204847, 0.838500389304897897],
[0.762959363779132316, 0.772929085838315655, 0.841219337601225248],
[0.767982834575615225, 0.777547899895697170, 0.843965771875834547],
[0.773019408161259025, 0.782180732879850238, 0.846739789820232125],
[0.778069201126031285, 0.786827750083965882, 0.849541494954646037],
[0.783132330559992207, 0.791489116801628256, 0.852370996816151583],
[0.788208913995077309, 0.796164998373323218, 0.855228411169663305],
[0.793299069342130902, 0.800855560231775954, 0.858113860244338333],
[0.798402914822389120, 0.805560967946174822, 0.861027472998355248],
[0.803520568892592824, 0.810281387265298192, 0.863969385415475744],
[0.808652150162664340, 0.815016984159596780, 0.866939740837381789],
[0.813797777304887893, 0.819767924862224828, 0.869938690336419351],
[0.818957568953170401, 0.824534375909055761, 0.872966393134191332],
[0.824131643590849561, 0.829316504177683544, 0.876023017072381838],
[0.829320119425218438, 0.834114476925397863, 0.879108739143362072],
[0.834523114246552233, 0.838928461826138783, 0.882223746089518146],
[0.839740745269105249, 0.843758627006376827, 0.885368235081966937],
[0.844973128950918362, 0.848605141079903147, 0.888542414491421684],
[0.850220380788794472, 0.853468173181451184, 0.891746504766593451],
[0.855482615083901998, 0.858347892999064666, 0.894980739438761219],
[0.860759944672546573, 0.863244470805112685, 0.898245366275232548],
[0.866052480615421283, 0.868158077485778001, 0.901540648609588047],
[0.871360331837023994, 0.873088884568836154, 0.904866866883203391],
[0.876683604704921904, 0.878037064249463706, 0.908224320441049837],
[0.882022402535915129, 0.883002789413724787, 0.911613329635812431],
[0.887376825012617720, 0.887986233659311064, 0.915034238308901626],
[0.892746967489421173, 0.892987571312930717, 0.918487416736233242],
[0.898132920160532033, 0.898006977443586263, 0.921973265152591592],
[0.903534767054325227, 0.903044627870708716, 0.925492218003835743],
[0.908952584806547392, 0.908100699165729663, 0.929044749125161884],
[0.914386441148344331, 0.913175368645208097, 0.932631378112565135],
[0.919836393021534304, 0.918268814352839913, 0.936252678253298387],
[0.925302484199038933, 0.923381215026598201, 0.939909286525278609],
[0.930784742236785645, 0.928512750045627833, 0.943601916390711226],
[0.936283174504548899, 0.933663599348932505, 0.947331374439147944],
[0.941797762918627379, 0.938833943313898023, 0.951098582455428665],
[0.947328456796430962, 0.944023962576012843, 0.954904607335879452],
[0.952875162909589180, 0.949233837759818955, 0.958750702712051095],
[0.958437731203550691, 0.954463749070899037, 0.962638368685378665],
[0.964015933513954093, 0.959713875660481830, 0.966569440833628835],
[0.969609430337499023, 0.964984394597408479, 0.970546229152550732],
[0.975217715786389383, 0.970275479114085848, 0.974571748208542865],
[0.980840018959839965, 0.975587295383995135, 0.978650129532727342],
[0.986475106761089626, 0.980919995936960221, 0.982787446186636271],
[0.992120818397612125, 0.986273703803958735, 0.986993659668834122],
[0.997772590111355107, 0.991648461305780882, 0.991288791378079126],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
