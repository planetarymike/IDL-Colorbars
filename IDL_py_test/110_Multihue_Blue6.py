from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000319676701836862356, 0.000366922344454958475, 0.000314833439577616372],
[0.000879453871882621314, 0.00106720045259332667, 0.000880753819255797711],
[0.00164979606087523154, 0.00208866813380323294, 0.00167852785037900004],
[0.00260033535823508445, 0.00341713189366867412, 0.00268860953190046704],
[0.00370850542229908325, 0.00504472990551844014, 0.00389924821950743015],
[0.00495591614772307367, 0.00696682227774013396, 0.00530302450236974556],
[0.00632677093626402617, 0.00918069361509305133, 0.00689532908582419883],
[0.00780703678397988259, 0.0116848915250309573, 0.00867355766924414288],
[0.00938395830358872141, 0.0144788454038141078, 0.0106366336944649694],
[0.0110457513062827955, 0.0175626273402275136, 0.0127847028791576930],
[0.0127813992237708202, 0.0209367924089661275, 0.0151189265547202294],
[0.0145805126173312854, 0.0246022666006233751, 0.0176413358856282940],
[0.0164332295040134843, 0.0285602649578151763, 0.0203547256470504520],
[0.0183301432430818222, 0.0328122297265352469, 0.0232625748103393072],
[0.0202622496964798004, 0.0373597822553422554, 0.0263689859247057332],
[0.0222209082717939807, 0.0421538510946037962, 0.0296786380503695803],
[0.0241978132194306354, 0.0469229185497243226, 0.0331967496889554389],
[0.0261849726710343712, 0.0516523313685132226, 0.0369290492296938042],
[0.0281746936347396226, 0.0563456059597285466, 0.0408731580398441000],
[0.0301595716521241841, 0.0610058039257099019, 0.0448417636990634874],
[0.0321324841583485662, 0.0656356042081005508, 0.0488060013840207682],
[0.0340865868234905209, 0.0702373607671022693, 0.0527697015054200899],
[0.0360153123224046176, 0.0748131492165022005, 0.0567363612260184599],
[0.0379123711036614339, 0.0793648049156406854, 0.0607091862019131720],
[0.0397717538191174683, 0.0838939543740413740, 0.0646911250289723128],
[0.0415595592076154832, 0.0884020413644840963, 0.0686848978929986975],
[0.0432484186619207719, 0.0928903488075197570, 0.0726930205688372799],
[0.0448477705372778354, 0.0973600172462917579, 0.0767178246535354380],
[0.0463588904639159124, 0.101812060549117983, 0.0807614747247756004],
[0.0477829781765526443, 0.106247379340901810, 0.0848259829695888756],
[0.0491211745200390085, 0.110666772560792465, 0.0889132217169117667],
[0.0503745771088929609, 0.115070947463936840, 0.0930249342217518982],
[0.0515442549633976996, 0.119460528323519166, 0.0971627439820748617],
[0.0526312623961936662, 0.123836064041080912, 0.101328162817297923],
[0.0536366523859395719, 0.128198034835151214, 0.105522597896023779],
[0.0545614896461808982, 0.132546858148056029, 0.109747357867828216],
[0.0554068635759858361, 0.136882893886664220, 0.114003658227618931],
[0.0561739012627319387, 0.141206449093418590, 0.118292626019879526],
[0.0568637806955357775, 0.145517782128259110, 0.122615303972909762],
[0.0574777443390950479, 0.149817106429237207, 0.126972654139139080],
[0.0580171132116268848, 0.154104593909095866, 0.131365561106083772],
[0.0584833016060679820, 0.158380378036432151, 0.135794834833022154],
[0.0588778325904282598, 0.162644556642878968, 0.140261213160614739],
[0.0592023544201526544, 0.166897194491761519, 0.144765364034152411],
[0.0594586579919674160, 0.171138325638686695, 0.149307887475660900],
[0.0596486954640098946, 0.175367955610313320, 0.153889317335513309],
[0.0597746001600116192, 0.179586063424009068, 0.158510122850346741],
[0.0598387078647691709, 0.183792603468080767, 0.163170710030826033],
[0.0598435796024560165, 0.187987507259709585, 0.167871422900043338],
[0.0597920259667661033, 0.192170685095524790, 0.172612544600990098],
[0.0596871330402605274, 0.196342027607869174, 0.177394298389544930],
[0.0595322898968621769, 0.200501407238187879, 0.182216848527703951],
[0.0593312176234075464, 0.204648679637564890, 0.187080301090312429],
[0.0590879997198444015, 0.208783685003212427, 0.191984704697290759],
[0.0588071136395137070, 0.212906249358649546, 0.196930051182252985],
[0.0584934631067979063, 0.217016185784380533, 0.201916276207467382],
[0.0581524106957947776, 0.221113295605050109, 0.206943259834283744],
[0.0577898099670438661, 0.225197369538338632, 0.212010827057426909],
[0.0574120362382328844, 0.229268188810208828, 0.217118748310925924],
[0.0570260148094782690, 0.233325526240546532, 0.222266739952882208],
[0.0566392451785953863, 0.237369147302721295, 0.227454464735790118],
[0.0562598194759610856, 0.241398811160138005, 0.232681532268673441],
[0.0558964330387883221, 0.245414271682427965, 0.237947499476902413],
[0.0555583847562503772, 0.249415278443557653, 0.243251871065198244],
[0.0552555645854327024, 0.253401577703790237, 0.248594099988996342],
[0.0549984255104951150, 0.257372913377120316, 0.253973587939034518],
[0.0547979372493296798, 0.261329027985520934, 0.259389685843753437],
[0.0546655192655073410, 0.265269663601078287, 0.264841694393822935],
[0.0546129511782810564, 0.269194562776847168, 0.270328864592863427],
[0.0546522595272224895, 0.273103469467037563, 0.275850398338178260],
[0.0547955810604273605, 0.276996129936937452, 0.281405449035093846],
[0.0550550042529260250, 0.280872293662787931, 0.286993122248261456],
[0.0554423925441816581, 0.284731714221639010, 0.292612476393064702],
[0.0559691946648358321, 0.288574150171065524, 0.298262523470044560],
[0.0566462491986866948, 0.292399365918455278, 0.303942229845041600],
[0.0574835919516885271, 0.296207132579446419, 0.309650517077533771],
[0.0584902755299304203, 0.299997228824957440, 0.315386262799422612],
[0.0596742105621599420, 0.303769441716135402, 0.321148301646305645],
[0.0610420371343275078, 0.307523567526425456, 0.326935426243044891],
[0.0625990332576853437, 0.311259412549878711, 0.332746388245210245],
[0.0643490647340511090, 0.314976793894703344, 0.338579899437756404],
[0.0662945778963903720, 0.318675540260995260, 0.344434632892045123],
[0.0684366337436650707, 0.322355492701499047, 0.350309224182101975],
[0.0707749793125972970, 0.326016505364188247, 0.356202272660748276],
[0.0733081500289806676, 0.329658446215393641, 0.362112342796006792],
[0.0760335954409418202, 0.333281197742163693, 0.368037965567942826],
[0.0789478202101034643, 0.336884657632496587, 0.373977639925844430],
[0.0820465324585558653, 0.340468739432055190, 0.379929834305406888],
[0.0853247923867010982, 0.344033373175957058, 0.385892988205326914],
[0.0887771552912923756, 0.347578505994216969, 0.391865513822473976],
[0.0923978045207168308, 0.351104102689413833, 0.397845797744544982],
[0.0961806713287947368, 0.354610146285166128, 0.403832202698862941],
[0.100119539896384918, 0.358096638544012913, 0.409823069355742975],
[0.104208136898134157, 0.361563600453319478, 0.415816718184584433],
[0.108440205861659950, 0.365011072677862869, 0.421811451360631362],
[0.112809567195655602, 0.368439115977798715, 0.427805554720086467],
[0.117310165173239195, 0.371847811590755584, 0.433797299761049027],
[0.121936103382557753, 0.375237261576871040, 0.439784945687514861],
[0.126681670237929034, 0.378607589125648514, 0.445766741493461349],
[0.131541356120829650, 0.381958938823589334, 0.451740928083835092],
[0.136509863624978883, 0.385291476881652606, 0.457705740429065922],
[0.141582112242125468, 0.388605391321671267, 0.463659409749528628],
[0.146753238666283065, 0.391900892120963296, 0.469600165726218377],
[0.152018593730023993, 0.395178211314490768, 0.475526238733726070],
[0.157373736827553290, 0.398437603054014877, 0.481435862091457445],
[0.162814428532157440, 0.401679343623835394, 0.487327274328903715],
[0.168336621983968982, 0.404903731412810774, 0.493198721460646861],
[0.173936453509018374, 0.408111086842497584, 0.499048459266682676],
[0.179610232832345590, 0.411301752251371777, 0.504874755573550438],
[0.185354433165421162, 0.414476091735235586, 0.510675892531691322],
[0.191165681379979691, 0.417634490944054138, 0.516450168884399541],
[0.197040748424685441, 0.420777356835600524, 0.522195902223692388],
[0.202976540096324709, 0.423905117386435604, 0.527911431228414441],
[0.208970088241561713, 0.427018221260887010, 0.533595117879879899],
[0.215018542437411475, 0.430117137438833785, 0.539245349650381733],
[0.221119162176921458, 0.433202354803242318, 0.544860541659936803],
[0.227269309570059586, 0.436274381688535440, 0.550439138796679939],
[0.233466442557520248, 0.439333745391006447, 0.555979617796403813],
[0.239708108626004557, 0.442380991642629229, 0.561480489276828143],
[0.245991939007229765, 0.445416684049730172, 0.566940299722291097],
[0.252315643338492379, 0.448441403498103075, 0.572357633414681044],
[0.258677004759782114, 0.451455747526278206, 0.577731114306571203],
[0.265073875420953009, 0.454460329668741558, 0.583059407832678178],
[0.271504172371717700, 0.457455778771008459, 0.588341222655930918],
[0.277965873807352493, 0.460442738278540486, 0.593575312344639672],
[0.284457015643413302, 0.463421865501579322, 0.598760476977439393],
[0.290975688393745158, 0.466393830858033598, 0.603895564672902951],
[0.297520034327157568, 0.469359317096618989, 0.608979473040943686],
[0.304088244879352709, 0.472319018502506627, 0.614011150553356977],
[0.310678558298163598, 0.475273640087762794, 0.618989597831102967],
[0.317289257501490674, 0.478223896768901036, 0.623913868846165509],
[0.323918668128725718, 0.481170512533884931, 0.628783072036105173],
[0.330565156767905210, 0.484114219600918216, 0.633596371329659069],
[0.337227129342120957, 0.487055757571359049, 0.638352987082028256],
[0.343903029639985147, 0.489995872579091662, 0.643052196918752816],
[0.350591337976258632, 0.492935316438634363, 0.647693336487343618],
[0.357290569969799021, 0.495874845794260832, 0.652275800116114524],
[0.363999275427171309, 0.498815221272332965, 0.656799041379925286],
[0.370716037321200620, 0.501757206639012687, 0.661262573572810708],
[0.377439470854738501, 0.504701567965441966, 0.665665970087740089],
[0.384168222600804243, 0.507649072802398682, 0.670008864703998563],
[0.390900969711005297, 0.510600489366382582, 0.674290951782945402],
[0.397636419185022072, 0.513556585738952909, 0.678511986373140696],
[0.404373307194482334, 0.516518129081086075, 0.682671784226071110],
[0.411110398455320769, 0.519485884864190228, 0.686770221723938423],
[0.417846485643267207, 0.522460616119311050, 0.690807235721181967],
[0.424580388847594525, 0.525443082705964293, 0.694782823301624886],
[0.431310955058841372, 0.528434040601898025, 0.698697041453320455],
[0.438037057686631870, 0.531434241214972403, 0.702550006663370863],
[0.444757596104120856, 0.534444430718233998, 0.706341894435146389],
[0.451471495216018870, 0.537465349409124604, 0.710072938730507586],
[0.458177705047460304, 0.540497731093646405, 0.713743431339770251],
[0.464875200351299422, 0.543542302496193175, 0.717353721182288129],
[0.471562980231740536, 0.546599782695615488, 0.720904213540637162],
[0.478240067782434719, 0.549670882587981247, 0.724395369231511932],
[0.484905509737425688, 0.552756304376376795, 0.727827703716502850],
[0.491558376133574060, 0.555856741087961570, 0.731201786156032374],
[0.498197759983214861, 0.558972876118408068, 0.734518238409761382],
[0.504822776956084018, 0.562105382803711473, 0.737777733986848427],
[0.511432565069597334, 0.565254924019293448, 0.740980996949465731],
[0.518026284386813640, 0.568422151806187603, 0.744128800773001808],
[0.524603116721468310, 0.571607707024034073, 0.747221967166392109],
[0.531162265349612084, 0.574812219030496396, 0.750261364856010804],
[0.537702954727499294, 0.578036305386664839, 0.753247908336547312],
[0.544224430215461852, 0.581280571587889483, 0.756182556592257749],
[0.550725957807557398, 0.584545610819473871, 0.759066311791953385],
[0.557206823866909562, 0.587832003736548092, 0.761900217961022030],
[0.563666334866672836, 0.591140318267420195, 0.764685359633747730],
[0.570103817136637936, 0.594471109439627443, 0.767422860489098024],
[0.576518616615553037, 0.597824919227894935, 0.770113881973095271],
[0.582910098609246807, 0.601202276423139170, 0.772759621910791283],
[0.589277647554720785, 0.604603696521656797, 0.775361313110775496],
[0.595620666790381725, 0.608029681633584729, 0.777920221965064718],
[0.601938578332625540, 0.611480720409723122, 0.780437647047090954],
[0.608230822659022396, 0.614957287985770984, 0.782914917710429981],
[0.614496858498340903, 0.618459845943050701, 0.785353392690767649],
[0.620736162627725019, 0.621988842284752375, 0.787754458713510353],
[0.626948229677293245, 0.625544711426768041, 0.790119529109316820],
[0.633132571942483735, 0.629127874202157766, 0.792450042439697966],
[0.639288719204482825, 0.632738737878321911, 0.794747461134725275],
[0.645416218559067390, 0.636377696185948416, 0.797013270144748098],
[0.651514634254211633, 0.640045129358820963, 0.799248975607900980],
[0.657583547536829238, 0.643741404183606036, 0.801456103535061470],
[0.663622556509014694, 0.647466874058729380, 0.803636198513773548],
[0.669631275994179820, 0.651221879061492204, 0.805790822432558063],
[0.675609337413471733, 0.655006746022595343, 0.807921553226876865],
[0.681556388672875602, 0.658821788607261038, 0.810029983647918783],
[0.687472094061433725, 0.662667307402164174, 0.812117720055249070],
[0.693356134161003057, 0.666543590007404596, 0.814186381234235035],
[0.699208205767995361, 0.670450911132805305, 0.816237597239085511],
[0.705028021827577400, 0.674389532697790006, 0.818273008262174084],
[0.710815311380799453, 0.678359703934174552, 0.820294263530276013],
[0.716569819525160523, 0.682361661491192817, 0.822303020228189130],
[0.722291307389145265, 0.686395629542108310, 0.824300942450159280],
[0.727979552121270301, 0.690461819891789674, 0.826289700179408948],
[0.733634346894246892, 0.694560432084625257, 0.828270968295992005],
[0.739255500924856923, 0.698691653512196753, 0.830246425613125338],
[0.744842839510224230, 0.702855659520113529, 0.832217753942059990],
[0.750396204081165918, 0.707052613513436290, 0.834186637185492685],
[0.755915452273394406, 0.711282667060123330, 0.836154760459463242],
[0.761400458017373549, 0.715545959991929492, 0.838123809243616402],
[0.766851111647713246, 0.719842620502180064, 0.840095468559672764],
[0.772267320033042659, 0.724172765239858740, 0.842071422177903983],
[0.777649006727420655, 0.728536499399401794, 0.844053351851388744],
[0.782996112144398904, 0.732933916805597718, 0.846042936577793170],
[0.788308593754970754, 0.737365099992962514, 0.848041851888413634],
[0.793586426310808557, 0.741830120278908933, 0.850051769164224313],
[0.798829602094257685, 0.746329037830015696, 0.852074354978674231],
[0.804038131196785022, 0.750861901720627611, 0.854111270467005523],
[0.809212041827734430, 0.755428749982955838, 0.856164170721907536],
[0.814351380655455093, 0.760029609647794424, 0.858234704215370736],
[0.819456213183158089, 0.764664496774833391, 0.860324512246679052],
[0.824526624162062016, 0.769333416471494114, 0.862435228416578381],
[0.829562718044843717, 0.774036362899023445, 0.864568478127762385],
[0.834564619482650927, 0.778773319264485675, 0.866725878111989756],
[0.839532473869548990, 0.783544257797042953, 0.868909035984291811],
[0.844466447938668097, 0.788349139706763125, 0.871119549824987405],
[0.849366730415045956, 0.793187915123864107, 0.873359007790460162],
[0.854233532730832801, 0.798060523016047574, 0.875628987753981791],
[0.859067089809475215, 0.802966891081156153, 0.877931056978279334],
[0.863867660926500136, 0.807906935611961363, 0.880266771821993421],
[0.868635530655792132, 0.812880561329342055, 0.882637677482778549],
[0.873371009911805163, 0.817887661179445780, 0.885045307780504831],
[0.878074437099965022, 0.822928116089631678, 0.887491184984890102],
[0.882746179389766850, 0.828001794677016290, 0.889976819692991805],
[0.887386634127856899, 0.833108552902223298, 0.892503710763313696],
[0.891996230411697288, 0.838248233659482422, 0.895073345314979063],
[0.896575430848757460, 0.843420666292306276, 0.897687198802521569],
[0.901124733531270761, 0.848625666021722291, 0.900346735179543112],
[0.905644674263401561, 0.853863033271019645, 0.903053407167886402],
[0.910135829085960801, 0.859132552867276189, 0.905808656653383948],
[0.914598817154693933, 0.864433993095076403, 0.908613915234973368],
[0.919034304042116612, 0.869767104571590899, 0.911470604961454267],
[0.923443005551214169, 0.875131618903966846, 0.914380139300144279],
[0.927825692153393833, 0.880527247079121000, 0.917343924394997678],
[0.932183194195652542, 0.885953677521370109, 0.920363360689902099],
[0.936516408065675154, 0.891410573733498635, 0.923439845017769101],
[0.940826303564224586, 0.896897571409374317, 0.926574773290839260],
[0.945113932818757774, 0.902414274867715638, 0.929769543977017721],
[0.949380441192868241, 0.907960252601556439, 0.933025562618381987],
[0.953627080821339734, 0.913535031657771168, 0.936344247753152947],
[0.957855227661064013, 0.919138090441447342, 0.939727038760877265],
[0.962066403344899901, 0.924768849357222700, 0.943175406395415194],
[0.966262303747822071, 0.930426658412334406, 0.946690867159786120],
[0.970444837183459863, 0.936110780439012524, 0.950275003317002098],
[0.974616176847511118, 0.941820367804895753, 0.953929491424109322],
[0.978778835116832169, 0.947554429086135852, 0.957656144229456774],
[0.982935772876086689, 0.953311779578247864, 0.961456974455071056],
[0.987090568090415510, 0.959090964342232177, 0.965334296400384262],
[0.991247691660852470, 0.964890131285590980, 0.969290897517563255],
[0.995412995740243667, 0.970706804830402059, 0.973330351566010221],
[0.999594678198831743, 0.976537435729986192, 0.977457656014985354],
[1.00000000000000000, 0.982376344196258411, 0.981680763611881280],
[1.00000000000000000, 0.988212391311633298, 0.986015524608119809],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
