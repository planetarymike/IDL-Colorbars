from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00030528841311894847, 0.00035855565326555530, 0.00031100942686041047],
[0.00083362876650957922, 0.0010457301739233344, 0.00086640550952847280],
[0.0015527503845131391, 0.0020515362362996462, 0.0016452306139695537],
[0.0024306705495087642, 0.0033634467052537863, 0.0026272052197059323],
[0.0034431635153857518, 0.0049749554347640343, 0.0038001134701578098],
[0.0045701115498645861, 0.0068826300873779771, 0.0051562374222038588],
[0.0057939145793934272, 0.0090848833285794364, 0.0066907934255210997],
[0.0070986571570851994, 0.011581346620774227, 0.0084011060048632819],
[0.0084696211861531329, 0.014372509343271238, 0.010286119621576061],
[0.0098929791302749016, 0.017459492291770365, 0.012346087631566433],
[0.011355590630587281, 0.020843896141735676, 0.014582363300910769],
[0.012844862611963359, 0.024527694817067583, 0.016997253825523868],
[0.014348650529206287, 0.028513157272469725, 0.019593915390180024],
[0.0158552, 0.0328028, 0.022376276129286814],
[0.017353032720486702, 0.037399280696222961, 0.025348978732057770],
[0.018831034664348406, 0.042250462271594562, 0.028517337284810221],
[0.020278303938303762, 0.0470802, 0.031887304684437762],
[0.021684194783260821, 0.051874936669998893, 0.0354654],
[0.023038292543471631, 0.056638145811826503, 0.039258930379638957],
[0.024330406115535840, 0.061372837246372915, 0.043173424057307806],
[0.025550564383920612, 0.066081645149267954, 0.047079402769268301],
[0.026689015929362094, 0.0707669, 0.050990900353825565],
[0.0277362, 0.075430578754630551, 0.054911864387240751],
[0.028682908585510147, 0.080074532767120343, 0.058845950448772978],
[0.029519978479580249, 0.084700327655640450, 0.062796556629816452],
[0.030238614375010513, 0.089309364105608524, 0.066766852160009493],
[0.030830241472582304, 0.093902880077971401, 0.070759801309423775],
[0.0312865, 0.098481968750446430, 0.074778183462630682],
[0.031599498740184480, 0.10304759374205411, 0.078824610064123640],
[0.031761346401754154, 0.10760060211254791, 0.082901538986514839],
[0.031764648249211339, 0.11214173552677539, 0.087011286760048406],
[0.031602280382477393, 0.11667163989602577, 0.091156039015070217],
[0.031267454098831235, 0.12119087374802145, 0.095337859421572330],
[0.030753732761623832, 0.12569991552999404, 0.099558697357028547],
[0.030055049325020056, 0.13019917001210179, 0.10382039449195207],
[0.0291657, 0.13468897392891385, 0.10812469044937220],
[0.028080485177469444, 0.13916960097308845, 0.11247322766781378],
[0.026794484029678378, 0.14364126623636880, 0.11686755557591194],
[0.025303318605543579, 0.14810413017763652, 0.12130913416941252],
[0.023603051494287257, 0.15255830218522143, 0.12579933706715063],
[0.021690230524929199, 0.15700384379039545, 0.13033945411100359],
[0.019561909271876666, 0.16144077158050890, 0.13493069356528259],
[0.017215667763426892, 0.16586905985322312, 0.139574],
[0.014649633335187675, 0.17028864304745148, 0.14427097564120683],
[0.011862501568754751, 0.17469941798174671, 0.149022],
[0.0088535572541466340, 0.17910124592677065, 0.15382828050593059],
[0.0056226953124907594, 0.18349395453501829, 0.15869051350960131],
[0.0021704416132802616, 0.187877, 0.16360948882505627],
[-0.0015020263817077800, 0.19225116699887368, 0.16858588017140830],
[-0.0053928592179775352, 0.19661517382536342, 0.17362028744825225],
[-0.0094995153638720194, 0.20096907040798689, 0.17871323687837626],
[-0.013818741516835768, 0.20531254154449474, 0.18386518103144644],
[-0.018346553377340109, 0.209645, 0.18907649874331309],
[-0.023078216969565555, 0.21396682774656783, 0.19434749494449530],
[-0.028008230589924910, 0.21827689758749402, 0.19967840041048424],
[-0.033130307466361343, 0.22257505419606560, 0.20506937144573473],
[-0.038437359213057062, 0.22686087555334766, 0.21052048951257740],
[-0.043921480166622576, 0.23113392220433116, 0.216032],
[-0.049573932691033634, 0.23539373853333612, 0.22160311585280967],
[-0.0553851, 0.23963985403546773, 0.22723440894027780],
[-0.061344641362723232, 0.24387178458829334, 0.23292541772514830],
[-0.067441145450657339, 0.24808903372741087, 0.23867584269102038],
[-0.073662455800304477, 0.25229109392908522, 0.24448530666798879],
[-0.079995494594635660, 0.25647744790270383, 0.25035335435519268],
[-0.086426289182424246, 0.26064756989536619, 0.25627945186478140],
[-0.092939966644661948, 0.26480092701053737, 0.26226298629590128],
[-0.0995208, 0.268937, 0.26830326534718490],
[-0.10615195635675492, 0.27305518732642026, 0.27439951697609105],
[-0.11281599641504626, 0.27715500110895830, 0.28055088911332121],
[-0.11949437652155410, 0.28123587393305904, 0.28675644944041007],
[-0.12616770222273618, 0.28529725754392349, 0.29301518523845027],
[-0.132816, 0.28933860481187024, 0.29932600331576287],
[-0.13941714544475631, 0.29335937117296485, 0.30568773002216704],
[-0.14595003270168294, 0.29735901608640347, 0.31209911135731233],
[-0.15239142733312438, 0.30133700450754070, 0.31855881318035378],
[-0.15871756054732866, 0.30529280837513101, 0.325065],
[-0.16490383008891998, 0.30922590811107120, 0.33161744304775342],
[-0.17092481940082257, 0.31313579413063125, 0.33821330555281842],
[-0.17675431913910075, 0.31702196836088353, 0.34485135870495936],
[-0.182365, 0.320884, 0.35152987483111770],
[-0.18773019423662318, 0.32472125586788386, 0.35824704987934464],
[-0.19282041373789527, 0.32853344428513698, 0.36500100451914236],
[-0.19760689152302222, 0.33232007424351956, 0.37178978539090202],
[-0.20205985975650614, 0.33608072809782463, 0.37861136650864963],
[-0.20614893636862808, 0.33981500883526067, 0.38546365081982037],
[-0.20984316286066637, 0.34352254156503975, 0.39234447192524824],
[-0.21311104429027747, 0.34720297498871716, 0.39925159596200033],
[-0.21592059136859088, 0.35085598284691971, 0.40618272365108626],
[-0.21823936458938142, 0.35448126533792618, 0.41313549251146026],
[-0.22003452030016357, 0.35807855050344351, 0.42010747924108222],
[-0.22127285861448395, 0.36164759557681314, 0.42709620226512618],
[-0.22192087305413036, 0.36518818828878580, 0.43409912445073690],
[-0.22194480180014839, 0.36870014812596125, 0.44111365598701424],
[-0.22131068042184601, 0.37218332753694317, 0.44813715742816934],
[-0.21998439594374031, 0.37563761308126459, 0.45516694289705867],
[-0.21793174210192595, 0.37906292651617063, 0.46220028344553993],
[-0.21511847563322351, 0.38245922581639019, 0.46923441056732745],
[-0.21151037343333159, 0.385827, 0.47626651985827367],
[-0.20707329041357561, 0.38916480061069581, 0.48329377481822938],
[-0.201773, 0.39247418128708422, 0.490313],
[-0.195576, 0.395755, 0.49732223901324674],
[-0.18844910396038297, 0.39900668750568191, 0.50431765082971258],
[-0.18035825625362867, 0.40223015709565568, 0.51129662195692061],
[-0.17127092387210310, 0.40542540191855636, 0.51825621689497436],
[-0.16115466124606712, 0.40859269685909544, 0.52519349341191857],
[-0.14997751012292748, 0.41173235845155481, 0.53210550711176630],
[-0.137708, 0.41484474499858864, 0.538989],
[-0.12431548600744398, 0.41793025658279959, 0.54584198553727503],
[-0.10976963958360350, 0.42098933496946500, 0.55266059266145695],
[-0.094041065892755363, 0.424022, 0.559442],
[-0.0771011, 0.42703, 0.56618401669239171],
[-0.058921781924763862, 0.43001300870839854, 0.57288309048057240],
[-0.039476168162317381, 0.432972, 0.57953662527832928],
[-0.018738114976404645, 0.43590657308743069, 0.58614182955050786],
[0.0033175457228207007, 0.43881862351885120, 0.59269595232442007],
[0.026714990615575754, 0.44170846887687193, 0.59919628787407830],
[0.050535816611905641, 0.44457686766335158, 0.60564018034125333],
[0.070236567646208364, 0.44742461425890229, 0.61202502827955818],
[0.087136505732901215, 0.45025253775527835, 0.61834828910791573],
[0.10230718099648509, 0.45306150069391077, 0.62460748346002959],
[0.11629311457331795, 0.45585239771502622, 0.63080019941679699],
[0.12941278752723612, 0.45862615412222624, 0.63692409660897242],
[0.14186991498995513, 0.46138372436786040, 0.642977],
[0.15380317223907586, 0.46412609046492231, 0.64895645458238771],
[0.165311, 0.466854, 0.65486062724121674],
[0.17646750008409534, 0.46956926607471511, 0.66068741199976899],
[0.18732686294322903, 0.47227216221941087, 0.66643488241198645],
[0.19793241856410931, 0.47496402389104658, 0.67210120482798808],
[0.20831809991074329, 0.47764594495753138, 0.67768464127926420],
[0.21851112915266374, 0.48031903613884613, 0.68318355215395521],
[0.22853362417832179, 0.48298442309143547, 0.68859639865561306],
[0.23840374981767021, 0.48564324447499291, 0.69392174503971538],
[0.24813656129045381, 0.48829665000918793, 0.69915826062311892],
[0.25774463422604699, 0.49094579852787606, 0.70430472156255319],
[0.26723854333887287, 0.49359185603821792, 0.70936001239918656],
[0.27662723164741870, 0.49623599379203182, 0.71432312736724113],
[0.28591829913081135, 0.49887938637649693, 0.71919317146555373],
[0.29511823115030616, 0.50152320983111742, 0.72396936129192435],
[0.30423258119160934, 0.50416863979757898, 0.72865102564098749],
[0.31326611851872666, 0.50681684970882546, 0.73323760586725961],
[0.32222294855755557, 0.50946900902333325, 0.73772865601586946],
[0.33110661185727008, 0.51212628151018291, 0.74212384272432574],
[0.33992016605722242, 0.51478982359011471, 0.74642294489950112],
[0.34866625424909892, 0.51746078273732776, 0.75062585317475960],
[0.35734716235626146, 0.52014029594630340, 0.75473256915290954],
[0.36596486757755786, 0.52282948826748665, 0.75874320444132881],
[0.37452107950854691, 0.52552947141514639, 0.76265797948627689],
[0.38301727522121237, 0.52824134245025078, 0.76647722221396142],
[0.391455, 0.53096618254069106, 0.77020136648649795],
[0.39983453985475287, 0.53370505580068561, 0.77383095038135907],
[0.408158, 0.53645900821070269, 0.77736661430335163],
[0.41642487051972560, 0.53922906661875014, 0.78080909893851935],
[0.424637, 0.54201623782341179, 0.78415924305970353],
[0.43279429854983537, 0.54482150773854088, 0.78741798119371909],
[0.44089759174423909, 0.54764584063910826, 0.79058634116034776],
[0.44894718846956500, 0.55049017848725035, 0.79366544149346130],
[0.45694343789801667, 0.553355, 0.796656],
[0.46488662884779769, 0.55624252181745448, 0.79956077475020815],
[0.47277699752640640, 0.559152, 0.80237967366075713],
[0.480615, 0.56208560647068806, 0.80511463909586645],
[0.48839999018261687, 0.56504328014934946, 0.80776720108200750],
[0.49613288139898332, 0.56802611393796165, 0.81033896299516350],
[0.50381349500909278, 0.57103488111277345, 0.81283159844767450],
[0.511442, 0.57407032990579465, 0.81524684813909909],
[0.51901811498069606, 0.57713318345611586, 0.817587],
[0.52654218396146746, 0.58022413981561027, 0.819852],
[0.53401410700097252, 0.58334387200551729, 0.82204662915016424],
[0.54143387910936180, 0.586493, 0.82417097308833109],
[0.54880148543546969, 0.58967223147524506, 0.82622752950232725],
[0.556117, 0.59288208079408467, 0.828218],
[0.56338010483985346, 0.59612315043328412, 0.83014562947688120],
[0.57059105736173454, 0.59939599063930682, 0.83201145675393351],
[0.57774972630483568, 0.60270112783554319, 0.83381805772989093],
[0.58485607595429234, 0.60603906493553339, 0.83556766921821401],
[0.59191007084942671, 0.60941028167927103, 0.83726256057595205],
[0.59891167692670488, 0.61281523498948365, 0.83890503076251144],
[0.60586086255051919, 0.61625435934493700, 0.84049740545697849],
[0.61275759944420283, 0.61972806716793050, 0.84204203423834500],
[0.61960186353223035, 0.62323674922333716, 0.84354128783252247],
[0.62639363570363216, 0.62678077502665286, 0.84499755542962696],
[0.63313290250543741, 0.63036049325873755, 0.84641324207458624],
[0.63981965677422226, 0.63397623218503984, 0.84779076613372639],
[0.64645389821297305, 0.63762830007730153, 0.84913255683957500],
[0.65303563391983632, 0.64131698563586559, 0.85044105191577513],
[0.65956487887461557, 0.64504255841090885, 0.85171869528358801],
[0.666042, 0.64880526922103299, 0.85296793485115019],
[0.67246599852139666, 0.652605, 0.85419122038629114],
[0.67883794647274975, 0.65644301704516717, 0.85539100147339964],
[0.68515755094749609, 0.66031846574208042, 0.85656972555453448],
[0.69142487250328855, 0.66423187663827465, 0.85772983605467679],
[0.69763998188094323, 0.66818341299137973, 0.85887377059076619],
[0.70380296032174172, 0.672173, 0.86000395926390716],
[0.70991389987444786, 0.67620143374828512, 0.86112282303390497],
[0.71597290369471422, 0.68026816441232352, 0.86223277217509053],
[0.72198008633946187, 0.68437351375977140, 0.863336],
[0.72793557405858367, 0.68851756691041555, 0.86443550553476722],
[0.73383950508623030, 0.69270039437646958, 0.86553304408888443],
[0.739692, 0.69692205237591553, 0.86663117414392032],
[0.74549331168715405, 0.70118258313385484, 0.86773223213309036],
[0.75124352630858804, 0.705482, 0.86883853616554940],
[0.75694286294808277, 0.70982036358354161, 0.86995238500814120],
[0.76259152426316912, 0.71419763030092431, 0.87107605713475100],
[0.76818972675096409, 0.71861380434346889, 0.87221180984115287],
[0.773738, 0.72306886205750798, 0.87336187842325164],
[0.77923569252042291, 0.72756276734109926, 0.87452847541657564],
[0.78468396118517836, 0.73209547185561807, 0.875714],
[0.79008278256676323, 0.73666691522357486, 0.87691998682614058],
[0.79543244788939282, 0.74127702521228544, 0.878149],
[0.80073326456845095, 0.74592571790295714, 0.87940356390621866],
[0.80598555668332161, 0.75061289784467922, 0.88068514842145684],
[0.81118966548020044, 0.75533845819266865, 0.88199602320203063],
[0.81634594990795339, 0.76010228083003861, 0.88333822488240033],
[0.82145478719034215, 0.76490423647217998, 0.88471376321696982],
[0.82651657343842211, 0.769744, 0.88612462078432286],
[0.83153172430718247, 0.77462197428950386, 0.88757275273570302],
[0.83650067570116304, 0.77953744272999159, 0.88906008658701585],
[0.84142388453428130, 0.78449, 0.89058852205396666],
[0.84630182954984867, 0.78948071216458870, 0.89215993093030166],
[0.85113501220765075, 0.79450813366957607, 0.89377615700959623],
[0.85592395764590068, 0.79957247500789597, 0.89543901605153053],
[0.86066921572718602, 0.80467351876043380, 0.89715029579424099],
[0.86537136217889499, 0.80981103623532647, 0.89891175601506690],
[0.870031, 0.81498478729144763, 0.90072512864291188],
[0.874649, 0.82019452011301874, 0.90259211792653349],
[0.87922530406129140, 0.82543997092834331, 0.90451440066438760],
[0.88376132488885928, 0.83072086366428766, 0.906494],
[0.88825754897715459, 0.83603690952635834, 0.90853141831509021],
[0.892715, 0.84138780649211053, 0.91062937266341570],
[0.89713369290489753, 0.84677323870289278, 0.912789],
[0.90151525300375757, 0.85219287573551339, 0.91501202723495401],
[0.90586030242364080, 0.85764637173109404, 0.91729979483020008],
[0.91016977170482694, 0.86313336435277344, 0.91965386157150530],
[0.91444464199552544, 0.868653, 0.92207570393432880],
[0.91868594949125537, 0.87420629999090726, 0.92456677796947129],
[0.92289479060193247, 0.87979142338532090, 0.92712852115056033],
[0.92707232801702366, 0.88540840015658517, 0.92976235464643109],
[0.93121979789089271, 0.89105676083163055, 0.93246968613561121],
[0.93533851844178073, 0.89673600673937137, 0.93525191332074309],
[0.93943, 0.90244560593653178, 0.93811042835847735],
[0.94349545954481762, 0.90818498810926851, 0.94104662350372314],
[0.94753683296052549, 0.91395353811903701, 0.94406189839000287],
[0.95155579858134420, 0.91975058772215423, 0.94715766955288394],
[0.95555430102385108, 0.92557540477987321, 0.950335],
[0.95953448507280503, 0.931427, 0.95359653180516502],
[0.96349874056264084, 0.93730500223658786, 0.95694267893865803],
[0.96744976406748673, 0.943208, 0.96037549185446747],
[0.97139064639503980, 0.94913450271674049, 0.96389679135624073],
[0.97532500146485168, 0.95508356754184753, 0.96750862660692405],
[0.97925716523299500, 0.96105330982462955, 0.97121339432434561],
[0.98319252154411962, 0.96704154484582350, 0.97501403993995328],
[0.98713807952111032, 0.97304536610487491, 0.97891442470812751],
[0.99110361507587774, 0.97906061994758697, 0.98292007314258101],
[0.99510433502475626, 0.98508067063496141, 0.98704],
[0.999169, 0.99109250576166519, 0.99129236443372515],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
