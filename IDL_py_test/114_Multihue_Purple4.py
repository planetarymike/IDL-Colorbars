from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00030157180908251170, 0.00035448377476952339, 0.00036445593964068521],
[0.00082038790702636906, 0.0010296117138468468, 0.0010725490664366946],
[0.00152531, 0.0020131445122580963, 0.0021209773191402889],
[0.0023864388282963446, 0.0032902448584066052, 0.00350416],
[0.0033823195928713141, 0.0048519975038903438, 0.0052228762230770312],
[0.0044962119451582251, 0.0066924375660092107, 0.0072813826157317454],
[0.0057144129827268611, 0.0088073103617047135, 0.0096862160178506924],
[0.00702538, 0.011193439478264806, 0.012445588338752062],
[0.0084192335238284111, 0.013848362851384952, 0.015569039883937612],
[0.0098873886131842764, 0.016770104624822851, 0.019067223899441776],
[0.011422376250910325, 0.019957022775834329, 0.022951764020387247],
[0.013017671277487172, 0.023407702151525080, 0.027235155159834879],
[0.014667588490217876, 0.027120876275483572, 0.031930691629653805],
[0.016367204469510076, 0.031095368213783007, 0.037052412977897298],
[0.018112300336310845, 0.035330044543014027, 0.042546355053707623],
[0.019899319642944870, 0.0398238, 0.048066672722055413],
[0.021725337465583045, 0.044391562099918285, 0.05359],
[0.023588037951479565, 0.048900562432724538, 0.059120843406809641],
[0.025485698350995664, 0.053361577103758252, 0.064663309949773928],
[0.027417178088005971, 0.0577773, 0.070220922650721523],
[0.029381911783666080, 0.062149954905381326, 0.075796825849610700],
[0.031379905403186283, 0.066481590653132611, 0.081393812959682926],
[0.033411734878066826, 0.070773888498996823, 0.087014370664950630],
[0.035478546689573190, 0.075028318882209344, 0.092660714762388685],
[0.037582059997883249, 0.079246148569237756, 0.098334819459179101],
[0.039724569975278706, 0.083428466492673770, 0.10403844148758309],
[0.0418696, 0.087576205479782315, 0.10977314007607569],
[0.043984626932721101, 0.091690160674421706, 0.11554029357777729],
[0.046083012259842258, 0.095771, 0.12134111338069467],
[0.048169777934297033, 0.099819304100913497, 0.12717665559162542],
[0.050249913637194631, 0.10383552531534843, 0.13304783088478997],
[0.052328394366075316, 0.10782005071983195, 0.138955],
[0.054410178792236689, 0.11177318476835438, 0.14490004494669181],
[0.056500204959703239, 0.11569516256717061, 0.150882],
[0.058603383585089895, 0.11958615700626757, 0.15690241866592408],
[0.060724589214622947, 0.12344628516248798, 0.162961],
[0.062868649498929202, 0.12727561408762028, 0.16905770610409743],
[0.0650403, 0.13107416607562111, 0.17519306414366359],
[0.067244334799330979, 0.13484192348761012, 0.18136688341835400],
[0.069485263237630823, 0.13857883320058753, 0.18757902392622741],
[0.071767623027884198, 0.14228481073538837, 0.19382924517857550],
[0.074095800114270000, 0.14595974411075208, 0.20011720799112914],
[0.076474045552873793, 0.14960349746319915, 0.20644247605895394],
[0.078906459736216600, 0.15321591446638280, 0.21280451735558931],
[0.081396977116789476, 0.156797, 0.219203],
[0.083949351712787695, 0.16034603114207691, 0.22563632036857628],
[0.0865671, 0.16386334435666133, 0.23210455024414617],
[0.089253707011823363, 0.16734855414200767, 0.23860649175483650],
[0.092012179068437505, 0.17080144790635896, 0.24514115139843839],
[0.0948455, 0.17422181023226044, 0.25170744640956005],
[0.097756261767311336, 0.17760942549016376, 0.25830420574309987],
[0.10074699008794821, 0.18096408038828551, 0.26493017108362299],
[0.10381985323622533, 0.18428556646555525, 0.27158399789655085],
[0.10697680393022999, 0.18757368253304524, 0.27826425653576931],
[0.11021955049445289, 0.19082823706798222, 0.28496943342107400],
[0.11354955846815209, 0.19404905056326485, 0.29169793229777419],
[0.11696805379633538, 0.19723595783436182, 0.29844807558975833],
[0.12047602746761712, 0.20038881028449179, 0.30521810585636683],
[0.12407424144575899, 0.20350747812811376, 0.31200618736248936],
[0.12776323573017359, 0.20659185257194324, 0.31881040777042846],
[0.13154333637464150, 0.20964184795197438, 0.32562877996119921],
[0.13541466429260163, 0.21265740382430298, 0.33245924399208360],
[0.13937714468096213, 0.21563848700692734, 0.33929966919642030],
[0.14343051690178443, 0.21858509356912775, 0.34614785643075774],
[0.14757434467159755, 0.22149725076450616, 0.35300154047366877],
[0.15180802642079336, 0.22437501890329531, 0.35985839257966285],
[0.15613080569978927, 0.22721849315912041, 0.36671602319078400],
[0.16054178152372928, 0.23002780530502442, 0.37357198480762188],
[0.16503991856289182, 0.23280312537323034, 0.38042377502057950],
[0.16962405710111483, 0.23554466323284290, 0.387269],
[0.17429292269911093, 0.23825267007945533, 0.39410457635387197],
[0.17904513551314152, 0.24092743983045167, 0.40092833762239721],
[0.18387921923202796, 0.24356931041965968, 0.40773743495490822],
[0.18879360960663044, 0.24617866498494972, 0.41452914241735173],
[0.19378666255580115, 0.248756, 0.42130070065477138],
[0.19885666184130729, 0.25130159094025622, 0.42804932099377896],
[0.20400182631133434, 0.25381616368753807, 0.43477218968014952],
[0.20922031671811753, 0.25630022464926133, 0.44146647224443969],
[0.21451, 0.25875439660426069, 0.44812931798769123],
[0.21986966588149565, 0.26117935205884785, 0.45475786457846584],
[0.22529661128902645, 0.26357581351140519, 0.46134924275166772],
[0.23078906679914724, 0.26594455356298546, 0.46790058109887450],
[0.23634499094069811, 0.26828639486952521, 0.47440901093916382],
[0.24196231689016484, 0.27060220993180944, 0.48087167125877533],
[0.24763895674099135, 0.27289292071992283, 0.48728571370731794],
[0.25337280548691316, 0.27515949812958690, 0.49364830763767115],
[0.25916174473879583, 0.27740296126849279, 0.49995664517622657],
[0.26500364619364675, 0.27962437657150629, 0.506208],
[0.27089637487341484, 0.28182485674445690, 0.51239946397407610],
[0.27683779215010607, 0.28400555953706586, 0.518528],
[0.28282575857250203, 0.28616768634649908, 0.52459235582258568],
[0.28885813650856773, 0.28831248065395693, 0.53058844617000622],
[0.29493279261641153, 0.29044122629768954, 0.53651419533528533],
[0.30104760015545357, 0.29255524558681278, 0.54236709639641978],
[0.30720044114831330, 0.29465589726130803, 0.548145],
[0.31338920840286427, 0.29674457430458906, 0.55384464476379269],
[0.31961180740287209, 0.29882270161601549, 0.55946461043318874],
[0.32586615807468983, 0.30089173355173299, 0.56500237374841788],
[0.33215019643670196, 0.30295315134314465, 0.57045578703774180],
[0.338462, 0.305008, 0.57582278750597904],
[0.34479916988702586, 0.30705918753213651, 0.58110140121144804],
[0.35116007078834682, 0.30910687803300013, 0.58628974686125612],
[0.35754259356908530, 0.31115309275228936, 0.59138603941353796],
[0.363945, 0.31319940505638388, 0.59638859347599083],
[0.37036467854993182, 0.31524739775925725, 0.60129582649086322],
[0.37680038813436417, 0.31729866001533991, 0.60610626169742021],
[0.38325001620486932, 0.31935478419233976, 0.61081853086380866],
[0.38971170093745300, 0.32141736273903698, 0.61543137678119919],
[0.39618360766902572, 0.32348798506319293, 0.61994365551406461],
[0.40266392953550872, 0.32556823443470800, 0.62435433840145360],
[0.40915088803515887, 0.32766, 0.62866251380516358],
[0.41564273351947073, 0.32976389842592668, 0.63286738860174330],
[0.42213774561398221, 0.33188242167699933, 0.63696828941631833],
[0.42863423357134928, 0.33401678345756941, 0.64096466359727044],
[0.43513053655910883, 0.33616849181448621, 0.64485607993185823],
[0.44162502388460262, 0.33833903142342547, 0.64864222910387326],
[0.44811609515959822, 0.34052986106701216, 0.65232292389545976],
[0.45460218040722294, 0.34274241124453586, 0.65589809913618313],
[0.461082, 0.34497808192293195, 0.65936781140340195],
[0.46755326522901169, 0.34723824043757478, 0.66273223847888829],
[0.47401527711519736, 0.34952421955023533, 0.665992],
[0.480466, 0.35183731567029841, 0.66914654928479656],
[0.48690499809620841, 0.35417878724407859, 0.67219738642024474],
[0.49332990090094314, 0.35654985331571792, 0.67514484248543749],
[0.49973967749795428, 0.35895169226189566, 0.67798968505481416],
[0.50613299904473774, 0.36138544070120815, 0.68073279490904626],
[0.512509, 0.36385219257784807, 0.68337516399072873],
[0.51886510751268833, 0.36635299841792890, 0.68591789318280760],
[0.52520138168029273, 0.36888886475561977, 0.68836218992051179],
[0.531516, 0.37146075372511861, 0.690709],
[0.53780830024497894, 0.37406958281343666, 0.69296083313047419],
[0.54407660009130998, 0.376716, 0.695118],
[0.55031994262381745, 0.37940150765210190, 0.69718278399026901],
[0.55653722295603780, 0.38212621504079636, 0.69915657353527760],
[0.56272736239170507, 0.38489108634846514, 0.70104126097513786],
[0.56888930798878123, 0.38769681727957434, 0.70283872114813051],
[0.57502203212013603, 0.39054406039301054, 0.704551],
[0.58112453203327774, 0.39343342577034574, 0.70617986981919245],
[0.58719582941138115, 0.396365, 0.70772770861302325],
[0.59323496993776525, 0.39934075591383683, 0.70919661385507948],
[0.59924102286585645, 0.40235973572616857, 0.71058884039534420],
[0.60521308059655010, 0.40542286979830511, 0.711907],
[0.61115025826475411, 0.40853056878555699, 0.71315260121209212],
[0.61705169333681031, 0.41168320649694212, 0.71432895908821004],
[0.62291654522032158, 0.41488112101161245, 0.71543827844536845],
[0.62874399488784582, 0.41812461582110566, 0.71648310700178175],
[0.63453324451577675, 0.42141396098888562, 0.71746604059475971],
[0.64028351713962395, 0.42474939431911246, 0.71839],
[0.64599405632681106, 0.42813112252710067, 0.71925682634338228],
[0.65166412586799105, 0.43155932240448275, 0.72007008018517060],
[0.65729300948780622, 0.43503414197266499, 0.72083223582727585],
[0.66288, 0.43855570161875695, 0.72154607930459302],
[0.66842445193896482, 0.44212409520875123, 0.72221442499212563],
[0.67392567557436356, 0.44573939117331213, 0.72284011252345404],
[0.67938304246611658, 0.44940163356215584, 0.72342600378286370],
[0.68479593240357883, 0.45311084306352795, 0.72397497997449711],
[0.69016374382337609, 0.45686701798590107, 0.72448993877136703],
[0.69548589367498659, 0.46067, 0.72497379154654373],
[0.70076181731031961, 0.46452015103583449, 0.72542946068831693],
[0.70599096839762787, 0.46841700214377929, 0.72585987700066323],
[0.711173, 0.47236060630141236, 0.72626797718983527],
[0.71630685883880529, 0.47635086318297221, 0.72665670143747030],
[0.72139259668201971, 0.48038765508088960, 0.72702899106015773],
[0.72642955895812433, 0.48447084758309594, 0.72738778625497647],
[0.73141729049527526, 0.4886, 0.72773602393015291],
[0.73635535444624833, 0.49277581698507150, 0.72807663561957636],
[0.74124333237919760, 0.496997, 0.72841254547957968],
[0.74608082439442958, 0.50126438498632941, 0.72874666836607194],
[0.75086744926736992, 0.50557702159452567, 0.72908190798978589],
[0.75560284461788563, 0.50993493402618673, 0.72942115514715022],
[0.76028666710612414, 0.514338, 0.72976728602402097],
[0.76491859265508611, 0.51878562974745979, 0.730123],
[0.769498, 0.52327790310565059, 0.73049162093528086],
[0.77402555446536048, 0.527814, 0.73087548998125518],
[0.77850004126790939, 0.53239493432386087, 0.73127756983706249],
[0.78292153284898480, 0.53701911004361635, 0.731701],
[0.78729, 0.54168665187297949, 0.73214745862069774],
[0.79160465761614818, 0.54639724023684755, 0.73262075599642251],
[0.79586590777915689, 0.55115054448959033, 0.73312323856407391],
[0.80007339753410234, 0.55594622306863628, 0.73365758509284262],
[0.80422699069590542, 0.56078392363106533, 0.73422644605028864],
[0.80832657408460273, 0.56566328317493697, 0.73483244247872326],
[0.81237205805673163, 0.57058392814705239, 0.73547816490077311],
[0.81636337706642514, 0.57554547453876270, 0.73616617225031744],
[0.82030049025650842, 0.58054752797135756, 0.73689899082506516],
[0.82418338207990371, 0.58558968377248166, 0.73767911325712210],
[0.82801206295164664, 0.59067152704497716, 0.73850899749802790],
[0.83178656993183286, 0.595793, 0.73939106581483638],
[0.835507, 0.60095256566148547, 0.74032770379398405],
[0.83917334799960808, 0.60615088062560052, 0.74132125934982252],
[0.84278583301786936, 0.61138712240534043, 0.74237404173486665],
[0.84634457359288962, 0.61666082583214576, 0.74348832054897596],
[0.84984975135669938, 0.62197151583288734, 0.74466632474487093],
[0.85330157934942497, 0.62731870747722474, 0.74591024162758501],
[0.85670030292648991, 0.63270190602548593, 0.74722221584562520],
[0.86004620069882398, 0.63812060697774997, 0.74860434837182521],
[0.86333958550624668, 0.64357429612474493, 0.75005869547206783],
[0.86658080542424265, 0.649062, 0.75158726766023509],
[0.86977024480420651, 0.65458453394144500, 0.75319202863794743],
[0.87290832534735840, 0.66014000613976898, 0.754875],
[0.87599550721240793, 0.66572831371238839, 0.75663773122914224],
[0.87903229015705608, 0.67134889476483628, 0.75848235640505746],
[0.88201921471346811, 0.67700117806288507, 0.76041053525041624],
[0.88495686339776025, 0.68268458310788738, 0.76242398088966479],
[0.88784586195364879, 0.68839852021651526, 0.76452435289417953],
[0.89068688063031698, 0.69414239060495020, 0.76671325608855490],
[0.89348063549471335, 0.699916, 0.76899223933539895],
[0.89622788977843903, 0.70571749111924653, 0.77136279429819365],
[0.89892945525953161, 0.71154747899333448, 0.77382635418175705],
[0.90158619367951343, 0.71740491584120569, 0.77638429244976592],
[0.904199, 0.72328915878672040, 0.77903792151868922],
[0.90676889487337886, 0.72919955644278744, 0.78178849142728479],
[0.90929684420712253, 0.73513544902006389, 0.78463718848058761],
[0.91178394269202356, 0.74109616843681547, 0.78758513386699047],
[0.91423132442706190, 0.74708103842884233, 0.79063338224661850],
[0.91664018276442494, 0.75308937465818326, 0.79378292030869280],
[0.91901177200377848, 0.75912048481898486, 0.79703466529497813],
[0.92134740913560131, 0.76517366873864145, 0.80038946348563300],
[0.92364847563818986, 0.77124821847189273, 0.80384808864289670],
[0.92591641933416269, 0.77734341838511645, 0.80741124040693524],
[0.92815275631376482, 0.78345854522749492, 0.81107954263684490],
[0.93035907293421560, 0.78959286818505137, 0.81485354168820579],
[0.93253702790665183, 0.79574564891274491, 0.81873370461665684],
[0.93468835448514254, 0.80191614153881408, 0.82272041729459477],
[0.93681486277590897, 0.80810359263433351, 0.82681398242525539],
[0.93891844218942644, 0.81430724113943864, 0.83101461743492100],
[0.94100106406384065, 0.82052631823580435, 0.83532245221970192],
[0.94306478449534714, 0.82676004715261353, 0.83973752671799229],
[0.94511174742039061, 0.83300764289031171, 0.84425978827305059],
[0.94714418800623268, 0.83926831184267980, 0.84888908874178892],
[0.94916443642154447, 0.845541, 0.85362518129524645],
[0.95117492207816767, 0.85182564875375188, 0.858468],
[0.95317817846067088, 0.858121, 0.86341623999357309],
[0.95517684869399033, 0.86442551352834296, 0.86847018444938739],
[0.95717369204414504, 0.87073929803385475, 0.87362886768593351],
[0.95917159160749288, 0.87706117173013443, 0.87889148474783962],
[0.96117356352638839, 0.88339025449592989, 0.88425710092118692],
[0.96318276818336990, 0.88972564604803339, 0.88972464297559395],
[0.96520252398683459, 0.89606642216248700, 0.89529288856191302],
[0.96723632459155195, 0.90241162978567457, 0.90096045320231310],
[0.96928786073409923, 0.90876028065718328, 0.90672577409267618],
[0.97136104836650483, 0.91511134290438356, 0.91258708961544455],
[0.97346006554248554, 0.921464, 0.91854241297130179],
[0.97558940172669340, 0.927816, 0.92458949757106423],
[0.97775392517934445, 0.93416775948870368, 0.93072579058769389],
[0.97995897742499227, 0.94051678559633323, 0.93694836898073852],
[0.98221050976046975, 0.94686182987666501, 0.94325384863328265],
[0.98451528787534592, 0.95320112940399449, 0.94963825042464622],
[0.98688121286234509, 0.95953258793898855, 0.95609679354800614],
[0.989318, 0.96585360279636767, 0.96262355729343707],
[0.99183741328327757, 0.97216075183916673, 0.96921088285854162],
[0.99445663660927230, 0.97844916258569514, 0.97584819388946287],
[0.99720136605740339, 0.98471101152482421, 0.98251925350172298],
[1, 0.99093073309900637, 0.98919361564313923],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
