from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000315716750369771592, 0.000362572422555294219, 0.000371318163903625194],
[0.000866163542427767939, 0.00105071719107846604, 0.00108850310893528722],
[0.00162333137639072370, 0.00205037453330895276, 0.00214488601536206094],
[0.00255906144268207292, 0.00334534165051125721, 0.00353205618497661519],
[0.00365355675206761659, 0.00492566135566964609, 0.00524814236286302166],
[0.00489166807652266673, 0.00678450480073304173, 0.00729475183473292550],
[0.00626125471787570415, 0.00891687021649371740, 0.00967569615534188444],
[0.00775231583813239082, 0.0113189201947701337, 0.0123963415063777557],
[0.00935647625371953222, 0.0139876006909881584, 0.0154632336702193382],
[0.0110666584686474525, 0.0169204029613224984, 0.0188838619203455654],
[0.0128768620024581320, 0.0201152053833498629, 0.0226665002707942299],
[0.0147820088847890989, 0.0235701632386323065, 0.0268200949209924690],
[0.0167778321493818466, 0.0272836289389169345, 0.0313541807714383600],
[0.0188607934580530302, 0.0312540924605459389, 0.0362788169778152994],
[0.0210280211339927275, 0.0354801356991196262, 0.0415758102909382296],
[0.0232772628945768466, 0.0399603967193630019, 0.0469170787677230319],
[0.0256068494154202894, 0.0445012183277130394, 0.0522470908536156117],
[0.0280156660271197559, 0.0489829963048066738, 0.0575701676963350020],
[0.0305031306134809430, 0.0534155437094895255, 0.0628900620889232265],
[0.0330691762976004569, 0.0578017455056897764, 0.0682100488621249501],
[0.0357142378598674648, 0.0621441115960062532, 0.0735329961545327371],
[0.0384392410845147206, 0.0664448346466905981, 0.0788614222944681031],
[0.0412277648970837754, 0.0707058368875673193, 0.0841975416967320478],
[0.0439813709481240642, 0.0749288083879081634, 0.0895433022619475938],
[0.0467087361763727712, 0.0791152386635702032, 0.0949004161247672118],
[0.0494140739413729616, 0.0832664430105785058, 0.100270385140151436],
[0.0521014462340428711, 0.0873835846274232109, 0.105654522166237441],
[0.0547747803290815419, 0.0914676933441150863, 0.111053968959715560],
[0.0574378819405806443, 0.0955196815945635325, 0.116469711319365898],
[0.0600944454660178248, 0.0995403581324082742, 0.121902591977883140],
[0.0627480617932987816, 0.103530439886738462, 0.127353321639115835],
[0.0654022240612934791, 0.107490562274533047, 0.132822488478774009],
[0.0680603316997013541, 0.111421288224961779, 0.138310566365387189],
[0.0707256930239661963, 0.115323116122462849, 0.143817922010400084],
[0.0734015266217583062, 0.119196486837515353, 0.149344821218548612],
[0.0760909617365435886, 0.123041789983824534, 0.154891434379689108],
[0.0787970378288201934, 0.126859369516501647, 0.160457841319273792],
[0.0815227034752541713, 0.130649528766366346, 0.166044035605365431],
[0.0842708147489784343, 0.134412534989725579, 0.171649928394427026],
[0.0870441332097839637, 0.138148623500128520, 0.177275351885365501],
[0.0898453236202086947, 0.141858001438042558, 0.182920062440834197],
[0.0926769514920635362, 0.145540851225682388, 0.188583743426157246],
[0.0955414805573482906, 0.149197333747011718, 0.194266007809073243],
[0.0984412702475445378, 0.152827591286909648, 0.199966400557514690],
[0.101378573255717780, 0.156431750258450103, 0.205684400867622685],
[0.104355533246650617, 0.160009923742999216, 0.211419424249968180],
[0.107374182771216436, 0.163562213864241551, 0.217170824498370441],
[0.110436441432475857, 0.167088714014198558, 0.222937895562642374],
[0.113544114342480129, 0.170589510946702244, 0.228719873343982361],
[0.116698890900544805, 0.174064686751557091, 0.234515937429472632],
[0.119902343915912202, 0.177514320720715907, 0.240325212780195252],
[0.123155929090256661, 0.180938491116136690, 0.246146771385768237],
[0.126460984868507403, 0.184337276847567510, 0.251979633896620814],
[0.129818732660028913, 0.187710759067258537, 0.257822771243998661],
[0.133230277426312965, 0.191059022687529834, 0.263675106256531622],
[0.136696608626134863, 0.194382157826172991, 0.269535515281142779],
[0.140218601504537271, 0.197680261183849293, 0.275402829815145134],
[0.143797018708111818, 0.200953437356924114, 0.281275838155514157],
[0.147432512205838528, 0.204201800088544050, 0.287153287070556318],
[0.151125625492188609, 0.207425473460214394, 0.293033883498475478],
[0.154876796047288295, 0.210624593025647289, 0.298916296276686200],
[0.158686358027645968, 0.213799306888229346, 0.304799157905115359],
[0.162554545160208841, 0.216949776723084242, 0.310681066346157719],
[0.166481493812278170, 0.220076178744396445, 0.316560586863425308],
[0.170467246210068313, 0.223178704618368584, 0.322436253900921732],
[0.174511753779304002, 0.226257562321964201, 0.328306573003797508],
[0.178614880582205982, 0.229312976947380287, 0.334170022781394738],
[0.182776406826482829, 0.232345191452024535, 0.340025056912852452],
[0.186996032423353886, 0.235354467353647012, 0.345870106195138916],
[0.191273380573294738, 0.238341085370155470, 0.351703580632984514],
[0.195608001359859618, 0.241305346003579446, 0.357523871569811247],
[0.199999375333789475, 0.244247570067577968, 0.363329353858402315],
[0.204446917071371970, 0.247168099157868915, 0.369118388069706926],
[0.208949978692842986, 0.250067296064944378, 0.374889322737855912],
[0.213507853328394559, 0.252945545128443028, 0.380640496639148951],
[0.218119778520997010, 0.255803252532601388, 0.386370241102481970],
[0.222784939556930517, 0.258640846542234126, 0.392076882348402656],
[0.227502472716343940, 0.261458777678786392, 0.397758743853722951],
[0.232271468437629858, 0.264257518836072791, 0.403414148738369727],
[0.237090974390666342, 0.267037565335423777, 0.409041422170927038],
[0.241959998455119563, 0.269799434920080738, 0.414638893789111174],
[0.246877511601109767, 0.272543667688804614, 0.420204900131232129],
[0.251842450670399787, 0.275270825968813471, 0.425737787074514595],
[0.256853721057167417, 0.277981494128306472, 0.431235912276001942],
[0.261910199288059420, 0.280676278329009987, 0.436697647611629491],
[0.267010735501906293, 0.283355806219336204, 0.442121381608939268],
[0.272154155829932354, 0.286020726568940509, 0.447505521868812040],
[0.277339264677793240, 0.288671708845632313, 0.452848497471522948],
[0.282564846911073420, 0.291309442735795954, 0.458148761362369539],
[0.287829669946197075, 0.293934637609665428, 0.463404792712091840],
[0.293132485748921867, 0.296548021932984518, 0.468615099247297218],
[0.298472032742752635, 0.299150342626784138, 0.473778219546108159],
[0.303847037629730032, 0.301742364377199534, 0.478892725294287669],
[0.309256217126142374, 0.304324868897432099, 0.483957223497151034],
[0.314698279615752197, 0.306898654144148297, 0.488970358642644542],
[0.320171926723148426, 0.309464533490781901, 0.493930814811068874],
[0.325675854809817755, 0.312023334860378976, 0.498837317727040042],
[0.331208756395535597, 0.314575899820776661, 0.503688636749411223],
[0.336769321507601416, 0.317123082645061838, 0.508483586795036024],
[0.342356238960423776, 0.319665749340385996, 0.513221030192422156],
[0.347968197567888549, 0.322204776648340907, 0.517899878461510532],
[0.353603887290870556, 0.324741051020202676, 0.522519094016019148],
[0.359262000322215391, 0.327275467570439682, 0.527077691785009295],
[0.364941232111400837, 0.329808929011972063, 0.531574740750563657],
[0.370640282331071158, 0.332342344576700754, 0.536009365398706805],
[0.376357855787529616, 0.334876628924888120, 0.540380747080956070],
[0.382092663277232791, 0.337412701046977737, 0.544688125284159108],
[0.387843422391261239, 0.339951483161445023, 0.548930798806534170],
[0.393608858269684725, 0.342493899612255515, 0.553108126838130598],
[0.399387704307681335, 0.345040875769463074, 0.557219529944191438],
[0.405178702815236824, 0.347593336936426245, 0.561264490950202144],
[0.410980605632175755, 0.350152207267047488, 0.565242555727698215],
[0.416792174700254703, 0.352718408696339580, 0.569153333880195844],
[0.422612182594017338, 0.355292859887511026, 0.572996499328907394],
[0.428439413012040637, 0.357876475198638411, 0.576771790798185968],
[0.434272661230217960, 0.360470163671839372, 0.580479012200940780],
[0.440110734518649516, 0.363074828047705966, 0.584118032924539343],
[0.445952452523716569, 0.365691363807580494, 0.587688788017995289],
[0.451796647616890368, 0.368320658246066746, 0.591191278281507859],
[0.457642165211771534, 0.370963589575980690, 0.594625570259678438],
[0.463487864050892318, 0.373621026067723017, 0.597991796139989096],
[0.469332616463732088, 0.376293825224865097, 0.601290153558352136],
[0.475175308597431900, 0.378982832997491414, 0.604520905313798096],
[0.481014840621643069, 0.381688883034640602, 0.607684378994550300],
[0.486850126908931424, 0.384412795976954658, 0.610780966517967094],
[0.492680096192170958, 0.387155378790410010, 0.613811123587012952],
[0.498503691700279916, 0.389917424141793367, 0.616775369066083878],
[0.504319871273722353, 0.392699709816348830, 0.619674284279194687],
[0.510127607461084431, 0.395502998177819976, 0.622508512233657108],
[0.515925887598102317, 0.398328035670876490, 0.625278756772520761],
[0.521713713870419094, 0.401175552365740207, 0.627985781659160636],
[0.527490103361415219, 0.404046261544592722, 0.630630409597479735],
[0.533254088086329570, 0.406940859329203042, 0.633213521191290929],
[0.539004715013976288, 0.409860024348993490, 0.635736053846490901],
[0.544741046077247937, 0.412804417448643102, 0.638199000619700252],
[0.550462158173630200, 0.415774681434139981, 0.640603409017060033],
[0.556167143156898525, 0.418771440856084753, 0.642950379746911271],
[0.561855107821146560, 0.421795301828909119, 0.645241065430057104],
[0.567525173878285938, 0.424846851884570165, 0.647476669271323968],
[0.573176477930104733, 0.427926659859185154, 0.649658443696080945],
[0.578808171435956531, 0.431035275810996876, 0.651787688955357325],
[0.584419420677139034, 0.434173230967983714, 0.653865751703125997],
[0.590009406718960738, 0.437341037703389668, 0.655894023549259075],
[0.595577325371492439, 0.440539189537405063, 0.657873939591580470],
[0.601122387149966464, 0.443768161163204111, 0.659806976930355726],
[0.606643817235752447, 0.447028408495540874, 0.661694653168436453],
[0.612140855438801368, 0.450320368740099564, 0.663538524900194715],
[0.617612756162479015, 0.453644460481801570, 0.665340186192235228],
[0.623058788371563477, 0.457001083790330387, 0.667101267058758718],
[0.628478235564316590, 0.460390620341103174, 0.668823431934312818],
[0.633870395749364324, 0.463813433550030740, 0.670508378146512762],
[0.639234581428186455, 0.467269868720412596, 0.672157834391189035],
[0.644570119583960710, 0.470760253200383005, 0.673773559212233808],
[0.649876351677498465, 0.474284896549389712, 0.675357339488285802],
[0.655152633650951666, 0.477844090712262470, 0.676910988928227098],
[0.660398335940007741, 0.481438110199481739, 0.678436346577290128],
[0.665612843495203443, 0.485067212272363879, 0.679935275335419975],
[0.670795555813033184, 0.488731637131926189, 0.681409660489368463],
[0.675945886977456944, 0.492431608110308339, 0.682861408259824665],
[0.681063265712431476, 0.496167331863685390, 0.684292444364726915],
[0.686147135446058210, 0.499938998565706394, 0.685704712599727539],
[0.691196954386925855, 0.503746782100565782, 0.687100173436631656],
[0.696212195613214235, 0.507590840254907638, 0.688480802640450640],
[0.701192347175131903, 0.511471314907827934, 0.689848589905574738],
[0.706136912211207446, 0.515388332218340906, 0.691205537511392354],
[0.711045409078986834, 0.519342002809733083, 0.692553658997556165],
[0.715917371500666477, 0.523332421950306492, 0.693894977858922290],
[0.720752348724154945, 0.527359669730103398, 0.695231526260078780],
[0.725549905700104358, 0.531423811233239784, 0.696565343769214862],
[0.730309623275391950, 0.535524896705571574, 0.697898476110979549],
[0.735031098403562844, 0.539662961717451650, 0.699232973937824465],
[0.739713944372704768, 0.543838027321419615, 0.700570891619244796],
[0.744357791051270756, 0.548050100204699353, 0.701914286048191616],
[0.748962285152309337, 0.552299172836432262, 0.703265215463843463],
[0.753527090516575959, 0.556585223609637247, 0.704625738289827219],
[0.758051888415010810, 0.560908216977909491, 0.705997911986889770],
[0.762536377871047333, 0.565268103586913817, 0.707383791918942295],
[0.766980276003205064, 0.569664820400785144, 0.708785430231336111],
[0.771383318388439210, 0.574098290823538471, 0.710204874740151593],
[0.775745259446680380, 0.578568424815668836, 0.711644167831248953],
[0.780065872847035879, 0.583075119006105202, 0.713105345367760934],
[0.784344951936075452, 0.587618256799721461, 0.714590435604688823],
[0.788582310188654656, 0.592197708480638796, 0.716101458109228317],
[0.792777781681674343, 0.596813331311550566, 0.717640422685423163],
[0.796931221591251293, 0.601464969629316393, 0.719209328301747441],
[0.801042506713650071, 0.606152454937101237, 0.720810162020196543],
[0.805111536010425399, 0.610875605993331572, 0.722444897925488050],
[0.809138231178159861, 0.615634228897741997, 0.724115496052961216],
[0.813122537243158860, 0.620428117174801508, 0.725823901313799369],
[0.817064423181506738, 0.625257051854821388, 0.727572042416223530],
[0.820963882564819336, 0.630120801553010756, 0.729361830781312226],
[0.824820934232046277, 0.635019122546797932, 0.731195159452168730],
[0.828635622987663356, 0.639951758851679986, 0.733073901995170751],
[0.832408020326555254, 0.644918442295907446, 0.734999911392095862],
[0.836138225185922623, 0.649918892594263831, 0.736975018921956160],
[0.839826364724455932, 0.654952817421229239, 0.739001033031424837],
[0.843472595129110436, 0.660019912483770566, 0.741079738192787052],
[0.847077102449692032, 0.665119861594029582, 0.743212893748400494],
[0.850640103461543062, 0.670252336742124810, 0.745402232740692838],
[0.854161846556550253, 0.675416998169305227, 0.747649460726777404],
[0.857642612662720127, 0.680613494441648759, 0.749956254576802484],
[0.861082716192551168, 0.685841462524489187, 0.752324261255191584],
[0.864482506020456287, 0.691100527857718916, 0.754755096583958451],
[0.867842366489465444, 0.696390304432103036, 0.757250343987296626],
[0.871162718447495377, 0.701710394866688958, 0.759811553216660274],
[0.874444020313493775, 0.707060390487352142, 0.762440239055530489],
[0.877686769173779080, 0.712439871406504999, 0.765137880003050941],
[0.880891501909029095, 0.717848406603888711, 0.767905916935663790],
[0.884058796352394038, 0.723285554008356701, 0.770745751745809060],
[0.887189272479347535, 0.728750860580445914, 0.773658745956650184],
[0.890283593630042946, 0.734243862395468572, 0.776646219311661778],
[0.893342467765130044, 0.739764084726736937, 0.779709448337737587],
[0.896366648756186879, 0.745311042128440349, 0.782849664880260643],
[0.899356937712272098, 0.750884238517520508, 0.786068054608309752],
[0.902314184344432446, 0.756483167253748756, 0.789365755487826726],
[0.905239288370481621, 0.762107311217001815, 0.792743856220164522],
[0.908133200962915832, 0.767756142880507308, 0.796203394642935436],
[0.910996926243550220, 0.773429124378542498, 0.799745356089448300],
[0.913831522829338994, 0.779125707566738379, 0.803370671702292483],
[0.916638105434876671, 0.784845334072760803, 0.807080216695733155],
[0.919417846538459704, 0.790587435334627386, 0.810874808560470894],
[0.922171978120153280, 0.796351432623379818, 0.814755205203015476],
[0.924901793482421741, 0.802136737046090453, 0.818722103010311675],
[0.927608649166287158, 0.807942749524352299, 0.822776134828289818],
[0.930293966979249820, 0.813768860742316691, 0.826917867840626819],
[0.932959236154949467, 0.819614451057079196, 0.831147801331054259],
[0.935606015669571134, 0.825478890362567053, 0.835466364308905529],
[0.938235936746139254, 0.831361537896054936, 0.839873912973081893],
[0.940850705585604463, 0.837261741973935436, 0.844370727983951519],
[0.943452106373696364, 0.843178839640074340, 0.848957011505571235],
[0.946042004625220145, 0.849112156206007884, 0.853632883971572220],
[0.948622350944145265, 0.855061004656833434, 0.858398380516452342],
[0.951195185299333112, 0.861024684889754477, 0.863253446999032281],
[0.953762641944369771, 0.867002482742995184, 0.868197935525262032],
[0.956326955147856705, 0.872993668760622676, 0.873231599351690590],
[0.958890465951691140, 0.878997496622289320, 0.878354087016364526],
[0.961455630244716697, 0.885013201144375761, 0.883564935497061832],
[0.964025028535871020, 0.891039995727688550, 0.888863562132402918],
[0.966601377947100882, 0.897077069082742984, 0.894249254951417716],
[0.969187547141370342, 0.903123581000233822, 0.899721160929212949],
[0.971786575185987656, 0.909178656841458599, 0.905278271500793541],
[0.974401695777343480, 0.915241380284264827, 0.910919404389766041],
[0.977036368905275565, 0.921310783646359099, 0.916643180389802858],
[0.979694323063831418, 0.927385834769709483, 0.922447993081117357],
[0.982379612790852508, 0.933465418897340249, 0.928331968403498742],
[0.985096699155935895, 0.939548313035642235, 0.934292909224661017],
[0.987850565841272288, 0.945633148628731601, 0.940328216908237757],
[0.990646892852981797, 0.951718355246564340, 0.946434776070032790],
[0.993492328653788781, 0.957802071730902926, 0.952608777187648026],
[0.996394942166148989, 0.963881997634639220, 0.958845426937119050],
[0.999365034180359158, 0.969955124858188245, 0.965138436792914445],
[1.00000000000000000, 0.976017197218049470, 0.971479016230358927],
[1.00000000000000000, 0.982061426195842135, 0.977853534454650286],
[1.00000000000000000, 0.988074395418449769, 0.984236242370808312],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
