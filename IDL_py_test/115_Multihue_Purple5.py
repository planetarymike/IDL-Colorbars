from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00039725904984551586, 0.00032610177144854066, 0.00027537405440310647],
[0.0011914652702914275, 0.00091901327048958894, 0.00073311652537016731],
[0.0023858782651068030, 0.0017557354790271728, 0.0013440784055361243],
[0.0039796855825179681, 0.0028122727077491525, 0.0020813849381156953],
[0.0059773030330946848, 0.0040715435495731331, 0.0029271579547607996],
[0.0083857229464173073, 0.0055200814269687048, 0.0038685709353531391],
[0.011213439918693608, 0.0071466241270622287, 0.0048960811932096887],
[0.014469911716980113, 0.0089413847064989324, 0.0060024803814572609],
[0.018165249933329665, 0.010895628856308461, 0.0071823249636047285],
[0.022310024640499509, 0.013001410223251081, 0.0084315679370547455],
[0.026915131583985424, 0.015251395187640349, 0.0097473073901243896],
[0.031991696329840932, 0.017638741952137223, 0.011127607680013618],
[0.037551001551765550, 0.020157014420462145, 0.012571368223631679],
[0.043483656772826749, 0.0228001, 0.014078224882532925],
[0.049404936656383548, 0.025562259499268023, 0.015648474478041713],
[0.055306060290234195, 0.028437898498356849, 0.017283016232465691],
[0.061190780447497435, 0.031421733748955016, 0.018983305932210565],
[0.067062229432415771, 0.034508675817022202, 0.020751319882168610],
[0.072923029783545562, 0.0376938, 0.022589526557908676],
[0.078775380397686195, 0.040961771314934996, 0.024500864427698974],
[0.084621124478564180, 0.044172630964208544, 0.026488724807539211],
[0.090461803821785758, 0.0473197, 0.028556938888544516],
[0.096298702674314923, 0.050405589668050581, 0.030709768274553243],
[0.10213288353216957, 0.053432757793122503, 0.032951898512800636],
[0.10796521662805439, 0.056403424571183768, 0.0352884],
[0.113796, 0.0593197, 0.037724902388950994],
[0.11962700211851263, 0.062183388540228639, 0.040267242863066884],
[0.12545743491513472, 0.064996422071045529, 0.042838315639827006],
[0.131288, 0.0677605, 0.045424583300390460],
[0.137119, 0.070477125839354837, 0.048032421895725534],
[0.14295033931588916, 0.073147946994117835, 0.050665246225044418],
[0.148782, 0.075774396633448427, 0.0533263],
[0.15461458760981670, 0.078357887420267475, 0.0560188],
[0.16044728584184889, 0.080899782804401077, 0.058745598823346311],
[0.16628015763490164, 0.083401404225647319, 0.061509661960250601],
[0.17211297425548372, 0.085864037490118755, 0.064313713773492959],
[0.17794545524632616, 0.088288938439481240, 0.067160389919203617],
[0.18377727257288398, 0.090677338012398245, 0.070052217147459073],
[0.18960805429463479, 0.093030446781005888, 0.072991617609575815],
[0.19543738782516890, 0.095349459031773109, 0.075980912739317869],
[0.20126482283521385, 0.097635556449042621, 0.079022326765235906],
[0.20708987384465794, 0.0998899, 0.082118],
[0.21291202254292241, 0.10211369021537498, 0.0852699],
[0.218731, 0.10430805544280516, 0.088480131428142011],
[0.22454538789745604, 0.106474, 0.091750425029866939],
[0.230355, 0.10861319355484580, 0.095082602762043916],
[0.23616018991883980, 0.110726, 0.098478363466162899],
[0.241959, 0.112815, 0.10193932590998167],
[0.24775128799556428, 0.11487942889273023, 0.10546703040123456],
[0.25353623969450534, 0.11692182608722884, 0.10906294022325755],
[0.259313, 0.11894303771347151, 0.112728],
[0.26508134577412140, 0.12094427337142424, 0.11646485127747569],
[0.27084000006761028, 0.12292675549142373, 0.120273],
[0.27658835769929968, 0.12489172045659550, 0.124155],
[0.28232562363917374, 0.12684041961684930, 0.12811153752578908],
[0.28805098619484404, 0.12877412019849172, 0.13214323301073522],
[0.29376361767730491, 0.130694, 0.13625130533740845],
[0.29946267502783486, 0.13260167866400094, 0.14043663329477579],
[0.30514730041153343, 0.13449815716366295, 0.14470002422359235],
[0.31081662178251945, 0.13638487944325223, 0.14904221388962813],
[0.31646975342538675, 0.13826320227429684, 0.15346386622499508],
[0.32210579647716159, 0.140135, 0.15796557294383368],
[0.327724, 0.14200017321291039, 0.16254785303918431],
[0.33332295864403400, 0.14386163197714202, 0.16721115216842619],
[0.338902, 0.14572031276088346, 0.17195584193520449],
[0.34446067339883235, 0.147578, 0.17678221907627065],
[0.34999736525689978, 0.14943517716485777, 0.18169050456215163],
[0.35551132695278503, 0.15129432737390225, 0.18668084262100684],
[0.36100158132674404, 0.153157, 0.19175329969544327],
[0.36646714196452934, 0.15502362117504637, 0.19690786334244553],
[0.37190701369287227, 0.15689684198346240, 0.20214444108690799],
[0.37732019308538822, 0.15877785884933113, 0.20746285923957031],
[0.38270566898117175, 0.16066825214518787, 0.21286286169042029],
[0.38806242301823490, 0.16256961734895972, 0.21834410868885862],
[0.39338943018390460, 0.16448356397133257, 0.22390617562212667],
[0.39868565938421047, 0.16641171436307992, 0.22954855180364408],
[0.40395007403425726, 0.16835570240133019, 0.23527063928304631],
[0.40918163267151397, 0.17031717205414559, 0.241072],
[0.41437928959391901, 0.17229777582319689, 0.24695111312223694],
[0.41954199552464749, 0.17429917306483014, 0.25290785709423408],
[0.42466869830536147, 0.17632302819033671, 0.258941],
[0.429758, 0.17837100874685175, 0.26504956796635121],
[0.43480987574877422, 0.18044478338091227, 0.271232],
[0.43982223836029816, 0.18254601968740436, 0.27748810545698394],
[0.44479437533310606, 0.18467638194731861, 0.28381553036992624],
[0.44972523161856320, 0.18683752875850071, 0.29021318786654715],
[0.45461375414049460, 0.18903111056432043, 0.29667955518237710],
[0.45945889273510981, 0.19125876708599435, 0.30321301402003498],
[0.46426, 0.19352212466507593, 0.309812],
[0.46901483798023485, 0.195823, 0.31647425549244768],
[0.47372356791291298, 0.19816236494877360, 0.32319832459963083],
[0.478385, 0.20054240841471888, 0.329982],
[0.482997, 0.20296446864483247, 0.33682336614835257],
[0.48756047607091962, 0.20543006263114555, 0.34372006042233894],
[0.49207298437420050, 0.20794067661804361, 0.35066986457203381],
[0.49653393935558549, 0.21049776306315954, 0.35767041091828827],
[0.50094236661569846, 0.21310273758741272, 0.36471924296336194],
[0.50529730654561234, 0.21575697592681459, 0.37181381719966394],
[0.50959781578328001, 0.218462, 0.37895150515210729],
[0.51384296872088275, 0.22121852939822179, 0.38612959565737887],
[0.51803185906306393, 0.22402836943107574, 0.39334529738248425],
[0.52216360143581109, 0.22689251720873521, 0.40059574158394390],
[0.52623733304554521, 0.22981210430723309, 0.40787798510799683],
[0.53025221538771172, 0.23278820491066693, 0.41518901363111049],
[0.53420743600394860, 0.23582183315029137, 0.422526],
[0.53810221028662997, 0.23891394055266207, 0.42988503364129760],
[0.541936, 0.24206541360957223, 0.43726367311769770],
[0.54570743182114989, 0.24527707148198241, 0.44465840169061927],
[0.54941646598376070, 0.24854966384962218, 0.45206590601780089],
[0.55306223154720413, 0.25188386891723474, 0.45948282589747230],
[0.556644, 0.25528029158770910, 0.46690575907738113],
[0.56016152945284003, 0.25873946181151791, 0.47433126625788130],
[0.56361394908298390, 0.26226183312100509, 0.48175587627816280],
[0.56700087887195549, 0.26584778135711384, 0.48917609147359037],
[0.57032187291610537, 0.26949760359517644, 0.49658839319108278],
[0.57357653333542635, 0.27321151727535714, 0.50398924744843931],
[0.57676451243257754, 0.27698965954229682, 0.511375],
[0.579886, 0.28083208679742194, 0.51874243585059587],
[0.58293929979199643, 0.28473877446634111, 0.52608767802727085],
[0.58592568308889970, 0.28870961698263392, 0.53340730088078392],
[0.58884453945901860, 0.29274442798829931, 0.54069778260910029],
[0.59169580460008142, 0.29684294075006989, 0.54795562215780158],
[0.59447947732053275, 0.30100480878975727, 0.55517734542018671],
[0.59719562163126128, 0.30522960672582233, 0.56235951143990592],
[0.59984436880079128, 0.30951683132237301, 0.56949871859613810],
[0.60242591936636725, 0.31386590274089260, 0.57659161075111032],
[0.604941, 0.31827616598911201, 0.58363488333969959],
[0.607389, 0.32274689256062933, 0.590625],
[0.60977047655779126, 0.327277, 0.59755964539098361],
[0.61208669870995980, 0.33186646519207697, 0.60443483717879565],
[0.61433783227634131, 0.33651350394705176, 0.61124782550332379],
[0.61652453216240832, 0.34121739590539390, 0.61799565157499947],
[0.61864753470675005, 0.34597707571967251, 0.62467544238212624],
[0.62070765904428960, 0.35079141792312340, 0.63128441582485162],
[0.62270580834995115, 0.35565923966772989, 0.63781988563982239],
[0.62464297095407850, 0.36057930357902362, 0.64427926609955433],
[0.62652022132102558, 0.36555032071641152, 0.65066007647152935],
[0.62833872088234466, 0.37057095362764236, 0.65695994522312417],
[0.63009971871622683, 0.37563981948583486, 0.663177],
[0.63180455206490860, 0.38075549329742647, 0.66930794108348213],
[0.63345464668204232, 0.38591651116932785, 0.67535190516537025],
[0.63505151700219009, 0.39112137362361704, 0.68130660801660758],
[0.63659676612491767, 0.39636854894815343, 0.68717027745676151],
[0.63809208560623953, 0.40165647657164250, 0.69294126976929837],
[0.639539, 0.40698357045184197, 0.69861807184071567],
[0.64094014149632606, 0.41234822246583208, 0.70419930297965938],
[0.64229669859009486, 0.41774880579155599, 0.70968371641399119],
[0.64361096554203323, 0.42318367827013409, 0.71507020046514824],
[0.64488506585905758, 0.428651, 0.72035777940054213],
[0.64612120585019594, 0.43414966532492161, 0.725546],
[0.64732167290044163, 0.43967744869119940, 0.73063300160212397],
[0.64848883350966480, 0.44523286522419586, 0.73561937634780394],
[0.64962513109388753, 0.45081424515683494, 0.74050430843913673],
[0.65073308354692549, 0.45641992261762304, 0.74528750360840068],
[0.65181528056121396, 0.462048, 0.74996880209264283],
[0.65287438070741377, 0.46769754383858370, 0.75454817736052782],
[0.65391310827331151, 0.47336620160558668, 0.75902573456760458],
[0.65493424986343629, 0.47905259038929421, 0.76340170875092472],
[0.65594065076180508, 0.48475510648201398, 0.76767646277473511],
[0.65693521106123576, 0.490472, 0.77185048503965115],
[0.65792088156377859, 0.49620220951275446, 0.775924],
[0.65890065945790877, 0.50194369975300945, 0.77989890028118480],
[0.65987758377936290, 0.50769512827873409, 0.78377487407606339],
[0.66085473066367795, 0.51345501521087178, 0.78755327172626621],
[0.66183520839978793, 0.51922191156963138, 0.791235],
[0.66282215229532671, 0.524994, 0.794822],
[0.66381871936559356, 0.53077110157319718, 0.79831428596929810],
[0.66482808285949679, 0.53655066696268139, 0.80171418076555368],
[0.66585342663712455, 0.54233178816389083, 0.80502291097180356],
[0.66689793941495024, 0.54811319458974139, 0.80824205214572031],
[0.66796480889594478, 0.55389365524442047, 0.81137326855308844],
[0.66905721580324851, 0.55967197974336957, 0.81441830914071200],
[0.67017832783722275, 0.56544701921487162, 0.81737900345832648],
[0.671331, 0.57121766708563770, 0.82025725754298262],
[0.67251923634785626, 0.57698285975307262, 0.82305504977889499],
[0.67374524807996339, 0.58274157714721653, 0.82577442674533386],
[0.675012, 0.58849284318560602, 0.82841749906458151],
[0.67632365243317050, 0.594236, 0.830986],
[0.67768201699238506, 0.59996933881050574, 0.83348346764544434],
[0.67909038242464503, 0.60569283883540159, 0.83591086822545613],
[0.68055159289698586, 0.61140542859999569, 0.83827096466751105],
[0.68206842549408186, 0.61710635528934687, 0.84056612630391270],
[0.68364358470466524, 0.62279491076468618, 0.84279876220274885],
[0.68528, 0.62847, 0.84497131730547226],
[0.68697930623301884, 0.634132, 0.84708626863982050],
[0.68874486777083621, 0.63977993420639356, 0.84914612161467806],
[0.69057874490223736, 0.64541280886073704, 0.85115340640289205],
[0.69248320402302765, 0.65103043266244642, 0.85311067441741273],
[0.69446041073052200, 0.65663235912785656, 0.85502049488556975],
[0.696512, 0.66221818371952435, 0.85688545152570361],
[0.69864120355247295, 0.66778754322710410, 0.85870813932981371],
[0.70084858545079609, 0.67334011510386727, 0.86049116145535975],
[0.70313630089832435, 0.67887561676303210, 0.86223712622883997],
[0.70550596328761484, 0.684394, 0.86394864426327767],
[0.70795906848363899, 0.68989447441003671, 0.86562832569130166],
[0.71049699335367234, 0.69537745820854091, 0.86727877751506111],
[0.71312099468762735, 0.70084262578543943, 0.86890260107383332],
[0.71583220850816864, 0.70628988266951409, 0.87050238962979343],
[0.71863164976734606, 0.71171916950281788, 0.87208072607208043],
[0.72152, 0.71713046116297474, 0.87364018073900784],
[0.72449866989287015, 0.72252376587453038, 0.87518330935794997],
[0.72756767585677429, 0.72789912431243142, 0.876713],
[0.73072776542529239, 0.73325660870061904, 0.87823072676410185],
[0.73397935662833946, 0.73859632190855440, 0.87974003704278336],
[0.73732275222531862, 0.74391839654841330, 0.88124306094626703],
[0.74075814181174404, 0.74922299407551640, 0.88274225430565456],
[0.74428560420265966, 0.75451030389451201, 0.88424004840059223],
[0.74790511007105365, 0.75978054247365223, 0.88573884869439357],
[0.75161652481819785, 0.76503395246946593, 0.88724103367745222],
[0.75541961165193072, 0.77027080186400276, 0.88874895381757491],
[0.75931403484816629, 0.77549138311675325, 0.89026493061597889],
[0.76329936317029412, 0.78069601233330699, 0.89179125576783125],
[0.767375, 0.78588502845271013, 0.89333019042640782],
[0.77154055409962252, 0.79105879245550914, 0.89488396457019204],
[0.77579510914210270, 0.79621768659439807, 0.89645477647257687],
[0.78013796171281213, 0.80136211364942644, 0.898045],
[0.784568, 0.80649249620973962, 0.89965614565837659],
[0.78908507117895754, 0.81160927598388533, 0.90129093763093759],
[0.79368740494150580, 0.81671291314082217, 0.90295123640590203],
[0.79837419752889149, 0.82180388568390061, 0.90463907739999272],
[0.80314432528140045, 0.82688268886025595, 0.90635646333941588],
[0.80799660625737968, 0.83194983460833027, 0.90810536448384682],
[0.81292980370470302, 0.837006, 0.909888],
[0.81794262938725881, 0.84205128200635981, 0.91170543331063503],
[0.82303374674092400, 0.84708668661422570, 0.91356],
[0.82820177383244375, 0.85211263892603950, 0.91545441321076448],
[0.833445, 0.85712972762045869, 0.91738933995994398],
[0.83876281879535264, 0.86213855575692566, 0.91936695101474553],
[0.84415286924190391, 0.86713974060632981, 0.92138900736923102],
[0.84961389862268077, 0.87213391356367143, 0.92345724482855685],
[0.85514433350058183, 0.87712172015425238, 0.92557337590833688],
[0.860743, 0.88210382014768141, 0.92773909207728733],
[0.86640695871727180, 0.88708088779750882, 0.929956],
[0.87213583602391165, 0.89205361222901225, 0.93222595673078990],
[0.87792749207590948, 0.89702269800383594, 0.93455040937133616],
[0.88378018498522781, 0.90198886589845595, 0.93693106366537016],
[0.88969213523365653, 0.90695285394475489, 0.93936955739175698],
[0.89566152202357985, 0.91191541879643978, 0.94186753340831386],
[0.90168647813557967, 0.91687733750675438, 0.94442664782628782],
[0.90776508288434910, 0.92183940983381330, 0.94704858020123417],
[0.91389535260435462, 0.92680246123474952, 0.94973504640812167],
[0.92007522785794404, 0.93176734677644513, 0.95248781515557479],
[0.92630255619320046, 0.93673495629207881, 0.95530872953570001],
[0.93257506870389262, 0.94170622127162906, 0.95819973570466199],
[0.93889034770868574, 0.94668212423180942, 0.96116292193222119],
[0.94524578128684766, 0.95166371174390096, 0.96420057320123764],
[0.951638, 0.95665211305981790, 0.96731524999287399],
[0.95806526684399873, 0.96164856769175688, 0.97050990637725631],
[0.96452234787202029, 0.96665446810707156, 0.97378807552767788],
[0.97100523494833146, 0.97167142974308829, 0.97715417907476609],
[0.97750820501738434, 0.97670141502389030, 0.98061408527530147],
[0.98402341644357450, 0.98174697816026801, 0.98417623307928726],
[0.99053879189842975, 0.986812, 0.98785430595139989],
[0.99703134874468324, 0.991903, 0.99167577440631216],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
