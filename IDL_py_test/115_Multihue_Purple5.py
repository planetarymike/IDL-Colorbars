from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000433824793194692842, 0.000328056304393782225, 0.000259842444939181619],
[0.00130303109709709714, 0.000922249197509717009, 0.000685285964696578801],
[0.00260937723015786322, 0.00175905608884322526, 0.00125000546421754418],
[0.00435170070819914344, 0.00281364329172660056, 0.00192825552479022389],
[0.00653458882740708905, 0.00406820960652913392, 0.00270299444251662470],
[0.00916540210344094636, 0.00550865525308211635, 0.00356211953186401408],
[0.0122530819438208573, 0.00712315208849407817, 0.00449675567281383748],
[0.0158075574634608390, 0.00890140247223607066, 0.00550032779542182319],
[0.0198394077263350996, 0.0108342086958537389, 0.00656800104373055776],
[0.0243596500416785565, 0.0129132028000470498, 0.00769631714772615883],
[0.0293795971028888298, 0.0151306673621263918, 0.00888294538882691658],
[0.0349107546612740932, 0.0174794115780089534, 0.0101265051606635771],
[0.0409542061257700887, 0.0199526827954742206, 0.0114264356844523615],
[0.0471060496912388063, 0.0225441017614348635, 0.0127828981391920702],
[0.0532300570184498847, 0.0252476142893880706, 0.0141967008839167467],
[0.0593308290367027050, 0.0280574546268793114, 0.0156692416395802780],
[0.0654121800844526813, 0.0309681173629117734, 0.0172024624615697078],
[0.0714772876965242276, 0.0339743356978303226, 0.0187988145876376890],
[0.0775288071898021514, 0.0370710645376409673, 0.0204612310722607320],
[0.0835689607175061355, 0.0402534673027613726, 0.0221931056778111244],
[0.0895996074583554347, 0.0434012423483673762, 0.0239982768806419541],
[0.0956222996336994757, 0.0464804023617211640, 0.0258810161244582386],
[0.101638327719012628, 0.0494966876499347355, 0.0278460196508665929],
[0.107648757305509296, 0.0524526168859252920, 0.0298984033814749354],
[0.113654459430780397, 0.0553505161512887270, 0.0320437004330173456],
[0.119656135744399317, 0.0581925466673396327, 0.0342878609273081642],
[0.125654339547303484, 0.0609807280916970992, 0.0366372538186388527],
[0.131649493504149784, 0.0637169582344175867, 0.0390986705076203783],
[0.137641904650089158, 0.0664030298591154200, 0.0416481138470250686],
[0.143631777179942133, 0.0690406450925442339, 0.0442161857465723715],
[0.149619223406482205, 0.0716314278580376107, 0.0468157702736730699],
[0.155604273196876225, 0.0741769346651167949, 0.0494501081303624565],
[0.161586882136229959, 0.0766786640230989469, 0.0521222869535432273],
[0.167566938620264200, 0.0791380646960543888, 0.0548352498128775109],
[0.173544270042211679, 0.0815565429766279548, 0.0575918027713810746],
[0.179518648209724130, 0.0839354691245492446, 0.0603946216627765445],
[0.185489794104167438, 0.0862761830902741278, 0.0632462582088871850],
[0.191457382075856664, 0.0885799996237253140, 0.0661491455754111557],
[0.197421043553534348, 0.0908482128514723208, 0.0691056034441920874],
[0.203380370333986593, 0.0930821003921109280, 0.0721178426637091863],
[0.209334917507517260, 0.0952829270684465990, 0.0751879695262479275],
[0.215284206066631345, 0.0974519482658468550, 0.0783179897095446775],
[0.221227725238346273, 0.0995904129784782044, 0.0815098119121708264],
[0.227164934574793087, 0.101699566578715928, 0.0847652512051736140],
[0.233095265831941845, 0.103780653339655471, 0.0880860321172275140],
[0.239018124662258136, 0.105834918736092964, 0.0914737914665115226],
[0.244932892143685799, 0.107863611545503418, 0.0949300809494987852],
[0.250838926164475617, 0.109867985767248849, 0.0984563694946678225],
[0.256735562680932838, 0.111849302375447990, 0.102054045387631770],
[0.262622116863072130, 0.113808830918510101, 0.105724418173227114],
[0.268497884141398857, 0.115747850976250122, 0.109468720339592318],
[0.274362141166492657, 0.117667653483690793, 0.113288108789088376],
[0.280214146691772636, 0.119569541929075457, 0.117183666101001643],
[0.286053142388681902, 0.121454833432239478, 0.121156401591255541],
[0.291878353602555873, 0.123324859708279527, 0.125207252174782985],
[0.297688990056590941, 0.125180967920397262, 0.129337083036716038],
[0.303484246510587807, 0.127024521424868392, 0.133546688119128454],
[0.309263303380514110, 0.128856900410257935, 0.137836790430656497],
[0.315025327324365445, 0.130679502432291483, 0.142208042186918820],
[0.320769471799312478, 0.132493742845159551, 0.146661024790230299],
[0.326494877594715793, 0.134301055129472019, 0.151196248657665455],
[0.332200673345187381, 0.136102891116623492, 0.155814152907024411],
[0.337885976027579082, 0.137900721108904445, 0.160515104910724432],
[0.343549891445476929, 0.139696033894368354, 0.165299399728062013],
[0.349191514704538630, 0.141490336655169885, 0.170167259426654199],
[0.354809930681777519, 0.143285154767895523, 0.175118832304181543],
[0.360404214491726826, 0.145082031494221886, 0.180154192021842269],
[0.365973431952222483, 0.146882527560164067, 0.185273336661134436],
[0.371516640052424685, 0.148688220622110290, 0.190476187715774708],
[0.377032887425531982, 0.150500704617879732, 0.195762589030709255],
[0.382521214828570932, 0.152321589001089941, 0.201132305700260305],
[0.387980655631503080, 0.154152497857280163, 0.206585022937542995],
[0.393410236317841555, 0.155995068900396133, 0.212120344927306470],
[0.398808976998861309, 0.157850952348522588, 0.217737793674370295],
[0.404175891943438392, 0.159721809678038146, 0.223436807859807129],
[0.409509990125495438, 0.161609312255727944, 0.229216741716967598],
[0.414810275790961025, 0.163515139848825930, 0.235076863939382152],
[0.420075749046120162, 0.165440979013417339, 0.241016356632461792],
[0.425305406469179692, 0.167388521362166392, 0.247034314320811188],
[0.430498241746834709, 0.169359461712905363, 0.253129743022811993],
[0.435653246337584232, 0.171355496120237039, 0.259301559403956883],
[0.440769410163502518, 0.173378319792978991, 0.265548590020230513],
[0.445845722332143091, 0.175429624900949072, 0.271869570662587989],
[0.450881171890200105, 0.177511098275342311, 0.278263145813343660],
[0.455874748610531178, 0.179624419007676506, 0.284727868224985803],
[0.460825443814077695, 0.181771255953064481, 0.291262198631630997],
[0.465732251228194338, 0.183953265144324196, 0.297864505602964680],
[0.470594167882832093, 0.186172087124221675, 0.304533065550158244],
[0.475410195045965100, 0.188429344203888932, 0.311266062892810558],
[0.480179339199595934, 0.190726637656202347, 0.318061590395525895],
[0.484900613057587415, 0.193065544853611964, 0.324917649682236020],
[0.489573036626498814, 0.195447616360583554, 0.331832151935856967],
[0.494195638310519769, 0.197874372991434344, 0.338802918790281127],
[0.498767456061481262, 0.200347302844904707, 0.345827683421112531],
[0.503287538574833215, 0.202867858327304862, 0.352904091840889167],
[0.507754946532342433, 0.205437453176502360, 0.360029704403854012],
[0.512168753892143558, 0.208057459499349506, 0.367201997524590540],
[0.516528049226624986, 0.210729204835412631, 0.374418365614082982],
[0.520831937108486631, 0.213453969260018028, 0.381676123235944464],
[0.525079539545116436, 0.216232982539710905, 0.388972507484709962],
[0.529269997461282449, 0.219067421353175806, 0.396304680587219849],
[0.533402472229908886, 0.221958406590553714, 0.403669732727203356],
[0.537476147250518066, 0.224907000743855778, 0.411064685092236814],
[0.541490229574695725, 0.227914205400848502, 0.418486493141295546],
[0.545443951577695430, 0.230980958854380358, 0.425932050090123693],
[0.549336572675062085, 0.234108133838596022, 0.433398190610657930],
[0.553167381082888654, 0.237296535402920117, 0.440881694739731988],
[0.556935695620053739, 0.240546898934001940, 0.448379291991272078],
[0.560640867550518340, 0.243859888335098085, 0.455887665665166642],
[0.564282282463447360, 0.247236094371567072, 0.463403457345013925],
[0.567859362188663064, 0.250676033190292580, 0.470923271575916125],
[0.571371566744588111, 0.254180145019980874, 0.478443680712531572],
[0.574818396315571300, 0.257748793058325709, 0.485961229926645311],
[0.578199393255144800, 0.261382262551102584, 0.493472442362565100],
[0.581514144111461073, 0.265080760067266885, 0.500973824427795145],
[0.584762281670836215, 0.268844412973169522, 0.508461871205582838],
[0.587943487015015642, 0.272673269108003768, 0.515933071975130164],
[0.591057491587452688, 0.276567296661656248, 0.523383915824547241],
[0.594104079263608309, 0.280526384255142480, 0.530810897340938781],
[0.597083088419934183, 0.284550341222914949, 0.538210522361419308],
[0.599994413995960207, 0.288638898095385399, 0.545579313768307039],
[0.602838009543579689, 0.292791707279152602, 0.552913817311316502],
[0.605613889257377136, 0.297008343931587260, 0.560210607439196373],
[0.608322129979569359, 0.301288307025616486, 0.567466293122955046],
[0.610962873172909760, 0.305631020599800685, 0.574677523652678324],
[0.613536326854648317, 0.310035835188099740, 0.581840994389785315],
[0.616042767484455189, 0.314502029423041562, 0.588953452456621451],
[0.618482541799015184, 0.319028811805423085, 0.596011702345350947],
[0.620856068585844523, 0.323615322633081126, 0.603012611428306200],
[0.623163840388716972, 0.328260636080795420, 0.609953115352256492],
[0.625406425136973088, 0.332963762422902376, 0.616830223299422942],
[0.627584467690906034, 0.337723650389798402, 0.623641023098551961],
[0.629698691295309643, 0.342539189649158471, 0.630382686169925766],
[0.631749898933254950, 0.347409213402390116, 0.637052472288839988],
[0.633738974572122471, 0.352332501086585703, 0.643647734152825501],
[0.635666884293936918, 0.357307781172023664, 0.650165921738693808],
[0.637534677302072916, 0.362333734045122591, 0.656604586436379312],
[0.639343486796462912, 0.367408994966634483, 0.662961384947516108],
[0.641094530709518495, 0.372532157094802141, 0.669234082937690267],
[0.642789112295119258, 0.377701774563178161, 0.675420558432383911],
[0.644428620563118226, 0.382916365602844255, 0.681518804947739865],
[0.646014530552036947, 0.388174415698825770, 0.687526934348431706],
[0.647548403432797959, 0.393474380770593546, 0.693443179426107781],
[0.649031886436557959, 0.398814690366732505, 0.699265896193076442],
[0.650466712600019536, 0.404193750863989953, 0.704993565887132023],
[0.651854700321831460, 0.409609948661189105, 0.710624796684627635],
[0.653197752724056557, 0.415061653358714755, 0.716158325120147654],
[0.654497856813029744, 0.420547220914584519, 0.721593017212323828],
[0.655757082434315852, 0.426064996768443505, 0.726927869296544738],
[0.656977581016919943, 0.431613318925150036, 0.732162008566478284],
[0.658161584102370467, 0.437190520990015763, 0.737294693327457562],
[0.659311401654793516, 0.442794935148144830, 0.742325312965886219],
[0.660429420148650914, 0.448424895080748176, 0.747253387639861488],
[0.661518100431409350, 0.454078738811737159, 0.752078567697227918],
[0.662579975359056772, 0.459754811478360226, 0.756800632828208752],
[0.663617647203050165, 0.465451468020106229, 0.761419490960653977],
[0.664633784828022933, 0.471167075780585531, 0.765935176906761272],
[0.665631120640377216, 0.476900017017571620, 0.770347850770882969],
[0.666612447308712164, 0.482648691316888534, 0.774657796128708664],
[0.667580614257939131, 0.488411517906309600, 0.778865417988733655],
[0.668538523939891549, 0.494186937866131493, 0.782971240547442160],
[0.669489127884199564, 0.499973416233583767, 0.786975904750123467],
[0.670435422534309433, 0.505769443998695834, 0.790880165669593960],
[0.671380444874581039, 0.511573539989747639, 0.794684889715439047],
[0.672327267855563071, 0.517384252646874043, 0.798391051686617170],
[0.673278995625759658, 0.523200161682859655, 0.801999731680422712],
[0.674238758579377428, 0.529019879630600154, 0.805512111870938186],
[0.675209708230877781, 0.534842053277128748, 0.808929473170091673],
[0.676195011928384049, 0.540665364984510677, 0.812253191784435669],
[0.677197847419322985, 0.546488533898312978, 0.815484735680655493],
[0.678221397282952387, 0.552310317044711119, 0.818625660972649105],
[0.679268843245787068, 0.558129510317639022, 0.821677608242833091],
[0.680343360397103858, 0.563944949357746195, 0.824642298810054464],
[0.681448111323046390, 0.569755510325183567, 0.827521530956179863],
[0.682586240178928660, 0.575560110568568595, 0.830317176123099521],
[0.683760866720547478, 0.581357709192698802, 0.833031175091477727],
[0.684975080316257090, 0.587147307527838280, 0.835665534152171041],
[0.686231933962511698, 0.592927949503620710, 0.838222321280789218],
[0.687534438326381614, 0.598698721930767785, 0.840703662325376744],
[0.688885555839204300, 0.604458754694021327, 0.843111737216726498],
[0.690288194866013449, 0.610207220859812938, 0.845448776210290798],
[0.691745203975737577, 0.615943336702308941, 0.847717056168151739],
[0.693259366337302785, 0.621666361651585619, 0.849918896888969710],
[0.694833394266689441, 0.627375598167751014, 0.852056657493275527],
[0.696469923949769587, 0.633070391544893529, 0.854132732870949041],
[0.698171510365221626, 0.638750129648779863, 0.856149550197166542],
[0.699940622431149628, 0.644414242592247999, 0.858109565522575224],
[0.701779638398086658, 0.650062202352232776, 0.860015260442913432],
[0.703690841509912457, 0.655693522332367107, 0.861869138852780048],
[0.705676415952857461, 0.661307756875076258, 0.863673723787759751],
[0.707738443111178284, 0.666904500727021343, 0.865431554358590538],
[0.709878898146325876, 0.672483388461730946, 0.867145182780627799],
[0.712099646914457818, 0.678044093863177877, 0.868817171501362173],
[0.714402443235069073, 0.683586329273984439, 0.870450090428343870],
[0.716788926521206182, 0.689109844911882097, 0.872046514259443018],
[0.719260619779431787, 0.694614428157926178, 0.873609019916981255],
[0.721818927985147685, 0.700099902819926956, 0.875140184086921846],
[0.724465136836475954, 0.705566128374399804, 0.876642580863957188],
[0.727200411887231724, 0.711012999190287709, 0.878118779503020863],
[0.730025798057068354, 0.716440443737566324, 0.879571342277483015],
[0.732942219514210458, 0.721848423783770454, 0.881002822444017619],
[0.735950479923873080, 0.727236933581327794, 0.882415762313920493],
[0.739051263052895480, 0.732605999048536849, 0.883812691430456376],
[0.742245133718957062, 0.737955676946869366, 0.885196124851653998],
[0.745532539070488442, 0.743286054057215040, 0.886568561537843802],
[0.748913810181448092, 0.748597246357550650, 0.887932482843125981],
[0.752389163943197436, 0.753889398204473649, 0.889290351109919053],
[0.755958705234136885, 0.759162681520894278, 0.890644608365690593],
[0.759622429346180628, 0.764417294992158602, 0.891997675121007805],
[0.763380224645938244, 0.769653463272762295, 0.893351949268099244],
[0.767231875447339506, 0.774871436205780251, 0.894709805079218268],
[0.771177065071522505, 0.780071488057084927, 0.896073592304258537],
[0.775215379069126853, 0.785253916766393445, 0.897445635367280281],
[0.779346308579561442, 0.790419043217161943, 0.898828232661868731],
[0.783569253801405408, 0.795567210527372892, 0.900223655945594281],
[0.787883527547910578, 0.800698783363251954, 0.901634149834258492],
[0.792288358861360065, 0.805814147278041459, 0.903061931397119433],
[0.796782896660029105, 0.810913708078017659, 0.904509189854914797],
[0.801366213391434878, 0.815997891218069094, 0.905978086383245729],
[0.806037308665609298, 0.821067141229320452, 0.907470754024790160],
[0.810795112841992460, 0.826121921181506846, 0.908989297714909106],
[0.815638490543503458, 0.831162712183068142, 0.910535794426515888],
[0.820566244070923045, 0.836190012922326975, 0.912112293441698974],
[0.825577116690244250, 0.841204339253533107, 0.913720816759520993],
[0.830669795764714669, 0.846206223832157267, 0.915363359651818143],
[0.835842915701994094, 0.851196215804520206, 0.917041891381768504],
[0.841095060684831641, 0.856174880557768136, 0.918758356103633100],
[0.846424767150998236, 0.861142799537327752, 0.920514673966644548],
[0.851830525984403564, 0.866100570140442838, 0.922312742451735334],
[0.857310784374239465, 0.871048805696199802, 0.924154437977061871],
[0.862863947292016653, 0.875988135544832125, 0.926041617817563556],
[0.868488378527199623, 0.880919205232086111, 0.927976122395788194],
[0.874182401209643967, 0.885842676838357046, 0.929959778016821836],
[0.879944297730347547, 0.890759229467470104, 0.931994400140762624],
[0.885772308949508092, 0.895669559926737246, 0.934081797313592532],
[0.891664632550118852, 0.900574383639081932, 0.936223775914332257],
[0.897619420353175768, 0.905474435840357028, 0.938422145927002349],
[0.903634774351873116, 0.910370473132031344, 0.940678728016226429],
[0.909708741139477528, 0.915263275483206740, 0.942995362284543614],
[0.915839304286910960, 0.920153648809848734, 0.945373919232063931],
[0.922024374052942020, 0.925042428308309184, 0.947816313648126019],
[0.928261773551270597, 0.929930482793310032, 0.950324522477938749],
[0.934549220103342182, 0.934818720401790371, 0.952900608188963605],
[0.940884299883302244, 0.939708096198278220, 0.955546749924136463],
[0.947264432949293300, 0.944599622499587843, 0.958265285975815062],
[0.953686824045494874, 0.949494383211123894, 0.961058773233143815],
[0.960148391537691048, 0.954393554301957381, 0.963930073022493006],
[0.966645661210466245, 0.959298434095840702, 0.966882479829254460],
[0.973174600431506387, 0.964210490128775910, 0.969919923556734509],
[0.979730343918101654, 0.969131435940313257, 0.973047306815050805],
[0.986306703939834439, 0.974063367013016212, 0.976271113426188664],
[0.992895195292079147, 0.979009028956642324, 0.979600633584804314],
[0.999482745542061290, 0.983972441444789570, 0.983050877221578356],
[1.00000000000000000, 0.988960843353828056, 0.986651878049528919],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
