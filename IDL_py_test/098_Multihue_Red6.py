from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000402936553307214505, 0.000328025592619920548, 0.000374156260064418731],
[0.00119038817507126035, 0.000922727573375129199, 0.00109478911107880337],
[0.00235796621893690286, 0.00176137271479825746, 0.00214934649870112239],
[0.00389900708453070699, 0.00282005938909362774, 0.00352218620523519826],
[0.00581330122162728585, 0.00408200713397111146, 0.00520298936103862422],
[0.00810395011289035370, 0.00553420450276271517, 0.00718380219862844831],
[0.0107760683502243632, 0.00716596684988472094, 0.00945782922095909397],
[0.0138361231933980377, 0.00896818697879657109, 0.0120188314734600583],
[0.0172915518224853425, 0.0109328988390527578, 0.0148607882833406684],
[0.0211505180194801155, 0.0130530032324285110, 0.0179776914261482179],
[0.0254217460520034140, 0.0153220856202622765, 0.0213634129446112798],
[0.0301144004952105977, 0.0177342900509460596, 0.0250116172244602766],
[0.0352379949449794297, 0.0202842291613589687, 0.0289157013850827871],
[0.0407954984852627670, 0.0229669183726526789, 0.0330687547761535014],
[0.0464447048048703612, 0.0257777268821220151, 0.0374635319830998181],
[0.0520714123494119066, 0.0287123406513920994, 0.0420461035983696815],
[0.0576799853758871647, 0.0317667341681626761, 0.0465620920839186700],
[0.0632741069893660024, 0.0349371487532654651, 0.0509982923458025747],
[0.0688568972224961329, 0.0382200758328911580, 0.0553567080613212928],
[0.0744310050848396576, 0.0415832657225493688, 0.0596389376574868527],
[0.0799986813581164136, 0.0448870531352612220, 0.0638462456473864182],
[0.0855618369137984836, 0.0481357786324472722, 0.0679796199512775479],
[0.0911220899831659548, 0.0513324235170420293, 0.0720398185327718599],
[0.0966808048845320123, 0.0544797456090145640, 0.0760274077787474467],
[0.102239124064375242, 0.0575803123943806269, 0.0799427944205901575],
[0.107797994847708689, 0.0606365285482895408, 0.0837862523452969354],
[0.113358191959417876, 0.0636506589447205506, 0.0875579453205121427],
[0.118920336633723034, 0.0666248480112287544, 0.0912579464198634838],
[0.124484912947288501, 0.0695611360980741278, 0.0948862547585985483],
[0.130052281875061321, 0.0724614733886730367, 0.0984428100171338416],
[0.135622693464261840, 0.0753277317699578841, 0.101927505129681933],
[0.141196297442441165, 0.0781617149979292047, 0.105340197438160754],
[0.146773152513949484, 0.0809651674290730317, 0.108680718552077837],
[0.152353234551056288, 0.0837397815377543542, 0.111948883108680064],
[0.157936443848104541, 0.0864872043998206608, 0.115144496591202267],
[0.163522611577024052, 0.0892090432909563857, 0.118267362334196074],
[0.169111505558529579, 0.0919068705229678928, 0.121317287821940067],
[0.174702835444016658, 0.0945822276207491375, 0.124294090367526061],
[0.180296257387543013, 0.0972366289261119843, 0.127197602245380736],
[0.185891378274560509, 0.0998715647011640118, 0.130027675337987564],
[0.191487759563652743, 0.102488503792847685, 0.132784185347819383],
[0.197084920788963058, 0.105088895911120722, 0.135467035617529513],
[0.202682342763917556, 0.107674173565711656, 0.138076160594949399],
[0.208279470520957910, 0.110245753700089405, 0.140611528974094124],
[0.213875716017101092, 0.112805039056031897, 0.143073146538993834],
[0.219470460631017439, 0.115353419297771875, 0.145461058733557552],
[0.225063057473871564, 0.117892271920984865, 0.147775352977706637],
[0.230652833533247448, 0.120422962968740416, 0.150016160747568794],
[0.236239091667002077, 0.122946847573885548, 0.152183659435516289],
[0.241821112461797549, 0.125465270345055696, 0.154278074004181670],
[0.247398155969263012, 0.127979565611586799, 0.156299678447239548],
[0.252969463331205624, 0.130491057540949057, 0.158248797068642144],
[0.258534258303976361, 0.133001060140911231, 0.160125805591112252],
[0.264091748690960138, 0.135510877157432152, 0.161931132103978692],
[0.269641127691186144, 0.138021801878237760, 0.163665257859874874],
[0.275181575171210724, 0.140535116851142505, 0.165328717929372204],
[0.280712258866680164, 0.143052093525409207, 0.166922101722271399],
[0.286232335519362391, 0.145573991823771370, 0.168446053384016442],
[0.291740951954862326, 0.148102059652175072, 0.169901272075494519],
[0.297237246105758468, 0.150637532353797482, 0.171288512144348787],
[0.302720347984471172, 0.153181632113480293, 0.172608583195832915],
[0.308189380609799390, 0.155735567318336238, 0.173862350071177230],
[0.313643460890730252, 0.158300531879975559, 0.175050732741393711],
[0.319081700470842000, 0.160877704523514548, 0.176174706124437197],
[0.324503206536351896, 0.163468248048287856, 0.177235299833625570],
[0.329907082590652490, 0.166073308564959471, 0.178233597865225135],
[0.335292429197962261, 0.168694014713550028, 0.179170738233101784],
[0.340658344698534898, 0.171331476866715710, 0.180047912558331830],
[0.346003925897738096, 0.173986786322447989, 0.180866365621645125],
[0.351328268731134430, 0.176661014490228446, 0.181627394886542420],
[0.356630468907596865, 0.179355212074523873, 0.182332350000866256],
[0.361909622532374742, 0.182070408259364408, 0.182982632284534874],
[0.367164826711909476, 0.184807609897624903, 0.183579694211030958],
[0.372395180142128524, 0.187567800708483556, 0.184125038890098042],
[0.377599783681860590, 0.190351940486392895, 0.184620219558917997],
[0.382777740912928377, 0.193160964324767564, 0.185066839088813301],
[0.387928158688440217, 0.195995781857427165, 0.185466549514249846],
[0.393050147670715666, 0.198857276520696680, 0.185821051590588787],
[0.398142822860250822, 0.201746304838895108, 0.186132094386649516],
[0.403205304117074170, 0.204663695735777973, 0.186401474917700483],
[0.408236716675804690, 0.207610249874327024, 0.186631037823971530],
[0.413236191655699192, 0.210586739027092296, 0.186822675099194285],
[0.418202866566933174, 0.213593905479108836, 0.186978325872992457],
[0.423135885814331258, 0.216632461465218640, 0.187099976250189343],
[0.428034401199768821, 0.219703088643411648, 0.187189659209235804],
[0.432897572424399302, 0.222806437605621743, 0.187249454561011497],
[0.437724567591888769, 0.225943127427184642, 0.187281488968188109],
[0.442514563713800102, 0.229113745255969337, 0.187287936024172624],
[0.447266747218263927, 0.232318845941979546, 0.187271016389370687],
[0.451980314463061472, 0.235558951708021935, 0.187232997981101101],
[0.456654472254240551, 0.238834551861822730, 0.187176196211982893],
[0.461288438371369736, 0.242146102549783582, 0.187102974269972577],
[0.465881442100533894, 0.245494026552372013, 0.187015743431483944],
[0.470432724776173095, 0.248878713120942174, 0.186916963397153718],
[0.474941540332843804, 0.252300517855622797, 0.186809142637853587],
[0.479407155868001589, 0.255759762623717080, 0.186694838736493368],
[0.483828852216873384, 0.259256735517918002, 0.186576658709025317],
[0.488205924540492442, 0.262791690853485971, 0.186457259285874144],
[0.492537682927968679, 0.266364849203397480, 0.186339347132808752],
[0.496823453014034577, 0.269976397470366503, 0.186225678988052229],
[0.501062576612925858, 0.273626488994514416, 0.186119061690274062],
[0.505254412369625316, 0.277315243695380242, 0.186022352070018382],
[0.509398336429478738, 0.281042748246890073, 0.185938456675194930],
[0.513493743127194091, 0.284809056283827078, 0.185870331299524350],
[0.517540045696201156, 0.288614188638299962, 0.185820980281352050],
[0.521536676999321047, 0.292458133604682147, 0.185793455539131708],
[0.525483090281682608, 0.296340847231457594, 0.185790855309149766],
[0.529378759946779298, 0.300262253638411081, 0.185816322550863750],
[0.533223182356519554, 0.304222245357616938, 0.185873042985580966],
[0.537015876656104951, 0.308220683696673270, 0.185964242735237373],
[0.540756385624490021, 0.312257399122698620, 0.186093185529804972],
[0.544444276551153683, 0.316332191665612050, 0.186263169454429112],
[0.548079142139840325, 0.320444831339302405, 0.186477523210853174],
[0.551660601439861953, 0.324595058579337681, 0.186739601872039140],
[0.555188300805477097, 0.328782584695945013, 0.187052782114199789],
[0.558661914883796795, 0.333007092341070343, 0.187420456916682021],
[0.562081147631553812, 0.337268235988410714, 0.187846029727274433],
[0.565445733360993796, 0.341565642425410043, 0.188332908098483604],
[0.568755437815023579, 0.345898911256300290, 0.188884496809022445],
[0.572010059271654825, 0.350267615415371436, 0.189504190494061170],
[0.575209429677618123, 0.354671301689766128, 0.190195365817500378],
[0.578353415810933913, 0.359109491251178692, 0.190961373229448839],
[0.581441920472014151, 0.363581680195979695, 0.191805528361967487],
[0.584474883702776782, 0.368087340093348814, 0.192731103125690695],
[0.587452284033006200, 0.372625918541148238, 0.193741316578888378],
[0.590374139753077953, 0.377196839729336986, 0.194839325648564626],
[0.593240510211902161, 0.381799505010852247, 0.196028215790011173],
[0.596051497138770259, 0.386433293479968465, 0.197310991676581227],
[0.598807245987538428, 0.391097562558243406, 0.198690568015045532],
[0.601507947301341828, 0.395791648588250777, 0.200169760583561396],
[0.604153838095783158, 0.400514867435379562, 0.201751277588871292],
[0.606745203258263421, 0.405266515098064439, 0.203437711436762425],
[0.609282376960813110, 0.410045868326882557, 0.205231531005073187],
[0.611765744083537011, 0.414852185253005434, 0.207135074501702876],
[0.614195741645382154, 0.419684706026583421, 0.209150542981296705],
[0.616572860238700393, 0.424542653465649789, 0.211279994583799813],
[0.618897645463639900, 0.429425233716214105, 0.213525339546172255],
[0.621170699358113199, 0.434331636924222220, 0.215888336025578331],
[0.623392681818659589, 0.439261037920099573, 0.218370586758710350],
[0.625564312007170553, 0.444212596916605806, 0.220973536567947160],
[0.627686369738007621, 0.449185460220747623, 0.223698470711247432],
[0.629759696839678917, 0.454178760960483763, 0.226546514059349780],
[0.631785198484776656, 0.459191619826954500, 0.229518631071438883],
[0.633763844481483152, 0.464223145832950823, 0.232615626529193320],
[0.635696670519495743, 0.469272437088312511, 0.235838146979337304],
[0.637584779362821208, 0.474338581592894160, 0.239186682826682262],
[0.639429341981405441, 0.479420658047716886, 0.242661571013243760],
[0.641231598613192122, 0.484517736684848488, 0.246262998214473283],
[0.642992859747723577, 0.489628880116508902, 0.249991004480882573],
[0.644714507022031258, 0.494753144203804951, 0.253845487252328361],
[0.646397994019124900, 0.499889578945451996, 0.257826205672840536],
[0.648044846959057064, 0.505037229386716802, 0.261932785135933432],
[0.649656665272118405, 0.510195136548756811, 0.266164721993688624],
[0.651235122043486658, 0.515362338378394291, 0.270521388367279791],
[0.652781964318292385, 0.520537870718291273, 0.275002037001843336],
[0.654299013255863815, 0.525720768297347818, 0.279605806114439137],
[0.655788164121717254, 0.530910065741047044, 0.284331724190094170],
[0.657251386105732860, 0.536104798601329757, 0.289178714687378324],
[0.658690721954900194, 0.541304004405465555, 0.294145600621440739],
[0.660108287409006733, 0.546506723723247934, 0.299231108998797957],
[0.661506270427788201, 0.551712001251701389, 0.304433875084264394],
[0.662886930198195001, 0.556918886916362599, 0.309752446486161292],
[0.664252595910777677, 0.562126436988039990, 0.315185287051238550],
[0.665605665294555782, 0.567333715213830692, 0.320730780565559426],
[0.666948602900259146, 0.572539793961031940, 0.326387234261854342],
[0.668283938122513854, 0.577743755372427170, 0.332152882137592864],
[0.669614262952274108, 0.582944692531312536, 0.338025888091178062],
[0.670942229451752303, 0.588141710634482173, 0.344004348886317202],
[0.672270546945161529, 0.593333928171249636, 0.350086296956725940],
[0.673601978919778466, 0.598520478106484899, 0.356269703064973631],
[0.674939339633219282, 0.603700509065480451, 0.362552478830441893],
[0.676285490424326396, 0.608873186518391951, 0.368932479142172864],
[0.677643335726735296, 0.614037693961851705, 0.375407504472766884],
[0.679015818785997482, 0.619193234095276601, 0.381975303109599373],
[0.680405917083089395, 0.624339029989288585, 0.388633573319417891],
[0.681816637469245701, 0.629474326243585458, 0.395379965461959138],
[0.683251011019216703, 0.634598390131539292, 0.402212084067580022],
[0.684712087612420861, 0.639710512728723035, 0.409127489893101326],
[0.686202930253795862, 0.644810010022526026, 0.416123701969115578],
[0.687726609148682000, 0.649896223999994804, 0.423198199650989149],
[0.689286195548536762, 0.654968523710988570, 0.430348424684646569],
[0.690884755386818816, 0.660026306303754584, 0.437571783297072470],
[0.692525342726887261, 0.665068998030027281, 0.444865648320254270],
[0.694210993046226021, 0.670096055216767295, 0.452227361356067614],
[0.695944716383687045, 0.675106965201704434, 0.459654234988390364],
[0.697729490378693251, 0.680101247229898176, 0.467143555047524084],
[0.699568253233507242, 0.685078453308582524, 0.474692582930822005],
[0.701463896631495554, 0.690038169017669789, 0.482298557982276444],
[0.703419258646130641, 0.694980014273353319, 0.489958699932704966],
[0.705437116676812082, 0.699903644042396578, 0.497670211401143481],
[0.707520180448753422, 0.704808749004786850, 0.505430280457007552],
[0.709671085115017641, 0.709695056162605420, 0.513236083241685792],
[0.711892384499182240, 0.714562329393108042, 0.521084786647299736],
[0.714186544517233290, 0.719410369944174177, 0.528973551049564228],
[0.716555936816956174, 0.724239016870487640, 0.536899533090915315],
[0.719002832672366088, 0.729048147408973834, 0.544859888509362511],
[0.721529397169562658, 0.733837677292273782, 0.552851775007903945],
[0.724137683718912184, 0.738607560999196555, 0.560872355158770430],
[0.726829628926407900, 0.743357791941379964, 0.568918799336240122],
[0.729607047854826218, 0.748088402585574963, 0.576988288671354543],
[0.732471629702527549, 0.752799464511259564, 0.585078018021448987],
[0.735424933924721413, 0.757491088403514312, 0.593185198947116521],
[0.738468386818701750, 0.762163423981367272, 0.601307062688941296],
[0.741603278590925230, 0.766816659862081695, 0.609440863136137212],
[0.744830760920010104, 0.771451023362131227, 0.617583879779065925],
[0.748151845025697981, 0.776066780235891596, 0.625733420637508364],
[0.751567400249789408, 0.780664234353355746, 0.633886825156502520],
[0.755078153150812059, 0.785243727318468920, 0.642041467061544191],
[0.758684687110030898, 0.789805638029979828, 0.650194757164978432],
[0.762387442442271968, 0.794350382186978066, 0.658344146115468654],
[0.766186717000928774, 0.798878411741619776, 0.666487127082521225],
[0.770082667262602105, 0.803390214301828110, 0.674621238368178111],
[0.774075309873089257, 0.807886312487074654, 0.682744065938107991],
[0.778164523632819405, 0.812367263240679316, 0.690853245864510690],
[0.782350051896571030, 0.816833657102394750, 0.698946466673390221],
[0.786631505359195571, 0.821286117445392705, 0.707021471588932804],
[0.791008365196269936, 0.825725299682155356, 0.715076060667867330],
[0.795479986526090754, 0.830151890444158713, 0.723108092816829973],
[0.800045602157094082, 0.834566606740680394, 0.731115487685840781],
[0.804704326582769580, 0.838970195102557215, 0.739096227431063513],
[0.809455160184327505, 0.843363430717229967, 0.747048358339989393],
[0.814296993599633034, 0.847747116562066583, 0.754969992312077620],
[0.819228612215434193, 0.852122082543649184, 0.762859308187663010],
[0.824248700738336226, 0.856489184651548885, 0.770714552917540208],
[0.829355847798313839, 0.860849304136150129, 0.778534042565055318],
[0.834548550536831635, 0.865203346721258981, 0.786316163131684620],
[0.839825219129408329, 0.869552241863744690, 0.794059371195887986],
[0.845184181189726824, 0.873896942074300020, 0.801762194353399238],
[0.850623685998915024, 0.878238422315697265, 0.809423231444925895],
[0.856141908498866955, 0.882577679497822842, 0.817041152554261796],
[0.861736952982218085, 0.886915732092490305, 0.824614698755873121],
[0.867406856403087789, 0.891253619895795768, 0.832142681585726018],
[0.873149591221192844, 0.895592403972012674, 0.839623982202004626],
[0.878963067676344467, 0.899933166821196506, 0.847057550192792608],
[0.884845135368884317, 0.904277012823570536, 0.854442401974740196],
[0.890793583992236071, 0.908625069028454191, 0.861777618708860826],
[0.896806143022968683, 0.912978486375517373, 0.869062343634793288],
[0.902880480116512230, 0.917338441463926735, 0.876295778690035832],
[0.909014197875600893, 0.921706139024006110, 0.883477180230960557],
[0.915204828541555826, 0.926082815302005535, 0.890605853600392683],
[0.921449825987117554, 0.930469742650341103, 0.897681146180029699],
[0.927746554132908630, 0.934868235737799314, 0.904702438405065590],
[0.934092270516083123, 0.939279659981255954, 0.911669131969129687],
[0.940484103119280768, 0.943705443095287477, 0.918580634050381817],
[0.946919017557650400, 0.948147091136165687, 0.925436335735358995],
[0.953393770012726072, 0.952606211229210298, 0.932235581697634097],
[0.959904838279070138, 0.957084544606532250, 0.938977626184453018],
[0.966448317647070510, 0.961584016268645203, 0.945661566578742119],
[0.973019757097877913, 0.966106812943174131, 0.952286238164888776],
[0.979613886942684364, 0.970655512625638983, 0.958850036986750420],
[0.986224130415113032, 0.975233316978822651, 0.965350596861908383],
[0.992841628478725036, 0.979844515899246260, 0.971784131449439648],
[0.999452944250123543, 0.984495582925659307, 0.978143849749494199],
[1.00000000000000000, 0.989198639420424741, 0.984414824681463574],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
