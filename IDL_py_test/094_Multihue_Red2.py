from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00033425340248691116, 0.00033914074093127644, 0.00038824121964563745],
[0.000948788, 0.00096940393074290210, 0.0011653398712477565],
[0.0018265471857260459, 0.0018721752383975307, 0.0023360094479922640],
[0.0029502372781038716, 0.0030270225836417581, 0.0039006848700988547],
[0.00431027, 0.0044198772318971499, 0.00586479],
[0.0059013493459591322, 0.00603988, 0.0082361902117507012],
[0.0077210396332022283, 0.0078780564500085873, 0.0110241],
[0.0097689676077883075, 0.0099266132257460719, 0.014238788632235761],
[0.012046389656013679, 0.012178560286116920, 0.017890872055405491],
[0.014555903262656591, 0.0146275, 0.021991522358892558],
[0.017301254873133637, 0.017267235185030715, 0.026552133601543713],
[0.020287204458448921, 0.020092115270062317, 0.031584259574664340],
[0.023519426418027966, 0.023096496028588792, 0.037099531189391202],
[0.027004434706285729, 0.026274910372995879, 0.043016423218459853],
[0.030749524604044239, 0.029621978697081556, 0.048937426529384966],
[0.034762726191211311, 0.033132376155110020, 0.054839647128440395],
[0.039052766180403480, 0.036800808101124814, 0.060726442551113376],
[0.043506809224309793, 0.040618865070875580, 0.066600527046825980],
[0.047949593172745643, 0.044405702909274140, 0.072464078002415722],
[0.052395220352513795, 0.048126178375730737, 0.078318818506712018],
[0.056848, 0.051782720200229247, 0.084166082330190600],
[0.061311788246124217, 0.055377448188022156, 0.090006865736046271],
[0.065790141417371273, 0.058912221670230323, 0.095841869290225895],
[0.070286251138094863, 0.062388679350306488, 0.10167153198091455],
[0.074803029482862438, 0.065808272416009672, 0.10749605935873530],
[0.079343125868862774, 0.069172292323319395, 0.11331544698282520],
[0.083909, 0.072481894323250667, 0.11912950015027804],
[0.088502691735096145, 0.075738117556183510, 0.12493785066114282],
[0.093126337126035907, 0.078941902355081805, 0.13073997120402978],
[0.097781683528951557, 0.082094105261075134, 0.13653518782190044],
[0.10247035182958444, 0.085195512149938340, 0.14232269082236090],
[0.10719379754092878, 0.088246849787356446, 0.14810154442370316],
[0.11195332056476812, 0.091248796068272492, 0.15387069537132844],
[0.11675007390036926, 0.094201989146620368, 0.15962898071492160],
[0.12158507147512221, 0.097107035623074545, 0.16537513490182445],
[0.12645919523968604, 0.0999645, 0.17110779631426284],
[0.13137320164442656, 0.10277500100950668, 0.17682551335579058],
[0.136328, 0.10553903842579324, 0.18252675017427333],
[0.141323, 0.10825717790643397, 0.18821],
[0.14636032069027399, 0.11092996645701089, 0.19387325081767790],
[0.15143911167319313, 0.11355795505226540, 0.19951506944815611],
[0.15655987921048528, 0.11614170296315979, 0.20513352737315871],
[0.16172273833959772, 0.11868178175315824, 0.21072674504702982],
[0.16692771291086964, 0.12117877897315757, 0.216293],
[0.172175, 0.12363330157929636, 0.22182967499404971],
[0.17746367109618238, 0.12604597909349832, 0.22733537565933382],
[0.18279428081115429, 0.12841746652293407, 0.232808],
[0.18816626524700691, 0.13074844705148594, 0.23824491002837966],
[0.19357924791356809, 0.13303963451367667, 0.243645],
[0.19903278247961964, 0.13529177565932621, 0.24900444235840446],
[0.20452635594260427, 0.13750565221534397, 0.25432254132886961],
[0.21005939171359817, 0.13968208274951066, 0.25959660025087261],
[0.21563125262379002, 0.14182192433981400, 0.264824],
[0.22124124385760141, 0.143926, 0.270004],
[0.22688861581661080, 0.14599547022588277, 0.27513237194024215],
[0.23257256691762568, 0.14803109357468214, 0.28020808651564488],
[0.23829224632753276, 0.15003396809233505, 0.28522866626530141],
[0.24404675663694947, 0.15200516177436466, 0.29019190730776800],
[0.24983515647418075, 0.15394578714884818, 0.29509562192939937],
[0.25565646306053286, 0.15585700161831073, 0.29993764335238371],
[0.26150965470765058, 0.15774000761212045, 0.304716],
[0.26739367325723096, 0.15959605254921080, 0.30942807263970434],
[0.273307, 0.16142642861116471, 0.31407229422418820],
[0.27924979031609604, 0.16323247232598498, 0.318646],
[0.28521961130964762, 0.165016, 0.32314857651225282],
[0.29121570864853796, 0.16677712674175921, 0.32757670289677243],
[0.29723687639729868, 0.16851862585149396, 0.33192894900432945],
[0.303282, 0.17024156729189913, 0.33620348288403762],
[0.30934948615566099, 0.17194749652965624, 0.34039853438207535],
[0.31543840909204501, 0.17363799697940577, 0.34451239925528804],
[0.32154736816479434, 0.17531468831182401, 0.34854344315842739],
[0.32767506185354656, 0.17697922459419307, 0.35249010549415344],
[0.33382017511100021, 0.17863329226941369, 0.35635090311523287],
[0.33998138107884512, 0.18027860798024470, 0.36012443386876697],
[0.34615734273943649, 0.18191691624640799, 0.36380937997274970],
[0.35234671450286087, 0.18354998700302763, 0.36740451121577450],
[0.35854814372914007, 0.18517961300972913, 0.37090868797132415],
[0.36476027218545981, 0.18680760714053596, 0.37432086401871190],
[0.37098173743845664, 0.18843579956548817, 0.37764008916346370],
[0.37721117418172823, 0.19006603483567452, 0.380866],
[0.38344721549889538, 0.19170016888405705, 0.38399638036567668],
[0.38968849406271500, 0.19334006595510297, 0.38703204681718945],
[0.39593364327087627, 0.19498759547681938, 0.38997196689897062],
[0.40218129831929095, 0.19664462888925149, 0.392816],
[0.40843009721385126, 0.19831303644389736, 0.39556292244931507],
[0.41467868172176919, 0.19999468398878628, 0.39821340432930580],
[0.42092569826377379, 0.20169142975412874, 0.40076703459868446],
[0.42716979874858435, 0.20340512115352499, 0.40322380958413984],
[0.43340964135122045, 0.20513759161563405, 0.40558383580710095],
[0.43964389123683178, 0.20689065746103896, 0.40784733015967495],
[0.44587122123185680, 0.20866611483871761, 0.41001461985991927],
[0.45209031244442904, 0.210466, 0.41208614219055256],
[0.4583, 0.21229127007605642, 0.41406244402603093],
[0.46449854774663152, 0.21414443291372626, 0.41594418115370091],
[0.47068510037508898, 0.21602691174479605, 0.41773211739548283],
[0.47685823221774121, 0.21794035893655417, 0.41942712353723677],
[0.48301667346679950, 0.21988639029155482, 0.42103017607361287],
[0.48915916537130594, 0.22186658275287408, 0.42254235577679189],
[0.49528446056287073, 0.22388247225872737, 0.42396484609806046],
[0.501391, 0.22593555175300506, 0.425299],
[0.50747852997363851, 0.22802726935702494, 0.42654599511071095],
[0.51354486885561212, 0.23015902670652505, 0.427708],
[0.51958914079351093, 0.23233217745662882, 0.42878507395526688],
[0.52561015915320597, 0.23454802595622232, 0.42978],
[0.53160675003200286, 0.23680782609194612, 0.43069504948024784],
[0.53757775240450312, 0.23911278030074684, 0.43153107193366447],
[0.54352201825199720, 0.24146403874880168, 0.43229032990512711],
[0.54943841267757798, 0.24386269867350346, 0.43297483639768952],
[0.55532581400912118, 0.24630980388416523, 0.43358668415330809],
[0.56118311389217312, 0.24880634441619148, 0.43412804290167828],
[0.56700921737479049, 0.25135325633258398, 0.43460115656972448],
[0.57280304298624873, 0.25395142166593976, 0.43500834046223363],
[0.57856352281150691, 0.25660166849345312, 0.435352],
[0.58428960256324614, 0.25930477113690081, 0.435635],
[0.58998, 0.26206145047919027, 0.43585847755199886],
[0.595634, 0.26487237438872613, 0.43602642349823373],
[0.60125110442684659, 0.267738, 0.43614098741829826],
[0.60682931609503277, 0.27065936553996839, 0.43620485329986947],
[0.612368, 0.27363650859534444, 0.436221],
[0.61786637491224983, 0.27667004930486727, 0.436191],
[0.62332329439845802, 0.27976039997471530, 0.43611986096065075],
[0.62873787927543323, 0.28290792420429300, 0.43600876692432949],
[0.634109, 0.28611293781551844, 0.43586111579544196],
[0.63943634783433767, 0.28937570982033473, 0.43568],
[0.64471841939840835, 0.29269646341891448, 0.43546799473853215],
[0.64995453242655377, 0.296075, 0.43522853902006387],
[0.65514381814786704, 0.29951258528692559, 0.43496454995898787],
[0.66028542304037985, 0.30300818017260689, 0.43467911224636158],
[0.66537850904383577, 0.30656221198874844, 0.43437533764951303],
[0.67042225379160558, 0.31017469045317386, 0.434056],
[0.67541585086278744, 0.313846, 0.433725],
[0.68035851005552961, 0.31757482952636629, 0.43338547294267843],
[0.68524945768260659, 0.32136231600919957, 0.43304],
[0.69008793689025849, 0.32520790292919682, 0.43269196081164058],
[0.69487320800130614, 0.32911141255877546, 0.43234477323781711],
[0.69960454888353840, 0.33307263267586779, 0.43200162190190700],
[0.70428125534436759, 0.33709131751347021, 0.43166576525303141],
[0.70890264155273874, 0.34116718868448420, 0.43134047216224325],
[0.71346804048928159, 0.3453, 0.43102902029740581],
[0.71797680442567446, 0.34948921874403810, 0.43073469451825302],
[0.72242830543419301, 0.35373466571216555, 0.43046078528292903],
[0.72682193592839384, 0.35803587683346327, 0.43021058705680881],
[0.73115710923589761, 0.36239242355581230, 0.42998739671396297],
[0.735433, 0.36680384968650531, 0.42979451192129214],
[0.73964984584033877, 0.37126967212446749, 0.42963522949507871],
[0.74380634598559914, 0.37578938156510805, 0.42951284371954929],
[0.74790226402564330, 0.38036244317840190, 0.42943064461697150],
[0.75193712763738318, 0.38498829726095363, 0.42939191615886402],
[0.75591048957310281, 0.38966635986291859, 0.42939993440806828],
[0.759822, 0.39439602339075697, 0.42945796558172356],
[0.76367104977470979, 0.39917665718691370, 0.42956926402562567],
[0.76745748651681345, 0.40400760808758596, 0.42973707009100365],
[0.77118090037636078, 0.40888820095982165, 0.42996460790546731],
[0.77484098260145840, 0.41381773921927156, 0.43025508303070498],
[0.77843745504304229, 0.41879550532995868, 0.43061168000051919],
[0.78197007121827022, 0.42382076128749208, 0.43103755973388474],
[0.78543861741547416, 0.42889274908719960, 0.43153585681897710],
[0.78884291384078531, 0.43401069117869412, 0.43211],
[0.79218281580642380, 0.43917379090842990, 0.43276209252402820],
[0.79545821496053271, 0.44438123295182130, 0.433496],
[0.79866904055821386, 0.44963218373656383, 0.43431482567487589],
[0.801815, 0.45492579185878074, 0.43522110000597575],
[0.80489688405056958, 0.46026118849367698, 0.43621787756467534],
[0.80791396049642417, 0.46563748780238962, 0.43730802156591964],
[0.810867, 0.47105378733674469, 0.438494],
[0.81375489024391989, 0.47650916844365160, 0.43977959448167231],
[0.81657906511707579, 0.48200269667087142, 0.44116647105647144],
[0.81933933933938208, 0.48753342217591739, 0.44265760155416001],
[0.82203599348439171, 0.49310038013985374, 0.444256],
[0.82466935888470250, 0.49870259118775401, 0.44596279574782743],
[0.82723981925506107, 0.50433906181758303, 0.44778176013253995],
[0.829748, 0.510009, 0.44971477169993307],
[0.83219383157634175, 0.51571073982582971, 0.45176407752493713],
[0.83457842778581848, 0.52144389357794174, 0.45393183614325799],
[0.83690221086211292, 0.52720720060430393, 0.45622011361490983],
[0.83916585147942702, 0.533, 0.45863087966860688],
[0.84137008279866954, 0.53882, 0.46116600394689228],
[0.84351570217225324, 0.54466741261239249, 0.46382725237135863],
[0.84560357284075194, 0.55054064979517692, 0.46661628364655156],
[0.847635, 0.55643864651499131, 0.46953464592016275],
[0.84960986053794474, 0.56236029468818893, 0.47258377361591669],
[0.85153034851568976, 0.56830447787207972, 0.47576498445417820],
[0.85339723291548186, 0.57427007192708401, 0.47907947667377110],
[0.85521173111682880, 0.58025594570818140, 0.48252832646682881],
[0.85697513601028175, 0.586261, 0.48611248563673243],
[0.85868881743344916, 0.59228397720465742, 0.489833],
[0.86035422353458035, 0.59832384425940743, 0.49368990495010784],
[0.86197288205336742, 0.60437941132494322, 0.49768442895293435],
[0.86354640150814599, 0.61044952370518124, 0.50181678703457899],
[0.86507647227816176, 0.61653302452316339, 0.50608728220445331],
[0.86656486756912510, 0.62262875564559950, 0.51049608404775093],
[0.86801344424982074, 0.62873555864328068, 0.51504322807342295],
[0.86942414354718900, 0.63485227578757331, 0.519729],
[0.87079899158686402, 0.64097775108306176, 0.52455201208372115],
[0.87214009976590212, 0.64711083133622360, 0.529513],
[0.87344966494415499, 0.65325, 0.53461122690102958],
[0.87472996944054515, 0.65939521461271822, 0.53984590584645376],
[0.87598338082042648, 0.66554423537396445, 0.54521631734070375],
[0.877212, 0.67169629895113203, 0.55072155944500911],
[0.87841941787479050, 0.67785028342103171, 0.55636059900456070],
[0.87960719979621804, 0.68400507680208056, 0.56213227289877676],
[0.88077839898673660, 0.69016, 0.56803528946003312],
[0.88193579777674269, 0.69631269992216938, 0.574068],
[0.88308225731319723, 0.70246336726803038, 0.58022955079553729],
[0.88422071550737236, 0.70861052147811043, 0.58651758444204261],
[0.88535418467101690, 0.71475312035485616, 0.59293054237088438],
[0.88648574883100795, 0.72089013984360706, 0.59946651671722895],
[0.88761856071373235, 0.72702057547422683, 0.60612348261327609],
[0.88875583839184935, 0.73314344381730012, 0.61289930053794905],
[0.88990086158750303, 0.73925778395199837, 0.61979171876687333],
[0.89105696762779618, 0.74536265894253806, 0.62679837591502119],
[0.89222754705025387, 0.75145715732000828, 0.63391680356441593],
[0.89341603885794740, 0.75754039456627831, 0.64114442896916590],
[0.89462592542631125, 0.76361151459653098, 0.648479],
[0.89586072706599584, 0.76967, 0.65591647712903223],
[0.89712399624868999, 0.77571412969400921, 0.66345525801844030],
[0.89841931150558008, 0.78174406801175955, 0.67109195874879901],
[0.89975027101090666, 0.787759, 0.67882352763062370],
[0.90112048586610738, 0.79375756922503082, 0.68664682601417448],
[0.90253357310303028, 0.79973978527369394, 0.69455863127441930],
[0.90399314842788969, 0.80570481026384078, 0.70255563978489655],
[0.90550281873081939, 0.81165206762158448, 0.71063446986173950],
[0.90706617438906645, 0.81758102190829018, 0.71879166465594724],
[0.90868678139520353, 0.82349118009934397, 0.72702369496810582],
[0.91036817334484477, 0.829382, 0.73532696195501812],
[0.91211384332170686, 0.83525335557863534, 0.74369779969191629],
[0.91392723572096979, 0.84110460986943258, 0.75213247754678669],
[0.91581173805511384, 0.84693554435490603, 0.76062720231450742],
[0.91777067278968172, 0.85274589591724303, 0.76917812004748276],
[0.91980728925963506, 0.858535, 0.77778131750560409],
[0.92192475572053834, 0.864304, 0.78643282313078389],
[0.92412615159263112, 0.87005156689291319, 0.79512860742877378],
[0.92641445996022909, 0.875778, 0.80386458261177141],
[0.92879256039434188, 0.88148320482877762, 0.81263660131705384],
[0.93126322217321922, 0.88716736093905058, 0.82144],
[0.93382909798480074, 0.89283052603334634, 0.83027186586044832],
[0.93649271820779978, 0.89847285787488551, 0.839126],
[0.93925648588650512, 0.90409457107134861, 0.84799989801993358],
[0.94212267254107984, 0.90969593813310745, 0.85688757377444924],
[0.94509341499518407, 0.915277, 0.86578489240872336],
[0.94817071346350257, 0.92083902066093737, 0.87468710256450666],
[0.95135643123629376, 0.92638158224725287, 0.88358929776910278],
[0.95465229644795613, 0.93190549354139440, 0.89248637829900101],
[0.95805990666097685, 0.937411, 0.90137299877124877],
[0.96158073740672190, 0.9429, 0.91024349505056645],
[0.96521615653849013, 0.94837152598518537, 0.91909178024830807],
[0.96896744754988873, 0.953827, 0.92791119282643131],
[0.972836, 0.95926830738201974, 0.93669426715580384],
[0.97682261025050410, 0.96469523305927385, 0.94543237155068793],
[0.98092911706049402, 0.970109, 0.95411510379324416],
[0.98515708428396176, 0.97551178326964927, 0.96272920122034866],
[0.98950899751092647, 0.98090416052054896, 0.97125635086931139],
[0.99398918229825728, 0.98628824033596840, 0.97966799895270096],
[0.99860735553195112, 0.99166646696819549, 0.98790884441325921],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
