from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000350570286776950737, 0.000346262979806166390, 0.000396453190641098401],
[0.000996637799319904190, 0.000989765681638405965, 0.00118164421794513777],
[0.00192090802172967929, 0.00191169469268669405, 0.00235415468859143974],
[0.00310531685839734355, 0.00309146037563858477, 0.00390962616757659000],
[0.00453960802526554366, 0.00451504546118901631, 0.00584917674520142681],
[0.00621783537119657663, 0.00617178120103622965, 0.00817654612732476166],
[0.00813685275278933952, 0.00805298268236462507, 0.0108969422882316032],
[0.0102955237492795212, 0.0101512476951904837, 0.0140164639757041094],
[0.0126942565860208509, 0.0124600517802682664, 0.0175417693915497601],
[0.0153347074304276479, 0.0149734950671043653, 0.0214798662080344684],
[0.0182195794379788889, 0.0176861347281887966, 0.0258379675065797954],
[0.0213524801262693041, 0.0205928692874423232, 0.0306233861721249174],
[0.0247378161920311784, 0.0236888561238153862, 0.0358434529697987461],
[0.0283807133674901964, 0.0269694511959235918, 0.0414799080948753188],
[0.0322869535718840750, 0.0304301642027333050, 0.0471626683069312838],
[0.0364629243198810113, 0.0340666248092027502, 0.0528132083470935834],
[0.0409062026310090879, 0.0378745570219217592, 0.0584351011262559741],
[0.0453851683180304319, 0.0418125848927951779, 0.0640312728809685761],
[0.0498527453332990658, 0.0456920829532545883, 0.0696041144812492574],
[0.0543133694464981789, 0.0495107014986594859, 0.0751555679418847156],
[0.0587710166860408931, 0.0532711782949959814, 0.0806871946430045561],
[0.0632292651516860038, 0.0569759397320791020, 0.0862002298391795485],
[0.0676913451039448944, 0.0606271492229172385, 0.0916956267409709813],
[0.0721601799835130675, 0.0642267468764980976, 0.0971740925637276654],
[0.0766384203329761870, 0.0677764823327540733, 0.102636118316654618],
[0.0811284721065968217, 0.0712779421808068248, 0.108082003662983928],
[0.0856325205011929380, 0.0747325730429350965, 0.113511877862738530],
[0.0901525501816995700, 0.0781417011580585463, 0.118925717575713713],
[0.0946903625818054373, 0.0815065491136215681, 0.124323362128807013],
[0.0992475908144730134, 0.0848282502356431656, 0.129704526721584057],
[0.103825712616306076, 0.0881078610408877472, 0.135068813945118466],
[0.108426061664440965, 0.0913463720738301454, 0.140415723913338175],
[0.113049837538451770, 0.0945447173880696323, 0.145744663247432765],
[0.117698114547955007, 0.0977037828825463306, 0.151054953108031437],
[0.122371849605687588, 0.100824413664069579, 0.156345836433757102],
[0.127071889293364881, 0.103907420576782678, 0.161616484516088982],
[0.131798976241606774, 0.106953586014502916, 0.166866003017520859],
[0.136553754924282483, 0.109963669111991902, 0.172093437521525616],
[0.141336776950672122, 0.112938410395096694, 0.177297778687826840],
[0.146148505925013855, 0.115878535956585482, 0.182477967074235248],
[0.150989321931725762, 0.118784761213745260, 0.187632897676234894],
[0.155859525695258266, 0.121657794294963956, 0.192761424227174904],
[0.160759342455880500, 0.124498339095203858, 0.197862363294999788],
[0.165688925596311487, 0.127307098034202759, 0.202934498205654679],
[0.170648360048814701, 0.130084774546175064, 0.207976582818427402],
[0.175637665507920981, 0.132832075325567039, 0.212987345174371512],
[0.180656799470251872, 0.135549712349866624, 0.217965491035451486],
[0.185705660119754257, 0.138238404697500872, 0.222909707329062790],
[0.190784089074050839, 0.140898880176346941, 0.227818665510019502],
[0.195891874005341138, 0.143531876776276601, 0.232691024849892625],
[0.201028751147424245, 0.146138143957380201, 0.237525435661681994],
[0.206194407698782223, 0.148718443784015747, 0.242320542466147593],
[0.211388484130293430, 0.151273551913580606, 0.247074987104696275],
[0.216610576404972610, 0.153804258447841402, 0.251787411802466499],
[0.221860238116129704, 0.156311368653780591, 0.256456462184167011],
[0.227136982549476896, 0.158795703560183660, 0.261080790244275496],
[0.232440284673969766, 0.161258100435585416, 0.265659057272372545],
[0.237769583065543189, 0.163699413152697676, 0.270189936733669922],
[0.243124281767344352, 0.166120512444040719, 0.274672117104160896],
[0.248503752089602348, 0.168522286053177622, 0.279104304659286817],
[0.253907334351864466, 0.170905638785708691, 0.283485226214543973],
[0.259334339569991246, 0.173271492463981075, 0.287813631816065840],
[0.264784051089980765, 0.175620785789353556, 0.292088297378879147],
[0.270255726170469002, 0.177954474115739780, 0.296308027270267782],
[0.275748597515508176, 0.180273529138117949, 0.300471656835446799],
[0.281261874759044128, 0.182578938499666998, 0.304578054862588377],
[0.286794745902372028, 0.184871705321186547, 0.308626125984113875],
[0.292346378705688137, 0.187152847656497007, 0.312614813011079629],
[0.297915922034779179, 0.189423397877540339, 0.316543099197449440],
[0.303502507163766144, 0.191684401992974596, 0.320410010431032011],
[0.309105249034775376, 0.193936918904103306, 0.324214617347896639],
[0.314723247475325874, 0.196182019602059832, 0.327956037367142628],
[0.320355588374196420, 0.198420786310230357, 0.331633436642977897],
[0.326001344816489902, 0.200654311575971689, 0.335246031931194455],
[0.331659578178602199, 0.202883697315742351, 0.338793092367263571],
[0.337329339183767340, 0.205110053817830928, 0.342273941153438510],
[0.343009668918876132, 0.207334498706904624, 0.345687957152450653],
[0.348699599813236283, 0.209558155874651653, 0.349034576385581830],
[0.354398156579973755, 0.211782154380812437, 0.352313293433126895],
[0.360104357120766827, 0.214007627328911265, 0.355523662735500512],
[0.365817213394636465, 0.216235710720989294, 0.358665299793489212],
[0.371535732251538686, 0.218467542295631978, 0.361737882266422228],
[0.377258916231502095, 0.220704260353544790, 0.364741150967299810],
[0.382985764330112000, 0.222947002574871267, 0.367674910754209216],
[0.388715272731149697, 0.225196904832384082, 0.370539031317626777],
[0.394446435507229853, 0.227455100004582245, 0.373333447863512968],
[0.400178245289295353, 0.229722716792631454, 0.376058161692384207],
[0.405909693905882274, 0.232000878544939948, 0.378713240674838858],
[0.411639772993067088, 0.234290702093039038, 0.381298819624301732],
[0.417367474576053110, 0.236593296602270742, 0.383815100568036305],
[0.423091791623377622, 0.238909762440605855, 0.386262352917751406],
[0.428811718574735878, 0.241241190068736733, 0.388640913541391964],
[0.434526251843454059, 0.243588658954391135, 0.390951186737977241],
[0.440234390294655331, 0.245953236513588969, 0.393193644117589780],
[0.445935135700186336, 0.248335977081358461, 0.395368824388859619],
[0.451627493171390448, 0.250737920914196610, 0.397477333056521054],
[0.457310471570824106, 0.253160093226318550, 0.399519842031819616],
[0.462983083904029702, 0.255603503261515430, 0.401497089158752041],
[0.468644347692486252, 0.258069143402193280, 0.403409877659298921],
[0.474293285328871994, 0.260557988316928446, 0.405259075500968513],
[0.479928924415772673, 0.263070994147641679, 0.407045614690126234],
[0.485550298088971821, 0.265609097737259214, 0.408770490494692274],
[0.491156445326476787, 0.268173215898490580, 0.410434760599918125],
[0.496746411244410158, 0.270764244724153835, 0.412039544201021013],
[0.502319247380909717, 0.273383058939244694, 0.413586021036532803],
[0.507874011969173034, 0.276030511294757419, 0.415075430366263487],
[0.513409770200776827, 0.278707432003062028, 0.416509069897808726],
[0.518925594480382779, 0.281414628214478324, 0.417888294665527793],
[0.524420564672954503, 0.284152883534506184, 0.419214515865915016],
[0.529893768344580018, 0.286922957581017546, 0.420489199653241608],
[0.535344300997992351, 0.289725585580593414, 0.421713865899300655],
[0.540771266303860743, 0.292561478003043718, 0.422890086920996111],
[0.546173776328936933, 0.295431320233043693, 0.424019486179440408],
[0.551550951762080244, 0.298335772277736055, 0.425103736954093980],
[0.556901922139221961, 0.301275468509047184, 0.426144560995359634],
[0.562225826068285417, 0.304251017439413574, 0.427143727158884767],
[0.567521811455067748, 0.307263001529549884, 0.428103050024659149],
[0.572789035731077978, 0.310311977026862029, 0.429024388503812415],
[0.578026666084315965, 0.313398473833063074, 0.429909644435812421],
[0.583233879693953350, 0.316522995399551643, 0.430760761178546947],
[0.588409863969867719, 0.319686018649092130, 0.431579722193550452],
[0.593553816797964484, 0.322887993922352623, 0.432368549628377841],
[0.598664946792215158, 0.326129344947862165, 0.433129302897896640],
[0.603742473554315429, 0.329410468833973680, 0.433864077265978698],
[0.608785627941862972, 0.332731736081453233, 0.434575002428811197],
[0.613793652345933749, 0.336093490615353152, 0.435264241100772498],
[0.618765800978933744, 0.339496049834852542, 0.435933987603500828],
[0.623701340173577701, 0.342939704679831425, 0.436586466458525058],
[0.628599548693852039, 0.346424719712950635, 0.437223930983505649],
[0.633459718058776766, 0.349951333216115712, 0.437848661891840352],
[0.638281152879817459, 0.353519757300205129, 0.438462965895099754],
[0.643063171212722828, 0.357130178027063982, 0.439069174307451626],
[0.647805104924626285, 0.360782755542759070, 0.439669641650946852],
[0.652506300077156598, 0.364477624221221874, 0.440266744260258469],
[0.657166117326364652, 0.368214892817408435, 0.440862878885182663],
[0.661783932340202830, 0.371994644629208615, 0.441460461288951556],
[0.666359136234311977, 0.375816937667377171, 0.442061924840161990],
[0.670891136026843471, 0.379681804832833258, 0.442669719095880765],
[0.675379355113024271, 0.383589254100727806, 0.443286308373280591],
[0.679823233760167511, 0.387539268710735796, 0.443914170306969669],
[0.684222229623788869, 0.391531807363104778, 0.444555794389001946],
[0.688575818285494856, 0.395566804420024787, 0.445213680488426633],
[0.692883493813254092, 0.399644170111961794, 0.445890337347110088],
[0.697144769344668513, 0.403763790748633333, 0.446588281048500735],
[0.701359177693797409, 0.407925528934376280, 0.447310033455952272],
[0.705526271982080511, 0.412129223787693400, 0.448058120617221778],
[0.709645626293864518, 0.416374691164814126, 0.448835071131787167],
[0.713716836356977247, 0.420661723887179650, 0.449643414477708003],
[0.717739520248784846, 0.424990091972769213, 0.450485679294872321],
[0.721713319128075237, 0.429359542871274369, 0.451364391621621397],
[0.725637897993108516, 0.433769801703133284, 0.452282073081974934],
[0.729512946466057133, 0.438220571502519085, 0.453241239020901021],
[0.733338179604056894, 0.442711533464388962, 0.454244396585406107],
[0.737113338736951396, 0.447242347195765555, 0.455294042749526395],
[0.740838192331811696, 0.451812650971448126, 0.456392662281724204],
[0.744512536884150755, 0.456422061994409212, 0.457542725653587945],
[0.748136197835736261, 0.461070176661145970, 0.458746686889222877],
[0.751709030518741384, 0.465756570832330852, 0.460006981355211952],
[0.755230921125919830, 0.470480800109113584, 0.461326023491560433],
[0.758701787706346997, 0.475242400115472419, 0.462706204484606254],
[0.762121581186160690, 0.480040886787062526, 0.464149889883454347],
[0.765490286413585963, 0.484875756667031366, 0.465659417162106071],
[0.768807923227429302, 0.489746487209293979, 0.467237093230052303],
[0.772074547548017742, 0.494652537089834643, 0.468885191894734599],
[0.775290252489462928, 0.499593346526576554, 0.470605951279874757],
[0.778455169491904186, 0.504568337608445883, 0.472401571204289550],
[0.781569469472254474, 0.509576914634237932, 0.474274210526384021],
[0.784633363991742105, 0.514618464461957803, 0.476225984460091067],
[0.787647106438379430, 0.519692356869298933, 0.478258961868533727],
[0.790610993222239378, 0.524797944925977089, 0.480375162542197642],
[0.793525364981243153, 0.529934565378617273, 0.482576554468821028],
[0.796390607794889793, 0.535101539048951636, 0.484865051102618405],
[0.799207154403151598, 0.540298171246063941, 0.487242508640772065],
[0.801975485427493862, 0.545523752193437517, 0.489710723315396168],
[0.804696130590698333, 0.550777557471586965, 0.492271428709376180],
[0.807369669931948808, 0.556058848477024803, 0.494926293104623938],
[0.809996735013302382, 0.561366872898342084, 0.497676916871331587],
[0.812578010113434557, 0.566700865210162274, 0.500524829906803359],
[0.815114233404209632, 0.572060047185715237, 0.503471489132345185],
[0.817606198105367055, 0.577443628428787714, 0.506518276056542427],
[0.820054753612294074, 0.582850806925744092, 0.509666494413009041],
[0.822460806591534199, 0.588280769618343080, 0.512917367880413200],
[0.824825322038425290, 0.593732692997990918, 0.516272037892219315],
[0.827149324290869403, 0.599205743722091344, 0.519731561543174014],
[0.829433897993036795, 0.604699079253060767, 0.523296909599103688],
[0.831680189002398373, 0.610211848520583855, 0.526968964616091995],
[0.833889405233287695, 0.615743192607585588, 0.530748519174567779],
[0.836062817429826133, 0.621292245460385084, 0.534636274233261322],
[0.838201759860830120, 0.626858134623392349, 0.538632837607407877],
[0.840307630929050919, 0.632439981998687117, 0.542738722574992782],
[0.842381893686842909, 0.638036904630696067, 0.546954346614205944],
[0.844426076250179070, 0.643648015516159688, 0.551280030274703736],
[0.846441772102717427, 0.649272424439448770, 0.555715996184672378],
[0.848430640281500503, 0.654909238833236596, 0.560262368195116323],
[0.850394405435723866, 0.660557564664430274, 0.564919170662257386],
[0.852334857749961317, 0.666216507345150144, 0.569686327868374587],
[0.854253852723201201, 0.671885172668471475, 0.574563663580950013],
[0.856153310795043532, 0.677562667768525584, 0.579550900749486675],
[0.858035216810530632, 0.683248102104433985, 0.584647661338946523],
[0.859901619315193155, 0.688940588467465531, 0.589853466298336793],
[0.861754629672097594, 0.694639244010670676, 0.595167735662604946],
[0.863596420992981173, 0.700343191300134671, 0.600589788785642176],
[0.865429226875880198, 0.706051559386888350, 0.606118844701887260],
[0.867255339942110348, 0.711763484898381371, 0.611754022613697823],
[0.869077110165991984, 0.717478113148309338, 0.617494342501385796],
[0.870896942991256418, 0.723194599263482396, 0.623338725852521813],
[0.872717297228851718, 0.728912109326296687, 0.629285996506834922],
[0.874540682731579144, 0.734629821531269322, 0.635334881612765190],
[0.876369657841942762, 0.740346927353985995, 0.641484012691398986],
[0.878206826610522962, 0.746062632730719266, 0.647731926803221003],
[0.880054835783328770, 0.751776159246873021, 0.654077067812732560],
[0.881916371557709078, 0.757486745332337175, 0.660517787745588114],
[0.883794156107714612, 0.763193647461751223, 0.667052348232421544],
[0.885690943881154214, 0.768896141357619078, 0.673678922032982186],
[0.887609517672048098, 0.774593523194172962, 0.680395594633548817],
[0.889552684473727040, 0.780285110799832760, 0.687200365909819366],
[0.891523271119429750, 0.785970244856114664, 0.694091151846567000],
[0.893524119718941523, 0.791648290090835927, 0.701065786304252314],
[0.895558082901575348, 0.797318636463470232, 0.708122022821506936],
[0.897628018877565381, 0.802980700340606646, 0.715257536440835673],
[0.899736786331835292, 0.808633925659493991, 0.722469925543039571],
[0.901887239165939825, 0.814277785077807126, 0.729756713673631707],
[0.904082221105907968, 0.819911781107915405, 0.737115351341820158],
[0.906324560195677087, 0.825535447234123088, 0.744543217769380705],
[0.908617063197729502, 0.831148349011627152, 0.752037622562764074],
[0.910962509924577612, 0.836750085146241940, 0.759595807276921109],
[0.913363647526767020, 0.842340288554335404, 0.767214946833341904],
[0.915823184765165665, 0.847918627402912572, 0.774892150747351849],
[0.918343786297568299, 0.853484806130372919, 0.782624464110417417],
[0.920928067012011353, 0.859038566449196406, 0.790408868261467612],
[0.923578586441880955, 0.864579688332729912, 0.798242281066308013],
[0.926297843301034374, 0.870107990989349767, 0.806121556705017728],
[0.929088270180838394, 0.875623333828692396, 0.814043484842318144],
[0.931952228455835585, 0.881125617426395946, 0.822004789023220050],
[0.934892003450846110, 0.886614784496032815, 0.830002124092854121],
[0.937909799930651045, 0.892090820879814506, 0.838032072381024951],
[0.941007737984947079, 0.897553756573375994, 0.846091138312409896],
[0.944187849397644441, 0.903003666804938932, 0.854175740993144972],
[0.947452074613353568, 0.908440673195787918, 0.862282204169431465],
[0.950802260449065684, 0.913864945038122989, 0.870406742731552496],
[0.954240158752173495, 0.919276700739014685, 0.878545444611711246],
[0.957767426287784773, 0.924676209497254042, 0.886694246438137212],
[0.961385626267665550, 0.930063793306176834, 0.894848900562554062],
[0.965096232142724220, 0.935439829414970836, 0.903004929901614184],
[0.968900634632043123, 0.940804753441818464, 0.911157565113498436],
[0.972800153570999915, 0.946159063429587888, 0.919301655377148474],
[0.976796057267092954, 0.951503325297385794, 0.927431538271409450],
[0.980889594168860790, 0.956838180426304752, 0.935540843451192816],
[0.985082045976168774, 0.962164356649336860, 0.943622183227086575],
[0.989374820904253993, 0.967482684985133790, 0.951666636283486356],
[0.993769629451727865, 0.972794126832541628, 0.959662817544608360],
[0.998268852449712418, 0.978099822390522955, 0.967595010876348582],
[1.00000000000000000, 0.983401189840341305, 0.975438746889887187],
[1.00000000000000000, 0.988700186578215789, 0.983146753118402272],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
