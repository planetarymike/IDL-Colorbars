from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000344093437562230603, 0.000360407700016465075, 0.000285794187502940984],
[0.000968570484259697858, 0.00104331261456153232, 0.000776065294170032237],
[0.00184798241286967982, 0.00203550085962512063, 0.00144647398598211278],
[0.00295512261576662445, 0.00332203989870209337, 0.00227284594945740669],
[0.00426977278531456665, 0.00489459517804752449, 0.00323926712164180177],
[0.00577527939726540842, 0.00674825927579195215, 0.00433445128507102973],
[0.00745709690834640837, 0.00888021638776892441, 0.00555011343822918706],
[0.00930203957042468124, 0.0112890560435982956, 0.00688009704286977018],
[0.0112978513401232276, 0.0139743748827860347, 0.00831985117159307445],
[0.0134329393732883096, 0.0169365253777915212, 0.00986609288406408054],
[0.0156961999565642142, 0.0201764471047940208, 0.0115165770489773899],
[0.0180769004510847597, 0.0236955478057534613, 0.0132699328681628731],
[0.0205645970676542021, 0.0274956161776436121, 0.0151255440464480289],
[0.0231490765845770996, 0.0315787557801788243, 0.0170834587497757442],
[0.0258203146505299221, 0.0359473335089113347, 0.0191443206093130612],
[0.0285684459310904804, 0.0406011564437277692, 0.0213093150315479124],
[0.0313837429382351416, 0.0452925314040659513, 0.0235801269168096628],
[0.0342566013742750253, 0.0499485016850631722, 0.0259589070624813290],
[0.0371775304650297858, 0.0545728150148206484, 0.0284482452992905407],
[0.0401371471860310011, 0.0591687528003656746, 0.0310511489311200012],
[0.0430321358923912364, 0.0637392034123140383, 0.0337710254103092203],
[0.0458263804143208622, 0.0682867208184719521, 0.0366116684360947436],
[0.0485260131304324424, 0.0728135720227681971, 0.0395772468480272976],
[0.0511323956500344887, 0.0773217758372337638, 0.0426009210432591531],
[0.0536466784790966475, 0.0818131348635909583, 0.0456132333356853922],
[0.0560698285020762369, 0.0862892620967453672, 0.0486267450822345307],
[0.0584026520405221197, 0.0907516032263813444, 0.0516446465523975259],
[0.0606458143485202952, 0.0952014554661592405, 0.0546699396370956756],
[0.0627998562153843642, 0.0996399835566082748, 0.0577054553442183024],
[0.0648652082034162913, 0.104068233449847641, 0.0607538686843189166],
[0.0668422029401665174, 0.108487144079375569, 0.0638177113987716538],
[0.0687310858014745785, 0.112897557537599891, 0.0668993828935143808],
[0.0705320242572267664, 0.117300227921328770, 0.0700011596720668816],
[0.0722451161015387477, 0.121695829056609417, 0.0731252035069566153],
[0.0738703967496506797, 0.126084961275804680, 0.0762735685454832835],
[0.0754078457526455859, 0.130468157389219158, 0.0794482075112710462],
[0.0768573926563565490, 0.134845887969128081, 0.0826509771353438338],
[0.0782189223111001974, 0.139218566044365222, 0.0858836429280391000],
[0.0794922797231408518, 0.143586551287656738, 0.0891478833848174390],
[0.0806772745262011870, 0.147950153764882797, 0.0924452937040871892],
[0.0817736851413737864, 0.152309637304774259, 0.0957773890828627350],
[0.0827812626858853706, 0.156665222538758503, 0.0991456076459068525],
[0.0836997346850786861, 0.161017089653386874, 0.102551313055566584],
[0.0845288086373459091, 0.165365380891709185, 0.105995796842472512],
[0.0852681754784460344, 0.169710202834893631, 0.109480280491388304],
[0.0859175129895016210, 0.174051628491127625, 0.113005917311559456],
[0.0864764891919017897, 0.178389699215245057, 0.116573794116766660],
[0.0869447657722904888, 0.182724426479480590, 0.120184932736787042],
[0.0873220015817964546, 0.187055793513165480, 0.123840291379032352],
[0.0876078562556654727, 0.191383756826967788, 0.127540765856631322],
[0.0878019940025399626, 0.195708247635390242, 0.131287190697140316],
[0.0879040876169159824, 0.200029173189607445, 0.135080340144278388],
[0.0879138227739009182, 0.204346418031321864, 0.138920929063596404],
[0.0878309026724861386, 0.208659845177098013, 0.142809613761726378],
[0.0876550531023582435, 0.212969297241576594, 0.146746992727791792],
[0.0873860280201158579, 0.217274597507046641, 0.150733607304673861],
[0.0870236157339303040, 0.221575550946043087, 0.154769942297077578],
[0.0865676458117458636, 0.225871945202926194, 0.158856426522716199],
[0.0860179968474484302, 0.230163551539773192, 0.162993433312417141],
[0.0853746052429003866, 0.234450125751349381, 0.167181280964512763],
[0.0846374751919338197, 0.238731409053439703, 0.171420233158532748],
[0.0838066900865795383, 0.243007128948370565, 0.175710499332910830],
[0.0828824256069010390, 0.247277000071160935, 0.180052235031182201],
[0.0818649648055460866, 0.251540725019379907, 0.184445542220954217],
[0.0807547155580577158, 0.255797995169464498, 0.188890469589762244],
[0.0795522308223774177, 0.260048491481958188, 0.193387012821803511],
[0.0782582322381960849, 0.264291885297860518, 0.197935114859422001],
[0.0768736377019836048, 0.268527839128026802, 0.202534666153141418],
[0.0753995936797439426, 0.272756007437336190, 0.207185504903958984],
[0.0738375131709092247, 0.276976037425124277, 0.211887417301556580],
[0.0721891204170518885, 0.281187569803191206, 0.216640137762028007],
[0.0704565036625423025, 0.285390239572499482, 0.221443349168667647],
[0.0686421775242024856, 0.289583676799509693, 0.226296683119326936],
[0.0667491568153817105, 0.293767507392937610, 0.231199720183781432],
[0.0647810439955014417, 0.297941353881556015, 0.236151990174517545],
[0.0627421327714064725, 0.302104836193525905, 0.241152972434284185],
[0.0606375307443645442, 0.306257572437591996, 0.246202096143699367],
[0.0584733043408724104, 0.310399179686346061, 0.251298740652142805],
[0.0562566495233641009, 0.314529274761636946, 0.256442235835089072],
[0.0539960918420914412, 0.318647475022079796, 0.261631862480964594],
[0.0517017190895045012, 0.322753399152490628, 0.266866852710522462],
[0.0493854488864524308, 0.326846667954973524, 0.272146390431636798],
[0.0470613315693000009, 0.330926905141266658, 0.277469611832316498],
[0.0447458851977975622, 0.334993738125849150, 0.282835605914624366],
[0.0424584536240521851, 0.339046798819212625, 0.288243415072067355],
[0.0402180875723070763, 0.343085724420607530, 0.293692035712891486],
[0.0380629445606957897, 0.347110158209468667, 0.299180418931577541],
[0.0360779136399095798, 0.351119750334654868, 0.304707471230676596],
[0.0342839539658066073, 0.355114158600535079, 0.310272055294973315],
[0.0327025812275706304, 0.359093049248888796, 0.315872990819789534],
[0.0313558502248782803, 0.363056097735506622, 0.321509055395064802],
[0.0302663361986262661, 0.367002989500307131, 0.327178985446665238],
[0.0294571149307176032, 0.370933420729729180, 0.332881477236176060],
[0.0289517416326537415, 0.374847099110089954, 0.338615187920227656],
[0.0287742286468254220, 0.378743744570553042, 0.344378736670201135],
[0.0289490219884521310, 0.382623090014307055, 0.350170705852941244],
[0.0295009767604859294, 0.386484882036499111, 0.355989642272870221],
[0.0304553314776772575, 0.390328881627455049, 0.361834058475691611],
[0.0318376813403904446, 0.394154864859671050, 0.367702434113615029],
[0.0336739505025157246, 0.397962623557051309, 0.373593217371812114],
[0.0359903633820379057, 0.401751965944849354, 0.379504826455570821],
[0.0388134150663841312, 0.405522717278764155, 0.385435651137371493],
[0.0421204225329011098, 0.409274720451642926, 0.391384054362861944],
[0.0457818824576787034, 0.413007836576250065, 0.397348373914479025],
[0.0497746244726146661, 0.416721945542582350, 0.403326924131201470],
[0.0540680259006629041, 0.420416946548223092, 0.409317997682699775],
[0.0586330352266372853, 0.424092758600276176, 0.415319867395891273],
[0.0634427606133537159, 0.427749320987440784, 0.421330788131692502],
[0.0684727524409832755, 0.431386593720855471, 0.427348998709516481],
[0.0737010666501888290, 0.435004557942370806, 0.433372723876851940],
[0.0791081841957639032, 0.438603216298998677, 0.439400176321038782],
[0.0846768453274368005, 0.442182593282329894, 0.445429558720148166],
[0.0903918409739445650, 0.445742735531809930, 0.451459065829679040],
[0.0962397896528224828, 0.449283712100827459, 0.457486886601591591],
[0.102208917732557469, 0.452805614684678337, 0.463511206332027081],
[0.108288853308774052, 0.456308557809552207, 0.469530208833889018],
[0.114470438847384892, 0.459792678981782610, 0.475542078630323550],
[0.120745564472851591, 0.463258138796743324, 0.481545003164980223],
[0.127107021797683961, 0.466705121006836643, 0.487537175024833680],
[0.133548377077108954, 0.470133832548180364, 0.493516794171217910],
[0.140063861923736099, 0.473544503525697713, 0.499482070174650794],
[0.146648279616821836, 0.476937387156432135, 0.505431224448938399],
[0.153296925045930676, 0.480312759671068845, 0.511362492480002206],
[0.160005516447240842, 0.483670920173723984, 0.517274126044822702],
[0.166770137263238916, 0.487012190460238970, 0.523164395415879335],
[0.173587186648396119, 0.490336914795321099, 0.529031591546456070],
[0.180453337333980224, 0.493645459649003249, 0.534874028232198318],
[0.187365499743236907, 0.496938213393037953, 0.540690044244341528],
[0.194320791409118815, 0.500215585957957232, 0.546478005430080849],
[0.201316510888389255, 0.503478008451662684, 0.552236306775614527],
[0.208350115488924681, 0.506725932740523355, 0.557963374427490333],
[0.215419202232378981, 0.509959830994096697, 0.563657667667977536],
[0.222521491564280860, 0.513180195194681832, 0.569317680840316642],
[0.229654813399503666, 0.516387536613039377, 0.574941945219818895],
[0.236817095155291923, 0.519582385251712520, 0.580529030826968717],
[0.244006351477901506, 0.522765289257480448, 0.586077548178811969],
[0.251220675414356109, 0.525936814304571176, 0.591586149975126707],
[0.258458230818939816, 0.529097542950342836, 0.597053532716043001],
[0.265717245815991709, 0.532248073965226776, 0.602478438248004622],
[0.272996007167636834, 0.535389021638780105, 0.607859655235155505],
[0.280292855417578257, 0.538521015063777031, 0.613196020553496202],
[0.287606180701273029, 0.541644697400300301, 0.618486420605352083],
[0.294934419128789871, 0.544760725121858469, 0.623729792551973472],
[0.302276049660343771, 0.547869767245567907, 0.628925125462308499],
[0.309629591405912896, 0.550972504548482789, 0.634071461376269241],
[0.316993601290112559, 0.554069628772162481, 0.639167896281045089],
[0.324366672031805803, 0.557161841817566006, 0.644213580999305146],
[0.331747430394892906, 0.560249854932389324, 0.649207721988367403],
[0.339134535672838744, 0.563334387892908350, 0.654149582049703415],
[0.346526678374484864, 0.566416168182411694, 0.659038480948377248],
[0.353922579083223110, 0.569495930168247622, 0.663873795942308553],
[0.361320987465276522, 0.572574414279491184, 0.668654962221484239],
[0.368720681406098372, 0.575652366187191067, 0.673381473257502750],
[0.376120466256720132, 0.578730535989085304, 0.678052881064083235],
[0.383519174174241806, 0.581809677400652370, 0.682668796369401920],
[0.390915663542783121, 0.584890546954249579, 0.687228888701366114],
[0.398308818462969227, 0.587973903208070192, 0.691732886387144585],
[0.405697548299668698, 0.591060505966529370, 0.696180576468490408],
[0.413080787278966466, 0.594151115513636197, 0.700571804534608766],
[0.420457494126654507, 0.597246491860804030, 0.704906474474498834],
[0.427826651741453345, 0.600347394010473434, 0.709184548150891159],
[0.435187266897177960, 0.603454579236816113, 0.713406044998074029],
[0.442538369968784373, 0.606568802384699790, 0.717571041546052113],
[0.449879014677963263, 0.609690815188001722, 0.721679670873636159],
[0.457208277854605882, 0.612821365608224422, 0.725732121993186485],
[0.464525259210847807, 0.615961197194329180, 0.729728639169864413],
[0.471829081125107408, 0.619111048464523472, 0.733669521178339057],
[0.479118888433694934, 0.622271652310713908, 0.737555120499999828],
[0.486393848228153736, 0.625443735426174707, 0.741385842463801570],
[0.493653149656660684, 0.628628017756927004, 0.745162144333944565],
[0.500896003728192318, 0.631825211977191548, 0.748884534347624475],
[0.508121643118350508, 0.635036022989220017, 0.752553570706158137],
[0.515329321976010779, 0.638261147447686472, 0.756169860522799553],
[0.522518315730123306, 0.641501273308740738, 0.759734058730584416],
[0.529687920896141251, 0.644757079403759259, 0.763246866953544489],
[0.536837454881782250, 0.648029235037709372, 0.766709032344638275],
[0.543966255791823228, 0.651318399612007104, 0.770121346393707551],
[0.551073682231931317, 0.654625222271634222, 0.773484643708769681],
[0.558159113111409311, 0.657950341576247766, 0.776799800773888549],
[0.565221947445021522, 0.661294385194916678, 0.780067734686857306],
[0.572261604154015058, 0.664657969624085965, 0.783289401879840086],
[0.579277521866561784, 0.668041699928292987, 0.786465796826075758],
[0.586269158717894978, 0.671446169503123858, 0.789597950735687615],
[0.593235992150479618, 0.674871959859833392, 0.792686930243539978],
[0.600177518714545388, 0.678319640431031323, 0.795733836092033631],
[0.607093253869419702, 0.681789768396771523, 0.798739801811627292],
[0.613982731786056557, 0.685282888530376222, 0.801705992401794298],
[0.620845505151239818, 0.688799533063269909, 0.804633603015023180],
[0.627681144973916250, 0.692340221568083947, 0.807523857646377352],
[0.634489240394167209, 0.695905460859282066, 0.810378007831047631],
[0.641269398495311171, 0.699495744910503814, 0.813197331352199404],
[0.648021244119690087, 0.703111554787839488, 0.815983130961356995],
[0.654744419688639390, 0.706753358598224524, 0.818736733113436421],
[0.661438585027207759, 0.710421611452125124, 0.821459486718465026],
[0.668103417194198634, 0.714116755439687223, 0.824152761911913001],
[0.674738610318079246, 0.717839219619504809, 0.826817948845479211],
[0.681343875439348157, 0.721589420019173588, 0.829456456500084594],
[0.687918940359962927, 0.725367759646778132, 0.832069711522735345],
[0.694463549500436761, 0.729174628512459622, 0.834659157088838755],
[0.700977463765213638, 0.733010403659220211, 0.837226251791499343],
[0.707460460416989401, 0.736875449202107791, 0.839772468559218055],
[0.713912332960630280, 0.740770116374917520, 0.842299293603409938],
[0.720332891037386847, 0.744694743583564800, 0.844808225397058576],
[0.726721960330131700, 0.748649656465248503, 0.847300773685826125],
[0.733079382480362640, 0.752635167952550255, 0.849778458532891134],
[0.739405015017796763, 0.756651578341568487, 0.852242809398782386],
[0.745698731303384932, 0.760699175363213076, 0.854695364257485157],
[0.751960420486661452, 0.764778234256735967, 0.857137668750118209],
[0.758189987478415817, 0.768889017844563205, 0.859571275377525534],
[0.764387352939695175, 0.773031776607484011, 0.861997742733189520],
[0.770552453288347428, 0.777206748759171395, 0.864418634777987749],
[0.776685240724292014, 0.781414160319016671, 0.866835520158426576],
[0.782785683274929811, 0.785654225182166544, 0.869249971570165036],
[0.788853764862196938, 0.789927145185606139, 0.871663565168848353],
[0.794889485392955675, 0.794233110169033529, 0.874077880030550092],
[0.800892860874609980, 0.798572298029187833, 0.876494497664421113],
[0.806863923558061358, 0.802944874766160388, 0.878915001580583444],
[0.812802722110427256, 0.807350994520071197, 0.881340976916767271],
[0.818709321820204283, 0.811790799596330159, 0.883774010127801435],
[0.824583804838032508, 0.816264420477471053, 0.886215688742796104],
[0.830426270456598781, 0.820771975819300170, 0.888667601195747059],
[0.836236835433808223, 0.825313572428779008, 0.891131336736366686],
[0.842015634363999288, 0.829889305220685158, 0.893608485429289168],
[0.847762820102773818, 0.834499257149623697, 0.896100638251412951],
[0.853478564251965666, 0.839143499113386038, 0.898609387299167062],
[0.859163057712460265, 0.843822089822960364, 0.901136326119974074],
[0.864816511313988068, 0.848535075633611302, 0.903683050185277614],
[0.870439156532819336, 0.853282490330367072, 0.906251157526409834],
[0.876031246310448597, 0.858064354859902845, 0.908842249559464799],
[0.881593055989154051, 0.862880676999058016, 0.911457932131587545],
[0.887124884383761692, 0.867731450948088789, 0.914099816829074818],
[0.892627055013397230, 0.872616656833910098, 0.916769522598019360],
[0.898099917522672153, 0.877536260104986421, 0.919468677741683060],
[0.903543849329190518, 0.882490210794767638, 0.922198922376570862],
[0.908959257543891286, 0.887478442624306085, 0.924961911452818808],
[0.914346581223735466, 0.892500871906281357, 0.927759318476482520],
[0.919706294033512339, 0.897557396201293267, 0.930592840114979669],
[0.925038907417396028, 0.902647892661580298, 0.933464201927580506],
[0.930344974413727432, 0.907772215975443331, 0.936375165548345989],
[0.935625094293181747, 0.912930195794420585, 0.939327537771703969],
[0.940879918267603865, 0.918121633479972110, 0.942323182170708318],
[0.946110156615853515, 0.923346297939134697, 0.945364034147475718],
[0.951316587722618734, 0.928603920216161671, 0.948452120729179282],
[0.956500069758924876, 0.933894186346610700, 0.951589587077384169],
[0.961661556107158089, 0.939216727720319056, 0.954778732747766701],
[0.966802116257717947, 0.944571107762240736, 0.958022062552709053],
[0.971922964994771932, 0.949956802970071457, 0.961322360103825546],
[0.977025504697032532, 0.955373174917292345, 0.964682798156465737],
[0.982111389530563872, 0.960819426992837067, 0.968107111982144608],
[0.987182628747332758, 0.966294533537006894, 0.971599888313860682],
[0.992241766340484888, 0.971797114387416339, 0.975167086092863955],
[0.997292229306287692, 0.977325187268971996, 0.978817083463990545],
[1.00000000000000000, 0.982875591278119187, 0.982563163183521770],
[1.00000000000000000, 0.988442187626545565, 0.986431433643390698],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
