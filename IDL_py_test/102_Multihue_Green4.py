from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000432857929264628876, 0.000323548150241803156, 0.000305382948634669391],
[0.00129659909299611326, 0.000907901405687268847, 0.000841242496929683458],
[0.00258830580581495421, 0.00173151388790202736, 0.00157895525562988981],
[0.00430134008895515819, 0.00277201625712422987, 0.00248894148368574483],
[0.00643417539206983524, 0.00401447760961562775, 0.00354895547383617116],
[0.00898750071649844114, 0.00544800152388568749, 0.00474069779692392040],
[0.0119630813259685755, 0.00706424837028341631, 0.00604835209967048443],
[0.0153632041849180428, 0.00885666053106442565, 0.00745782715613654053],
[0.0191903702434966066, 0.0108200067307231192, 0.00895631910327394400],
[0.0234471072841227028, 0.0129500922054793504, 0.0105320395498467549],
[0.0281358479300249584, 0.0152435635094403336, 0.0121740377441069050],
[0.0332588456513987565, 0.0176977711880080962, 0.0138720796875477694],
[0.0388181143013811222, 0.0203106697710293896, 0.0156165634568276330],
[0.0446141520105756348, 0.0230807428755531036, 0.0173984584202040576],
[0.0503431099941471852, 0.0260069457953239977, 0.0192092606729683466],
[0.0560173252142001296, 0.0290886606207796522, 0.0210409597141744710],
[0.0616402921729131206, 0.0323256605554831655, 0.0228860130293364536],
[0.0672148886581565852, 0.0357180811201219042, 0.0247373262829645238],
[0.0727434884271913884, 0.0392663966045747118, 0.0265882375045721868],
[0.0782280487088450604, 0.0428853897412559762, 0.0284325041095300872],
[0.0836701791247499438, 0.0464598773363380027, 0.0302642919123878827],
[0.0890711966720074411, 0.0500032785870232407, 0.0320781655138256336],
[0.0944321700939882713, 0.0535189577000747610, 0.0338690796036797970],
[0.0997539560635365141, 0.0570100197649119969, 0.0356323708410156564],
[0.105037228972200220, 0.0604793438051311541, 0.0373637500607737899],
[0.110282505670915576, 0.0639296101695528418, 0.0390592946236637192],
[0.115490166184129189, 0.0673633233892471650, 0.0407104564873326455],
[0.120660471182645529, 0.0707828313705461953, 0.0422729633043963590],
[0.125793576825024678, 0.0741903416030855745, 0.0437584783295355759],
[0.130889547445761478, 0.0775879349180325639, 0.0451692407219235550],
[0.135948366468692350, 0.0809775772220817092, 0.0465074326184346035],
[0.140969945847647049, 0.0843611295485041379, 0.0477751894030276139],
[0.145954134277270692, 0.0877403567010906216, 0.0489746086622767848],
[0.150900724370869682, 0.0911169347155597331, 0.0501077580595638492],
[0.155809458965891240, 0.0944924573225329745, 0.0511766823201694268],
[0.160680036688952726, 0.0978684415639555771, 0.0521834094874186402],
[0.165512116889427630, 0.101246332689031243, 0.0531299565842723656],
[0.170305324032207578, 0.104627508434893379, 0.0540183347938747796],
[0.175059251625378110, 0.108013282780311110, 0.0548505542554863709],
[0.179773465746476596, 0.111404909246879236, 0.0556286285581094955],
[0.184447508221102591, 0.114803583810770937, 0.0563545790022991419],
[0.189080899499530497, 0.118210447478704683, 0.0570304386906129654],
[0.193673141270282540, 0.121626588573949174, 0.0576582564985126181],
[0.198223718844026897, 0.125053044771649024, 0.0582401009699007668],
[0.202732103336561498, 0.128490804917232054, 0.0587780641746363311],
[0.207197753675728735, 0.131940810657029950, 0.0592742655590508746],
[0.211620118453879791, 0.135403957906279737, 0.0597308558145173626],
[0.215998637644728153, 0.138881098176322188, 0.0601500207833064252],
[0.220332744201131081, 0.142373039779925575, 0.0605339854151932186],
[0.224621865548346400, 0.145880548931186016, 0.0608850177823760733],
[0.228865424985645383, 0.149404350754321097, 0.0612054331541599175],
[0.233062843007712628, 0.152945130213818892, 0.0614975981264160101],
[0.237213538556053094, 0.156503532976795645, 0.0617639347939863484],
[0.241316930209554303, 0.160080166217010017, 0.0620069249468710518],
[0.245372437322459780, 0.163675599368761165, 0.0622291142631886326],
[0.249379481117213864, 0.167290364837818312, 0.0624331164634811461],
[0.253337485738974744, 0.170924958675588795, 0.0626216173819784672],
[0.257245879277997414, 0.174579841221908005, 0.0627973789009468320],
[0.261104094765581884, 0.178255437721100057, 0.0629632426843273751],
[0.264911571148849834, 0.181952138915322137, 0.0631221336366347141],
[0.268667754249208690, 0.185670301618642647, 0.0632770630027328085],
[0.272372097709048411, 0.189410249274805986, 0.0634311310138838125],
[0.276024063930906116, 0.193172272501203363, 0.0635875289757030226],
[0.279623125013082952, 0.196956629621192869, 0.0637495406847753965],
[0.283168763685470726, 0.200763547186572633, 0.0639205430531624708],
[0.286660474249143482, 0.204593220491730288, 0.0641040058144516367],
[0.290097763523094798, 0.208445814080737646, 0.0643034901819893312],
[0.293480151801347955, 0.212321462248442339, 0.0645226463302086828],
[0.296807173823508352, 0.216220269536436471, 0.0647652095742157763],
[0.300078379761728353, 0.220142311224608034, 0.0650349951317601704],
[0.303293336226915455, 0.224087633818868481, 0.0653358913660100626],
[0.306451627296918438, 0.228056255535537211, 0.0656718514277314369],
[0.309552855569332985, 0.232048166782770071, 0.0660468832418608098],
[0.312596643241469907, 0.236063330639362079, 0.0664650378161306954],
[0.315582633219933462, 0.240101683331201909, 0.0669303958881209970],
[0.318510490262203738, 0.244163134705602691, 0.0674470529712123679],
[0.321379902152483465, 0.248247568703737209, 0.0680191029082975185],
[0.324190580914034410, 0.252354843831366971, 0.0686506200932535116],
[0.326942264060110010, 0.256484793628069085, 0.0693456405720679348],
[0.329634715885519736, 0.260637227135160576, 0.0701081422858056413],
[0.332267728800749895, 0.264811929362540999, 0.0709420247636364520],
[0.334841124710493876, 0.269008661754685685, 0.0718510886132270321],
[0.337354756438300540, 0.273227162656056066, 0.0728390151851869283],
[0.339808509198973596, 0.277467147776209122, 0.0739093468056725988],
[0.342202302120192370, 0.281728310654936365, 0.0750654679747597142],
[0.344536089814716673, 0.286010323127778798, 0.0763105879167055578],
[0.346809864004358925, 0.290312835792317314, 0.0776477248414420285],
[0.349023655196766702, 0.294635478475657964, 0.0790796922352372533],
[0.351177534415837766, 0.298977860703582898, 0.0806090874440638372],
[0.353271614986423621, 0.303339572171859140, 0.0822382827483068013],
[0.355306054373715818, 0.307720183220246912, 0.0839694190551762976],
[0.357281056077477011, 0.312119245309764592, 0.0858044022592354405],
[0.359196871580986454, 0.316536291503818901, 0.0877449022455475402],
[0.361053802354279474, 0.320970836953811123, 0.0897923544378307625],
[0.362852201910888683, 0.325422379389883998, 0.0919479637289215279],
[0.364592477916950097, 0.329890399617469021, 0.0942127105755208583],
[0.366275094351103892, 0.334374362020329607, 0.0965873589955004996],
[0.367900573713164702, 0.338873715070797776, 0.0990724661751186120],
[0.369469499279038771, 0.343387891847921844, 0.101668393375529381],
[0.370982517398820100, 0.347916310564234110, 0.104375317822488101],
[0.372440339834382850, 0.352458375101862342, 0.107193245269031567],
[0.373843746132151378, 0.357013475558690230, 0.110122022936459951],
[0.375193586025995007, 0.361580988805273174, 0.113161352562359402],
[0.376490781864441682, 0.366160279053193150, 0.116310803313539379],
[0.377736331055540386, 0.370750698435519610, 0.119569824354672866],
[0.378931308521824384, 0.375351587600019354, 0.122937756898203354],
[0.380076869156820984, 0.379962276315723546, 0.126413845596089841],
[0.381174250273544846, 0.384582084093424481, 0.129997249167844137],
[0.382224774034245485, 0.389210320820643219, 0.133687050190989087],
[0.383229849849537285, 0.393846287411543816, 0.137482264008810306],
[0.384190976733744582, 0.398489276472241027, 0.141381846735584710],
[0.385109745601971642, 0.403138572981871446, 0.145384702361127272],
[0.385987841493024564, 0.407793454989752557, 0.149489688974468377],
[0.386827045700821659, 0.412453194328879280, 0.153695624140883169],
[0.387629237795452386, 0.417117057345938957, 0.158001289477593510],
[0.388396397513472102, 0.421784305647955160, 0.162405434481558836],
[0.389130606495426579, 0.426454196865586610, 0.166906779668218208],
[0.389834049847024855, 0.431125985433026160, 0.171504019083266346],
[0.390509017498761435, 0.435798923384362546, 0.176195822250827694],
[0.391157905337213507, 0.440472261166174162, 0.180980835621185165],
[0.391783216079738983, 0.445145248466033483, 0.185857683579777860],
[0.392387559862842128, 0.449817135056505613, 0.190824969076823114],
[0.392973654513170956, 0.454487171654129607, 0.195881273933882938],
[0.393544325468910661, 0.459154610792768592, 0.201025158880212607],
[0.394102505318427054, 0.463818707710620559, 0.206255163367955352],
[0.394651232922228867, 0.468478721250074337, 0.211569805211331063],
[0.395193652083933811, 0.473133914769501895, 0.216967580091037893],
[0.395733009735860508, 0.477783557065966591, 0.222446960961208084],
[0.396272653605170666, 0.482426923307738786, 0.228006397392510218],
[0.396816029327323405, 0.487063295975404154, 0.233644314881409132],
[0.397366676974958866, 0.491691965810245046, 0.239359114152225660],
[0.397928226972202925, 0.496312232768499728, 0.245149170475479905],
[0.398504395367000774, 0.500923406979991270, 0.251012833023069260],
[0.399098978437347707, 0.505524809709536060, 0.256948424278143905],
[0.399715846611249093, 0.510115774319464643, 0.262954239515058863],
[0.400358937685050265, 0.514695647231488751, 0.269028546362527044],
[0.401032249330328383, 0.519263788886085820, 0.275169584461038508],
[0.401739830885862015, 0.523819574697500734, 0.281375565223752289],
[0.402485774438355592, 0.528362396002390766, 0.287644671708366995],
[0.403274205203448255, 0.532891661000089445, 0.293975058605956907],
[0.404109271227096500, 0.537406795682412564, 0.300364852351377387],
[0.404995132436563154, 0.541907244750883144, 0.306812151358593632],
[0.405935949079856806, 0.546392472519222627, 0.313315026383163442],
[0.406935869602514710, 0.550861963798909504, 0.319871521013083526],
[0.407999018020616333, 0.555315224765629889, 0.326479652288290068],
[0.409129480859244499, 0.559751783804375624, 0.333137411448269416],
[0.410331293735325675, 0.564171192331001658, 0.339842764806477293],
[0.411608427673351818, 0.568573025588027692, 0.346593654749584035],
[0.412964775251135896, 0.572956883412505946, 0.353388000858931906],
[0.414404136680579238, 0.577322390973795563, 0.360223701151032694],
[0.415930205934976704, 0.581669199479136756, 0.367098633433416421],
[0.417546557039553678, 0.585996986844953716, 0.374010656771666339],
[0.419256630645415074, 0.590305458331884303, 0.380957613063065304],
[0.421063721008753611, 0.594594347141598756, 0.387937328711872254],
[0.422970963496904218, 0.598863414973552666, 0.394947616400920465],
[0.424981322740417888, 0.603112452539910415, 0.401986276953892441],
[0.427097581545891336, 0.607341280036961528, 0.409051101282363938],
[0.429322330677696595, 0.611549747571483393, 0.416139872411443068],
[0.431657959608233444, 0.615737735540590414, 0.423250367577617137],
[0.434106648325738642, 0.619905154963759864, 0.430380360392230377],
[0.436670360276691316, 0.624051947765838722, 0.437527623063843796],
[0.439350836506109788, 0.628178087009992558, 0.444689928672598878],
[0.442149591044420920, 0.632283577079669978, 0.451865053489596658],
[0.445067907573872101, 0.636368453808860535, 0.459050779334223169],
[0.448106837391577140, 0.640432784560014845, 0.466244895962297734],
[0.451267198669952740, 0.644476668249220230, 0.473445203477884491],
[0.454549576999543736, 0.648500235318331453, 0.480649514761622043],
[0.457954327183777543, 0.652503647653973395, 0.487855657908432716],
[0.461481576240907299, 0.656487098453455875, 0.495061478667527644],
[0.465131227555046822, 0.660450812037852830, 0.502264842877707451],
[0.468902966106576946, 0.664395043612620584, 0.509463638891035631],
[0.472796264701912439, 0.668320078976344267, 0.516655779978108742],
[0.476810391114315502, 0.672226234178342374, 0.523839206708275107],
[0.480944416040917366, 0.676113855126013963, 0.531011889298329876],
[0.485197221776323795, 0.679983317143015520, 0.538171829923406175],
[0.489567511500523189, 0.683835024479460318, 0.545317064983985245],
[0.494053819077648948, 0.687669409775517937, 0.552445667323192780],
[0.498654519262805074, 0.691486933479936949, 0.559555748388787189],
[0.503367838216320029, 0.695288083225129694, 0.566645460334512130],
[0.508191864228272561, 0.699073373160618461, 0.573712998055785350],
[0.513124558560787425, 0.702843343246749241, 0.580756601154975405],
[0.518163766321210750, 0.706598558510697194, 0.587774555831839907],
[0.523307227285674803, 0.710339608266910894, 0.594765196695028586],
[0.528552586599496554, 0.714067105304216687, 0.601726908490874957],
[0.533897405288196514, 0.717781685041910644, 0.608658127746064204],
[0.539339170520459099, 0.721484004657238498, 0.615557344321097211],
[0.544875305571893009, 0.725174742186735055, 0.622423102871845546],
[0.550503179446037105, 0.728854595603944500, 0.629254004216849405],
[0.556220116116159513, 0.732524281876098748, 0.636048706608362213],
[0.562023403358556495, 0.736184536002371104, 0.642805926905548941],
[0.567910301154401331, 0.739836110036331540, 0.649524441648563489],
[0.573878049643472554, 0.743479772095271829, 0.656203088032642712],
[0.579923876618596124, 0.747116305359046828, 0.662840764781685632],
[0.586045004554714088, 0.750746507061107682, 0.669436432921158953],
[0.592238657171157534, 0.754371187474345950, 0.675989116450529837],
[0.598502065529492255, 0.757991168894396994, 0.682497902915756072],
[0.604832473673035831, 0.761607284622973335, 0.688961943882723138],
[0.611227143816915342, 0.765220377953797048, 0.695380455312840762],
[0.617683361100191841, 0.768831301163617531, 0.701752717842336171],
[0.624198437913505155, 0.772440914510792886, 0.708078076967101344],
[0.630769717817397435, 0.776050085243807475, 0.714355943135247418],
[0.637394579067685485, 0.779659686622071635, 0.720585791749826399],
[0.644070437765163817, 0.783270596951262887, 0.726767163084458767],
[0.650794750647522458, 0.786883698635396756, 0.732899662114885997],
[0.657565017541661412, 0.790499877247748395, 0.738982958269730261],
[0.664378783494644520, 0.794120020622671840, 0.745016785104013923],
[0.671233640601448189, 0.797745017970285297, 0.751000939899232112],
[0.678127229547273891, 0.801375759015911515, 0.756935283194031250],
[0.685057240881746243, 0.805013133166116668, 0.762819738249779777],
[0.692021416041711968, 0.808658028703089782, 0.768654290455572431],
[0.699017548138577971, 0.812311332009080789, 0.774438986677442820],
[0.706043482525339772, 0.815973926822539220, 0.780173934556819604],
[0.713097117157505789, 0.819646693527572245, 0.785859301763510598],
[0.720176402761129042, 0.823330508478301582, 0.791495315208787908],
[0.727279342820087771, 0.827026243359700652, 0.797082260224419192],
[0.734403993393627053, 0.830734764586488539, 0.802620479713842094],
[0.741548462773947370, 0.834456932741712842, 0.808110373282014072],
[0.748710910992348655, 0.838193602056695020, 0.813552396350895934],
[0.755889549181057108, 0.841945619934128531, 0.818947059267986277],
[0.763082638796407808, 0.845713826516251710, 0.824294926415894191],
[0.770288490707380924, 0.849499054300235867, 0.829596615331562592],
[0.777505464151800218, 0.853302127803162502, 0.834852795844565065],
[0.784731965560465317, 0.857123863279337650, 0.840064189244811632],
[0.791966447247291816, 0.860965068493117158, 0.845231567491160907],
[0.799207405960940864, 0.864826542551001887, 0.850355752473825222],
[0.806453381290410332, 0.868709075797491792, 0.855437615345182034],
[0.813702953913571059, 0.872613449780103467, 0.860478075935758091],
[0.820954743673227183, 0.876540437290181940, 0.865478102274806815],
[0.828207407460170075, 0.880490802487631785, 0.870438710238303326],
[0.835459636876112910, 0.884465301119668368, 0.875360963351419996],
[0.842710155641274161, 0.888464680846235200, 0.880245972778018526],
[0.849957716700991961, 0.892489681688017566, 0.885094897536718994],
[0.857201098972341757, 0.896541036617319431, 0.889908944992227946],
[0.864439103654175090, 0.900619472317817693, 0.894689371682592771],
[0.871670550000847921, 0.904725710146837892, 0.899437484558929134],
[0.878894270428558277, 0.908860467344214662, 0.904154642735490066],
[0.886109104780799406, 0.913024458545972140, 0.908842259876911918],
[0.893313893520347069, 0.917218397680855446, 0.913501807389438092],
[0.900507469532219384, 0.921443000355646746, 0.918134818638880357],
[0.907688648102816020, 0.925698986875366558, 0.922742894497894706],
[0.914856214466012063, 0.929987086103323257, 0.927327710641188130],
[0.922008908045491848, 0.934308040454346678, 0.931891027179825304],
[0.929145402121234420, 0.938662612450343659, 0.936434701488824128],
[0.936264277012938573, 0.943051593482420625, 0.940960705494845118],
[0.943363983835577735, 0.947475815775580155, 0.945471149359608520],
[0.950442794119677914, 0.951936169150076394, 0.949968314621095655],
[0.957498727457301135, 0.956433625237014140, 0.954454701838920116],
[0.964529443461498492, 0.960969273801990931, 0.958933101479273575],
[0.971532072562005466, 0.965544379832571686, 0.963406704098918598],
[0.978502934565922078, 0.970160478758516187, 0.967879281675979919],
[0.985437031952535514, 0.974819548284120541, 0.972355509800267304],
[0.992327031386661118, 0.979524354469383796, 0.976841605432092641],
[0.999160845287285881, 0.984279275031568202, 0.981346815351158530],
[1.00000000000000000, 0.989092929956213784, 0.985888071123755538],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
