from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00041114250138068607, 0.00031782870401849723, 0.00030206417906018779],
[0.0012424320979368526, 0.00088899, 0.00082739666203849444],
[0.0024975686669562306, 0.0016905139189042871, 0.00154462],
[0.0041745644055847051, 0.0026993160631210602, 0.0024224018142980481],
[0.0062754988086748753, 0.0038998436108708592, 0.0034369542676451152],
[0.0088041140209923607, 0.0052806314836808801, 0.0045685511639275292],
[0.011764880456070524, 0.0068328080231827171, 0.0058000249157430508],
[0.015162546052309990, 0.0085493122486697253, 0.0071159945931744059],
[0.019001887260227095, 0.010424433955925036, 0.0085024226360783574],
[0.023287557401303637, 0.012453521586970774, 0.0099463417816653427],
[0.028023987065577877, 0.014632785845794584, 0.011435678228481924],
[0.033215314542369860, 0.016959161868323074, 0.0129591],
[0.038865334684401141, 0.019430209163292220, 0.014506098969420006],
[0.044764101800042276, 0.022044036973439922, 0.016066604459163657],
[0.050601838672706602, 0.0247992, 0.017631269538576255],
[0.056390747259628539, 0.027694890899678727, 0.019191275871808178],
[0.062133909552727885, 0.030730431912104714, 0.0207383],
[0.067833823926048170, 0.033905720396307938, 0.022264710562884153],
[0.0734925, 0.037220969502052011, 0.023763122607906369],
[0.079111597928737926, 0.040672537008076583, 0.025226816164081980],
[0.084692379751845848, 0.044110886876843315, 0.0266495],
[0.0902359, 0.047516839494849354, 0.028025393942829210],
[0.095742864857945920, 0.050893936787697276, 0.029349120673416478],
[0.10121392933141521, 0.054245465958117765, 0.030615794683672919],
[0.10664947361956795, 0.0575745, 0.031820963234456039],
[0.11204975228276723, 0.060883887073637295, 0.032960606100908701],
[0.11741488859214350, 0.064176348901997415, 0.0340311],
[0.12274489099283239, 0.067454424014531056, 0.035029332554934262],
[0.12803966708492359, 0.070720521568538641, 0.035952440562232992],
[0.13329903557243022, 0.073976927257799113, 0.036798047891602098],
[0.13852273653655445, 0.077225814746338967, 0.037564127699479796],
[0.14371044031751393, 0.080469255398450151, 0.038249],
[0.14886175523353140, 0.083709226583286417, 0.038851388914095217],
[0.15397623432218477, 0.086947618781025471, 0.0393703],
[0.15905338125520135, 0.090186241677055717, 0.039804980943403061],
[0.16409265555074870, 0.093426829398402522, 0.040155169447839346],
[0.16909347718572606, 0.096671045020758795, 0.040420758976390747],
[0.17405523069325421, 0.0999205, 0.0405992],
[0.178977, 0.10317667979408418, 0.040694551556284424],
[0.18385891577913943, 0.10644110222593370, 0.040708285787720490],
[0.18869947022165903, 0.10971516452931848, 0.040641373679499763],
[0.19349820784868740, 0.11300022325671860, 0.040494706322045111],
[0.19825438382173421, 0.11629758062309886, 0.040266282340285557],
[0.20296723493012031, 0.11960848615145991, 0.039958783523559832],
[0.20763598156671920, 0.12293413810941295, 0.039574727190518216],
[0.21225982953203076, 0.12627568476763643, 0.039115982386808981],
[0.21683797168699503, 0.12963422550700621, 0.038584566031648872],
[0.22136958947239677, 0.13301081179768581, 0.037982631225006620],
[0.225854, 0.13640644807044464, 0.037312456262597868],
[0.23028992890311001, 0.13982209249783090, 0.0365764],
[0.23467696843737645, 0.14325865770053795, 0.0357771],
[0.239014, 0.14671701139227875, 0.034916942329718315],
[0.24330053219199899, 0.15019797697470671, 0.033998753054598957],
[0.24753533900212443, 0.15370233409235226, 0.033025264386916373],
[0.25171767786639682, 0.15723081915614442, 0.031999320834238648],
[0.25584668200151306, 0.16078412584285170, 0.0309238],
[0.25992148297075723, 0.16436290557666969, 0.029801803229719835],
[0.26394121150477529, 0.16796776799820087, 0.028636263938957515],
[0.26790499829507913, 0.17159928142519398, 0.027430334765325602],
[0.27181197476578295, 0.17525797330862972, 0.026187192427071682],
[0.27566127382876054, 0.17894433068705112, 0.024910076972477321],
[0.27945203062716367, 0.18265880064141027, 0.023602293198739834],
[0.28318338327200660, 0.18640179075217428, 0.022267213131152694],
[0.28685447357633964, 0.19017366955995096, 0.020908279561422626],
[0.290464, 0.19397476703047167, 0.019529010641542499],
[0.294012, 0.19780537502442524, 0.018133],
[0.29749765961438424, 0.20166574777231117, 0.016723951064732782],
[0.30091921865327009, 0.20555610235423494, 0.015305629506669366],
[0.30427630601789529, 0.20947661918434146, 0.013881927253509696],
[0.307568, 0.21342744249941348, 0.012456844599997985],
[0.31079379424162873, 0.21740868085102222, 0.011034506476991217],
[0.31395258304854717, 0.22142040760051196, 0.0096191741715325758],
[0.31704367784193910, 0.22546266141603683, 0.0082152580084739486],
[0.32006630032075545, 0.22953544677081050, 0.0068273309754631542],
[0.32301968499774580, 0.23363873444172956, 0.0054601432718068390],
[0.32590308022693237, 0.23777246200752994, 0.0041186377604013440],
[0.32871574928186986, 0.241937, 0.0028079663005045699],
[0.33145697148887082, 0.246131, 0.0015335069376147643],
[0.33412604341949992, 0.25035517230847987, 0.00030088192505993747],
[0.33672228014665923, 0.25460938862077426, -0.00088402344991330003],
[0.339245, 0.25889325205415081, -0.0020150412647985797],
[0.34169360880609356, 0.26320651133848461, -0.0030857006167291658],
[0.34406743567523279, 0.26754888541924027, -0.0040892065676227428],
[0.346366, 0.27192006392852630, -0.0050184184163647215],
[0.34858843147472690, 0.27631970765124697, -0.0058658273379089141],
[0.35073448595686441, 0.28074744898640935, -0.0066235334325843147],
[0.35280354973874239, 0.28520289240376812, -0.0072832222326306255],
[0.35479514025915149, 0.28968561489613143, -0.0078361407170633463],
[0.35670880838661190, 0.294195, -0.0082730728904073427],
[0.35854414057075457, 0.29873107037953872, -0.0085843149856021650],
[0.36030076111138143, 0.30329282399134411, -0.0087596503565168533],
[0.361978, 0.30787989880291461, -0.0087883241309742108],
[0.36357656819432849, 0.31249174109371031, -0.0086590177009616461],
[0.36509521476676071, 0.31712777232310913, -0.0083598231328138647],
[0.36653407520696546, 0.321787, -0.0078782175865108606],
[0.36789300160993160, 0.32646996598730765, -0.0072010378398674286],
[0.36917190031990838, 0.33117485123010248, -0.0063144550202282063],
[0.37037073518110719, 0.33590137192997566, -0.0052039496532929339],
[0.37148953095160503, 0.34064883214601177, -0.0038542871458334708],
[0.37252837688605056, 0.34541651383670924, -0.0022494938262849593],
[0.37348743049269822, 0.35020367734027774, -0.000372834],
[0.37436692147006223, 0.35500956186707738, 0.0017932141215468566],
[0.37516715582823784, 0.35983338600597026, 0.0042669766348611129],
[0.37588852019958519, 0.36467434824638045, 0.0070676075449843624],
[0.37653148634304928, 0.36953162751788310, 0.010215106198097392],
[0.37709661584582510, 0.374404, 0.013730335218252022],
[0.377585, 0.379292, 0.017635036498114005],
[0.37799609003439444, 0.38419287530474239, 0.021951845392974741],
[0.37833205216881388, 0.389107, 0.026704302937018712],
[0.37859342338082857, 0.39403274495738483, 0.031916865896849972],
[0.37878129199366239, 0.39897, 0.037614914474110542],
[0.37889686861624133, 0.40391665040880209, 0.043690696238543457],
[0.37894149225242224, 0.40887275526805689, 0.0497598],
[0.378917, 0.41383700736181067, 0.055826513716610592],
[0.37882391651320285, 0.41880842483443043, 0.061903176024586483],
[0.37866509466518511, 0.423786, 0.067999807616107327],
[0.37844208831195691, 0.42876876955903548, 0.074124525604506386],
[0.37815697621972044, 0.43375567685077071, 0.080284003838271001],
[0.37781200568151929, 0.43874571147983399, 0.086483777564146491],
[0.37740959960978526, 0.44373784098002506, 0.092728467247356006],
[0.37695236366693319, 0.44873102571849893, 0.0990219],
[0.37644309339205201, 0.45372421997310625, 0.10536746595332069],
[0.37588478127474328, 0.45871637304983864, 0.111768],
[0.375281, 0.46370643044033349, 0.11822510268282602],
[0.37463402783405003, 0.46869333501919125, 0.124741],
[0.37394861797081758, 0.47367602828063121, 0.13131820268386896],
[0.373228, 0.47865345161380341, 0.13795677116004640],
[0.37247697674001134, 0.48362454761583557, 0.14465809116461845],
[0.37169913389078552, 0.48858826144146877, 0.15142290546976206],
[0.37089926392688738, 0.493544, 0.15825173356696928],
[0.37008216024631718, 0.498489, 0.16514488909193561],
[0.36925286197723844, 0.50342462908605690, 0.17210249444676581],
[0.36841665577405652, 0.50834836606627820, 0.17912449318337864],
[0.36757907636860332, 0.51325953461072993, 0.18621066059313124],
[0.36674590570146875, 0.51815712540528636, 0.19336061285669018],
[0.36592317045002010, 0.52304014201795179, 0.20057381503784216],
[0.36511713776342947, 0.52790760247074808, 0.20784958815013860],
[0.36433430901152480, 0.53275854082697405, 0.215187],
[0.36358141135453259, 0.537592, 0.22258544833310506],
[0.36286538694533471, 0.54240707731192417, 0.23004351128300188],
[0.36219337958559167, 0.54720283820195625, 0.23756010710016173],
[0.36157271867298590, 0.55197840574072343, 0.24513392137039408],
[0.36101090029925859, 0.55673291828587623, 0.25276352691819781],
[0.36051556538886265, 0.56146553987071646, 0.26044738807809492],
[0.36009447480575846, 0.56617546178920619, 0.26818386486433993],
[0.35975548140205932, 0.57086190416290916, 0.27597121707897787],
[0.359506, 0.57552411748506427, 0.28380760839123320],
[0.35935546865049833, 0.58016138413688201, 0.29169111041527362],
[0.35931032156531789, 0.58477301987111474, 0.29961970680836142],
[0.35937894022357514, 0.58935837525791157, 0.30759129740702251],
[0.35956911669386710, 0.59391683708797160, 0.31560370241509394],
[0.35988850932199662, 0.59844782972801713, 0.32365466665421089],
[0.36034459799676421, 0.60295081642366610, 0.33174186388440374],
[0.36094463856909664, 0.60742530054484256, 0.33986290119989787],
[0.36169561702815872, 0.61187082676898297, 0.34801532350295800],
[0.36260420409129623, 0.61628698219740508, 0.35619661805657465],
[0.36367671090302078, 0.62067339740037075, 0.36440421911499166],
[0.364919, 0.62502974738656236, 0.37263551262943534],
[0.36633667816933085, 0.629356, 0.38088784102496609],
[0.36793459416177310, 0.63365117919077729, 0.38915850804305446],
[0.36971727146664685, 0.63791584080538344, 0.39744478364332381],
[0.37168864717921590, 0.64214959814439909, 0.40574390895685619],
[0.37385209519464924, 0.64635236003348495, 0.41405310128253803],
[0.37621040821571716, 0.65052408375565895, 0.42236955911711910],
[0.37876578541515277, 0.65466477539232015, 0.43069046720894716],
[0.38151982590956301, 0.658774, 0.43901300162473944],
[0.38447352807253798, 0.66285333206898245, 0.44733433481826829],
[0.387627, 0.66690145491946551, 0.45565164068940595],
[0.39098094300931102, 0.67091906127306344, 0.463962],
[0.394534, 0.67490640276070180, 0.47226290348629890],
[0.398284, 0.67886377971011436, 0.48055126060031855],
[0.40223094192664566, 0.68279154076567605, 0.48882440062689153],
[0.40637123842220269, 0.68669008240543972, 0.49707957940516806],
[0.41070243410022783, 0.69055984835667450, 0.50531408369786612],
[0.41522131375853843, 0.69440132891162543, 0.51352523584453513],
[0.41992426750721246, 0.69821506014562218, 0.52171039830887045],
[0.42480732763737167, 0.70200162304004965, 0.52986697810874850],
[0.42986620608843495, 0.70576164251309559, 0.53799243111805861],
[0.43509633197439623, 0.70949578636151556, 0.54608426622987083],
[0.440493, 0.71320476411705913, 0.55414004937099948],
[0.44605085011569817, 0.71688932582148124, 0.56215740735859621],
[0.45176501571607380, 0.72055026072439876, 0.57013403159002896],
[0.45763004396303403, 0.72418839590852513, 0.57806768155797528],
[0.46364048411073394, 0.72780459484707749, 0.58595618818335993],
[0.469791, 0.73139975589838446, 0.59379745695951247],
[0.47607542769263961, 0.73497481074291715, 0.60158947090168091],
[0.48248874123507107, 0.73853072276816356, 0.60933029329684030],
[0.489025, 0.74206848540688786, 0.61701807024953592],
[0.49567901942481435, 0.74558912043445424, 0.62465103302032576],
[0.50244483727883837, 0.74909367623096701, 0.632228],
[0.509317, 0.75258322601405536, 0.63974587939731597],
[0.51629034596325374, 0.75605886604812744, 0.64720466940075705],
[0.52335925929979044, 0.75952171383596312, 0.65460246121176102],
[0.53051857654541834, 0.76297290629843995, 0.66193793955252689],
[0.53776314877706877, 0.76641359794816255, 0.66920988388841163],
[0.54508793936438282, 0.76984495906267136, 0.67641716928765094],
[0.55248803079104747, 0.773268, 0.68355876707560814],
[0.55995863019142300, 0.77668443870161230, 0.690634],
[0.56749507372071228, 0.78009496026925007, 0.697641],
[0.57509282987229282, 0.78350095381873963, 0.70458060000813316],
[0.58274750185020974, 0.78690364141775360, 0.711451],
[0.59045482909830249, 0.79030425023103068, 0.718252],
[0.59821068808082212, 0.79370401083795394, 0.72498350980129012],
[0.606011, 0.79710415558959469, 0.73164462344291359],
[0.61385219234636435, 0.80050591700925522, 0.73823529958763701],
[0.62173027390994473, 0.80391052624032422, 0.74475537376604650],
[0.62964175739492911, 0.80731921154500930, 0.751205],
[0.63758319562222865, 0.81073319685727652, 0.75758352026997833],
[0.64555127181951966, 0.81415370039305735, 0.76389172177904663],
[0.65354279723171815, 0.81758193332058771, 0.77012957687737937],
[0.66155470849678622, 0.82101909849349020, 0.77629737080310257],
[0.66958406482442456, 0.82446638924900129, 0.78239547416228172],
[0.67762804501048413, 0.82792498827355510, 0.78842434118774929],
[0.68568394431551460, 0.83139606653774833, 0.79438450792626769],
[0.69374917123175739, 0.83488078230256591, 0.80027659036510246],
[0.701821, 0.83838028019860844, 0.80610128250934032],
[0.70989778800737180, 0.841896, 0.81185935442161883],
[0.71797653073743473, 0.84542812775454523, 0.81755165023625309],
[0.72605529985368411, 0.84897869129183279, 0.82317908616015900],
[0.734132, 0.85254846341084756, 0.82874264847345835],
[0.74220470363844559, 0.85613850944898506, 0.83424339154323457],
[0.75027145889145708, 0.85975, 0.83968243586462754],
[0.75833047441343571, 0.86338359662435926, 0.84506096614437587],
[0.76638002141980444, 0.86704067943139007, 0.85038022944302871],
[0.77441844878581445, 0.870722, 0.85564153339348970],
[0.78244417922963805, 0.87442889043227845, 0.86084624451534430],
[0.79045570541676791, 0.87816195016117893, 0.86599578664671251],
[0.79845158596411980, 0.88192223649669643, 0.87109163951826552],
[0.80643044131605202, 0.88571066965426592, 0.87613533749775130],
[0.81439094945683144, 0.88952815216331937, 0.88112846853813476],
[0.82233184141452831, 0.89337556937365825, 0.88607267336857587],
[0.83025189649919706, 0.89725379011918460, 0.89096964497546072],
[0.83815, 0.90116366756126742, 0.89582112843108219],
[0.84602482366589382, 0.90510604024073671, 0.90062892114132631],
[0.85387544759588518, 0.90908173337633957, 0.90539487360200366],
[0.861701, 0.91309156045960371, 0.910121],
[0.86949959083501416, 0.91713632521256716, 0.91480893425369259],
[0.87727098539259807, 0.92121682399784932, 0.91946102534697582],
[0.88501384854954079, 0.92533384880300917, 0.92407924944924602],
[0.892727, 0.92948819096791258, 0.92866576194041506],
[0.90040964873688511, 0.93368064589236632, 0.93322279616820747],
[0.90806032520403435, 0.93791201906418775, 0.93775267417975960],
[0.91567790551599992, 0.94218313390615260, 0.94225782120129564],
[0.92326105507908696, 0.94649484219092195, 0.94674078534356976],
[0.93080829040123425, 0.95084803818324304, 0.95120426479258791],
[0.938318, 0.95524367836632773, 0.95565114606270562],
[0.94578795629186707, 0.95968280985037746, 0.96008455921168612],
[0.95321599355736686, 0.96416661289180683, 0.96450796023763241],
[0.96059900317347269, 0.96869646762612394, 0.968925],
[0.96793300459752374, 0.97327406529961869, 0.97334103320118548],
[0.97521246734413747, 0.97790160896686584, 0.97776090050362174],
[0.982429, 0.98258221782264676, 0.98219226989424369],
[0.98956903826853548, 0.98732088966765630, 0.986646],
[0.996604, 0.99212757892026537, 0.99114228785825376],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
