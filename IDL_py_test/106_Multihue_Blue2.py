from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000381304192245204246, 0.000347562657703042030, 0.000269457416166224439],
[0.00110461054527634991, 0.000996323725851830811, 0.000717086237076103783],
[0.00215164893245351754, 0.00193066999489718903, 0.00131502988665534864],
[0.00350130614766283555, 0.00313367569576943018, 0.00203575201470370748],
[0.00513845249585848096, 0.00459538305264667237, 0.00286017566173337292],
[0.00705077852938213335, 0.00630953651532647954, 0.00377398589303561474],
[0.00922749998792006532, 0.00827218839379765397, 0.00476596085737512193],
[0.0116587130184964138, 0.0104809749871737200, 0.00582707111929785422],
[0.0143350335460259558, 0.0129346931683140438, 0.00694993710843775162],
[0.0172473794455527546, 0.0156330315293428321, 0.00812847663569062941],
[0.0203868317720791517, 0.0185763889943345514, 0.00935766283515892909],
[0.0237445430140560201, 0.0217657465402771033, 0.0106333507275466095],
[0.0273116749218567205, 0.0252025729618177360, 0.0119521487204509291],
[0.0310793557932026524, 0.0288887534201724312, 0.0133113208045382136],
[0.0350386510464393702, 0.0328265337842807980, 0.0147087104637842643],
[0.0391805431620873695, 0.0370184762396274167, 0.0161426804079430573],
[0.0433814659433930314, 0.0414430676100877790, 0.0176120641329425530],
[0.0474829053963808298, 0.0458637330750562081, 0.0191161265242660236],
[0.0514973191808789019, 0.0502547308892607944, 0.0206545315139295658],
[0.0554270626647007728, 0.0546196858991957954, 0.0222273153394887783],
[0.0592741279637865118, 0.0589618151649818831, 0.0238348643258350645],
[0.0630402011859362843, 0.0632839879447131548, 0.0254778963737295958],
[0.0667267086451749924, 0.0675887742737497077, 0.0271574455285185472],
[0.0703348545593530106, 0.0718784847066485100, 0.0288748491411554113],
[0.0738656520934455885, 0.0761552031294816245, 0.0306317372366308807],
[0.0773199491481225409, 0.0804208140793700177, 0.0324300237823800172],
[0.0806984499585827186, 0.0846770256668772370, 0.0342718996081757057],
[0.0840017333234113761, 0.0889253889462814917, 0.0361598267743436161],
[0.0872302681011868919, 0.0931673143922829017, 0.0380965342202840632],
[0.0903844264758695559, 0.0974040860013447585, 0.0400850145527841678],
[0.0934644953882307616, 0.101636873429079316, 0.0420807608204707070],
[0.0964706864510349038, 0.105866742493013921, 0.0440704503926167765],
[0.0994031446041250266, 0.110094664306417983, 0.0460622928932032591],
[0.102261955717555003, 0.114321523259056118, 0.0480592541077504085],
[0.105047153313125502, 0.118548124021460449, 0.0500642112247640034],
[0.107758724544773060, 0.122775197718089979, 0.0520799572986986245],
[0.110396615554408745, 0.127003407389766315, 0.0541092048658986038],
[0.112960736300654591, 0.131233352845651074, 0.0561545888419401132],
[0.115450964942508422, 0.135465574988709092, 0.0582186688111484205],
[0.117867151847427215, 0.139700559685308229, 0.0603039308044935815],
[0.120209123283165464, 0.143938741238695073, 0.0624127886498956550],
[0.122476684844357558, 0.148180505517093220, 0.0645475849686686087],
[0.124669624658037687, 0.152426192779734848, 0.0667105918829897504],
[0.126787716406701084, 0.156676100237929605, 0.0689040114915767110],
[0.128830722202907089, 0.160930484383106587, 0.0711299761639516970],
[0.130798395345698204, 0.165189563109406939, 0.0733905486975817423],
[0.132690482986002084, 0.169453517654753638, 0.0756877223766637963],
[0.134506728725719449, 0.173722494381213705, 0.0780234209662769851],
[0.136246875173181681, 0.177996606412846342, 0.0803994986709667125],
[0.137910666476082022, 0.182275935146978430, 0.0828177400825208521],
[0.139497850851752314, 0.186560531652943118, 0.0852798601376906773],
[0.141008183133757320, 0.190850417970660047, 0.0877875041029015646],
[0.142441427353154404, 0.195145588320029706, 0.0903422475995566132],
[0.143797359372373479, 0.199446010230890924, 0.0929455966803746925],
[0.145075769589571385, 0.203751625602225706, 0.0955989879643056040],
[0.146276465731334571, 0.208062351698391268, 0.0983037888349411748],
[0.147399275751946501, 0.212378082089341891, 0.101061297704993197],
[0.148444050857844845, 0.216698687541121038, 0.103872744347324963],
[0.149410668676625918, 0.221024016862275630, 0.106739290291222227],
[0.150299036590732044, 0.225353897711322415, 0.109662029281049012],
[0.151109095257070780, 0.229688137369905621, 0.112641987793157261],
[0.151840822334977532, 0.234026523485877602, 0.115680125605901685],
[0.152494236446389930, 0.238368824790152589, 0.118777336416821727],
[0.153069401393679333, 0.242714791790859308, 0.121934448500505221],
[0.153566430662410519, 0.247064157448011079, 0.125152225400296468],
[0.153985492238258248, 0.251416637831655021, 0.128431366646863859],
[0.154326813769540688, 0.255771932766214349, 0.131772508496652258],
[0.154590688109171481, 0.260129726463520283, 0.135176224683423857],
[0.154777479272411866, 0.264489688146836099, 0.138643027176381273],
[0.154887628849537773, 0.268851472667985925, 0.142173366938781881],
[0.154921662915425251, 0.273214721119539039, 0.145767634681448599],
[0.154880199481066516, 0.277579061443842590, 0.149426161606152463],
[0.154763956535081348, 0.281944109040553947, 0.153149220134458974],
[0.154573760726446630, 0.286309467374182225, 0.156937024618291982],
[0.154310556742640742, 0.290674728583028230, 0.160789732029140098],
[0.153975417440267881, 0.295039474090785792, 0.164707442623515193],
[0.153569554787755108, 0.299403275221953924, 0.168690200582945232],
[0.153094331681707135, 0.303765693822096672, 0.172737994627449598],
[0.152551274699740030, 0.308126282883884939, 0.176850758602079272],
[0.151942087852767693, 0.312484587179745699, 0.181028372036705104],
[0.151268667398437945, 0.316840143901842230, 0.185270660679807686],
[0.150533117774089204, 0.321192483310021148, 0.189577397007551968],
[0.149737768701841467, 0.325541129388246919, 0.193948300709904015],
[0.148885193509248226, 0.329885600509967181, 0.198383039155986318],
[0.147978228695674674, 0.334225410112743204, 0.202881227841255562],
[0.147019994755973077, 0.338560067382397689, 0.207442430819427537],
[0.146013918248035529, 0.342889077946829324, 0.212066161122363206],
[0.144963755057746391, 0.347211944579559895, 0.216751881171378447],
[0.143873614772384306, 0.351528167912983469, 0.221499003183641796],
[0.142747986019584133, 0.355837247161195525, 0.226306889577481907],
[0.141591762561738693, 0.360138680852195969, 0.231174853380542222],
[0.140410269853293607, 0.364431967569159076, 0.236102158644800775],
[0.139209291668832669, 0.368716606700387362, 0.241088020872513242],
[0.137995096291639335, 0.372992099197468840, 0.246131607457141355],
[0.136774461614777715, 0.377257948341069460, 0.251232038143308356],
[0.135554698349548780, 0.381513660513716990, 0.256388385509766892],
[0.134343670361352946, 0.385758745978835027, 0.261599675479275207],
[0.133149810964231618, 0.389992719665209542, 0.266864887859179944],
[0.131982133809385338, 0.394215101955989078, 0.272182956916364793],
[0.130850236810347020, 0.398425419481238774, 0.277552771990071556],
[0.129764297373041848, 0.402623205912991167, 0.282973178145933924],
[0.128735057062253328, 0.406808002761668175, 0.288442976874363044],
[0.127773793762448906, 0.410979360172665620, 0.293960926836230374],
[0.126892279409032915, 0.415136837721839958, 0.299525744658559745],
[0.126102721508769056, 0.419280005208561013, 0.305136105782717271],
[0.125417686967142505, 0.423408443444938720, 0.310790645367336749],
[0.124850007223643061, 0.427521745039777690, 0.316487959247961359],
[0.124412664381254451, 0.431619515175759028, 0.322226604955122564],
[0.124118658904328327, 0.435701372378311247, 0.328005102792302883],
[0.123980860527151820, 0.439766949274578878, 0.333821936974947275],
[0.124011845211521199, 0.443815893340875844, 0.339675556831413539],
[0.124223722232756267, 0.447847867636975205, 0.345564378066447686],
[0.124627956648173249, 0.451862551525566702, 0.351486784087502835],
[0.125235193378921611, 0.455859641375196023, 0.357441127393903380],
[0.126055089781019786, 0.459838851244993962, 0.363425731028579557],
[0.127096163776298815, 0.463799913549501175, 0.369438890091802141],
[0.128365664280012420, 0.467742579701899974, 0.375478873316046624],
[0.129869469778347013, 0.471666620733969755, 0.381543924700839310],
[0.131612019523106444, 0.475571827891122123, 0.387632265206147630],
[0.133596280038748599, 0.479458013200876942, 0.393742094502599338],
[0.135823747647002724, 0.483325010013193335, 0.399871592776533613],
[0.138294485705453496, 0.487172673511101884, 0.406018922587635334],
[0.141007193424889987, 0.491000881190148453, 0.412182230776633851],
[0.143959301642403226, 0.494809533305196447, 0.418359650420296714],
[0.147147089894973743, 0.498598553283229384, 0.424549302830720898],
[0.150565818610455093, 0.502367888100838878, 0.430749299595688195],
[0.154209870193458720, 0.506117508625187451, 0.436957744656634006],
[0.158072893166264439, 0.509847409917306260, 0.443172736420583413],
[0.162147944227437474, 0.513557611496689659, 0.449392369902219368],
[0.166427623998380181, 0.517248157566243982, 0.455614738892065330],
[0.170904203227597806, 0.520919117196751102, 0.461837938146621607],
[0.175569737217233818, 0.524570584470128498, 0.468060065596141384],
[0.180416167153788776, 0.528202678580862894, 0.474279224565617941],
[0.185435407816019665, 0.531815543895130527, 0.480493526004441340],
[0.190619421774305658, 0.535409349967236214, 0.486701090720101204],
[0.195960280681856447, 0.538984291513120217, 0.492900051611236789],
[0.201450214598189459, 0.542540588340821861, 0.499088555895295716],
[0.207081650497260794, 0.546078485237913025, 0.505264767326017439],
[0.212847241218881822, 0.549598251816045047, 0.511426868395962408],
[0.218739886145702223, 0.553100182312887378, 0.517573062519303018],
[0.224752744851240027, 0.556584595351868216, 0.523701576190128915],
[0.230879244886313450, 0.560051833660252130, 0.529810661111557613],
[0.237113084767518523, 0.563502263746230914, 0.535898596291021434],
[0.243448233114956725, 0.566936275535816159, 0.541963690097165829],
[0.249878924766000598, 0.570354281970462118, 0.548004282273918619],
[0.256399654574548663, 0.573756718566450496, 0.554018745907392973],
[0.263005169494874569, 0.577144042937206225, 0.560005489341433682],
[0.269690459448675035, 0.580516734279804991, 0.565962958037772856],
[0.276450747384229811, 0.583875292827056525, 0.571889636376913368],
[0.283281478858333824, 0.587220239266634470, 0.577784049396064758],
[0.290178311404148459, 0.590552114128829020, 0.583644764460640508],
[0.297137103891002508, 0.593871477144584770, 0.589470392866031423],
[0.304153906034220323, 0.597178906575554946, 0.595259591366609553],
[0.311224948173418670, 0.600474998517992242, 0.601011063629121378],
[0.318346631405197311, 0.603760366182351960, 0.606723561607900530],
[0.325515518129845916, 0.607035639150541928, 0.612395886839553039],
[0.332728323050719699, 0.610301462612794832, 0.618026891655036104],
[0.339981904648083588, 0.613558496586197877, 0.623615480307312731],
[0.347273257136477553, 0.616807415116919500, 0.629160610013023036],
[0.354599502904456465, 0.620048905468212896, 0.634661291906884029],
[0.361957885428165593, 0.623283667296287702, 0.640116591907798793],
[0.369345762644664566, 0.626512411816133152, 0.645525631495923791],
[0.376760600766919418, 0.629735860959391491, 0.650887588400210770],
[0.384199968519853108, 0.632954746526349310, 0.656201697196211908],
[0.391661531775084615, 0.636169809334103942, 0.661467249814183034],
[0.399143048561154290, 0.639381798362938514, 0.666683595957803576],
[0.406642364425831349, 0.642591469902881074, 0.671850143434054581],
[0.414157408127166227, 0.645799586702414996, 0.676966358395069023],
[0.421686187630638310, 0.649006917121213833, 0.682031765492987829],
[0.429226786390357884, 0.652214234288760797, 0.687045947949097568],
[0.436777359893333828, 0.655422315270618339, 0.692008547538732310],
[0.444336132446871868, 0.658631940244052472, 0.696919264493651269],
[0.451901394190233840, 0.661843891684656960, 0.701777857323789167],
[0.459471498312848004, 0.665058953565527244, 0.706584142560471307],
[0.467044858462618950, 0.668277910570450384, 0.711337994423360209],
[0.474619946328835918, 0.671501547322517545, 0.716039344413570311],
[0.482195289385518644, 0.674730647629432134, 0.720688180835534875],
[0.489769468781873607, 0.677965993746755147, 0.725284548250356154],
[0.497341117367775143, 0.681208365660162074, 0.729828546863482419],
[0.504908917842976646, 0.684458540387770764, 0.734320331849696140],
[0.512471601019770517, 0.687717291303437395, 0.738760112618476739],
[0.520027944189656255, 0.690985387481862001, 0.743148152022888420],
[0.527576769585338945, 0.694263593066240081, 0.747484765515254446],
[0.535116942930173534, 0.697552666659088771, 0.751770320252892588],
[0.542647372067833200, 0.700853360736800601, 0.756005234157286377],
[0.550167005665623266, 0.704166421088374572, 0.760189974930074786],
[0.557674831985471964, 0.707492586278687829, 0.764325059029290044],
[0.565169877717147218, 0.710832587136576377, 0.768411050609287605],
[0.572651206868772467, 0.714187146267914352, 0.772448560427817621],
[0.580117919710174235, 0.717556977593799439, 0.776438244723701709],
[0.587569151764982922, 0.720942785913856077, 0.780380804068540490],
[0.595004072847850063, 0.724345266494615392, 0.784276982195904138],
[0.602421886143457930, 0.727765104682828401, 0.788127564811384462],
[0.609821827324298238, 0.731202975543530087, 0.791933378386905584],
[0.617203163704581836, 0.734659543522576342, 0.795695288942619316],
[0.624565193427800036, 0.738135462133323483, 0.799414200819685283],
[0.631907244685734337, 0.741631373667079652, 0.803091055447203606],
[0.639228674966997867, 0.745147908926862446, 0.806726830106501924],
[0.646528870333293093, 0.748685686983978416, 0.810322536695949891],
[0.653807244721795522, 0.752245314956883404, 0.813879220499428735],
[0.661063239272248304, 0.755827387811727425, 0.817397958961527671],
[0.668296321677465666, 0.759432488183958476, 0.820879860472517042],
[0.675505985556101751, 0.763061186220319709, 0.824326063166099576],
[0.682691749846653151, 0.766714039440528738, 0.827737733732928804],
[0.689853158221725993, 0.770391592617920562, 0.831116066252849062],
[0.696989778521774239, 0.774094377678271606, 0.834462281048816146],
[0.704101202207516597, 0.777822913616030842, 0.837777623565472696],
[0.711187043830363241, 0.781577706427130092, 0.841063363275355247],
[0.718246940520201993, 0.785359249057548614, 0.844320792615779747],
[0.725280551490005254, 0.789168021366755679, 0.847551225959505716],
[0.732287557556687729, 0.793004490105165716, 0.850755998622389598],
[0.739267660677750516, 0.796869108904693979, 0.853936465911365516],
[0.746220583503216628, 0.800762318281497354, 0.857094002216275963],
[0.753146068942428748, 0.804684545649948957, 0.860230000149289187],
[0.760043879745225581, 0.808636205346894288, 0.863345869735942184],
[0.766913798097086485, 0.812617698665175192, 0.866443037662181670],
[0.773755625227733002, 0.816629413895429312, 0.869522946582240053],
[0.780569181032737980, 0.820671726375085342, 0.872587054492705683],
[0.787354303707549885, 0.824744998543481267, 0.875636834178825318],
[0.794110849393371621, 0.828849580001959407, 0.878673772739890557],
[0.800838691834169558, 0.832985807577751203, 0.881699371201558724],
[0.807537722044026074, 0.837154005390390199, 0.884715144224189731],
[0.814207847983887567, 0.841354484919315082, 0.887722619917786116],
[0.820848994246528019, 0.845587545071230684, 0.890723339775980949],
[0.827461101748373506, 0.849853472245671981, 0.893718858743811073],
[0.834044127426441628, 0.854152540397061455, 0.896710745436862466],
[0.840598043938288742, 0.858485011091389749, 0.899700582532916515],
[0.847122839362271840, 0.862851133555400218, 0.902689967361677836],
[0.853618516894782409, 0.867251144715914579, 0.905680512723770259],
[0.860085094540151362, 0.871685269226555648, 0.908673847977322424],
[0.866522604787763995, 0.876153719478713344, 0.911671620439566510],
[0.872931094269253416, 0.880656695593056815, 0.914675497162675044],
[0.879310623386587498, 0.885194385387176985, 0.917687167158363515],
[0.885661265898897043, 0.889766964314085196, 0.920708344166017545],
[0.891983108451955386, 0.894374595365115543, 0.923740770085918483],
[0.898276250028768652, 0.899017428929302143, 0.926786219235357200],
[0.904540801292085805, 0.903695602599287495, 0.929846503634792931],
[0.910776883778733115, 0.908409240911204452, 0.932923479599587990],
[0.916984628890148645, 0.913158455002323177, 0.936019056009137818],
[0.923164176600402175, 0.917943342165342902, 0.939135204763096643],
[0.929315673768826178, 0.922763985271195741, 0.942273974136006664],
[0.935439271891840618, 0.927620452022287045, 0.945437506042935305],
[0.941535124046452565, 0.932512793983480304, 0.948628058690590303],
[0.947603380645518301, 0.937441045316137700, 0.951848036816942522],
[0.953644183404253387, 0.942405221106524138, 0.955100032910237595],
[0.959657656536216153, 0.947405315125147696, 0.958386884810540685],
[0.965643893506972994, 0.952441296762137957, 0.961711758663129301],
[0.971602936356833147, 0.957513106722728158, 0.965078272863453823],
[0.977534741920109362, 0.962620650765677932, 0.968490691959434380],
[0.983439123328513909, 0.967763790159054449, 0.971954248387574160],
[0.989315640559691567, 0.972942326169634053, 0.975475719712895484],
[0.995163372129798440, 0.978155972428440656, 0.979064583900087437],
[1.00000000000000000, 0.983404298157111278, 0.982735748872410997],
[1.00000000000000000, 0.988686577500629826, 0.986518208327729407],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
