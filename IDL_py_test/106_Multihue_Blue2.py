from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00036284923363335024, 0.00034040008892232554, 0.00026807479877639039],
[0.0010541103760542099, 0.00097595661694237039, 0.00070499904235632937],
[0.00205785, 0.0018915016545640712, 0.0012786604972677550],
[0.0033545865136066538, 0.0030706382813340503, 0.0019594040259500786],
[0.0049301671326581154, 0.0045038369219228521, 0.0027266639047737232],
[0.0067728553284474736, 0.0061852347357251687, 0.0035649651908891910],
[0.0088721653642031915, 0.0081112688586378340, 0.0044621276935959539],
[0.011218276034404484, 0.010279966892265383, 0.0054082992669637307],
[0.013801705295954998, 0.012690532024514816, 0.0063953743084636519],
[0.016613114344516212, 0.0153431, 0.00741662],
[0.019643183109837467, 0.0182385, 0.0084663978957081418],
[0.022882528097796895, 0.021378134397283154, 0.0095400161205551025],
[0.026321646793667407, 0.024764079055554888, 0.010633553227953814],
[0.029950879503318241, 0.028398720498922496, 0.011743772053882358],
[0.033760383089248148, 0.032284878895886181, 0.012868033831878107],
[0.037740113092846070, 0.036425725645469836, 0.014004233001557398],
[0.041841545883064456, 0.040817435858343888, 0.015150744643376816],
[0.045856938409863608, 0.045232301620661726, 0.016306381581638579],
[0.049779984135756843, 0.049620794003524475, 0.017470359047460610],
[0.053612455414365622, 0.053986621706197037, 0.018642265367349552],
[0.057355756665067849, 0.058333087272730934, 0.019822037539996701],
[0.061010978499239692, 0.0626631, 0.021009940844303469],
[0.064578941153772385, 0.066979456664514880, 0.022206551823378423],
[0.068060229650490411, 0.071284415634046860, 0.023412744136780246],
[0.0714552, 0.075580194559667996, 0.024629676882771928],
[0.074764115096774802, 0.079868764771258927, 0.025858785074668243],
[0.077986939414171758, 0.0841519, 0.027101772017971072],
[0.081123579799956796, 0.088431297722952162, 0.028360603383109546],
[0.084173786460028072, 0.092708390954842179, 0.029637502805924552],
[0.087137186514465031, 0.096984566586819809, 0.030934948877216432],
[0.090013293194340788, 0.10126107509489182, 0.0322557],
[0.092801513445461115, 0.10553906129615195, 0.0336027],
[0.095501154172578789, 0.10981957329931227, 0.034979148882742360],
[0.098111427309833688, 0.11410357030901638, 0.036388629878397090],
[0.100631, 0.11839192945912885, 0.0378349],
[0.10306026705458229, 0.12268545181921012, 0.039321830027086516],
[0.10539681462067665, 0.12698486769359541, 0.040845874412503085],
[0.10763996040124521, 0.131291, 0.042374803068176141],
[0.10978848520539891, 0.13560397499859114, 0.043921730704888688],
[0.11184108703157536, 0.13992481287855502, 0.04549],
[0.11379638065181832, 0.14425384419980747, 0.0470828],
[0.11565289657304312, 0.14859150630179288, 0.048703319513099398],
[0.11740907937421055, 0.15293818728537634, 0.050354778620613140],
[0.11906328540676808, 0.15729422841697985, 0.052040219036234035],
[0.12061377983400184, 0.16165992629920289, 0.053762655895325702],
[0.12205873297283371, 0.16603553483533631, 0.055525036332651746],
[0.12339621588858518, 0.17042126701157834, 0.057330235862010019],
[0.12462419517900825, 0.17481729651769390, 0.059181054725239109],
[0.12574052686789564, 0.17922375922428221, 0.061080214291325215],
[0.12674294931033547, 0.18364075453261283, 0.063030353579944132],
[0.12762907499052581, 0.18806834661111391, 0.065034025976450943],
[0.12839638106816487, 0.19250656553099904, 0.067093696197139119],
[0.12904219849987236, 0.19695540831213953, 0.069211737554697311],
[0.12956369952664248, 0.20141483988910652, 0.071390429564359426],
[0.12995788327534080, 0.20588479400629756, 0.073631955921489384],
[0.13022155916990505, 0.21036517405017474, 0.0759384],
[0.13035132778346659, 0.21485585382588573, 0.078311757983407365],
[0.13034355868281686, 0.21935667828488553, 0.080753909328717482],
[0.13019436471712054, 0.22386746420958947, 0.083266645059272726],
[0.12989957207758448, 0.22838800086060523, 0.085851653369000663],
[0.12945468529624765, 0.23291805059164616, 0.088510522818164711],
[0.12885484614953052, 0.23745734943684926, 0.091244742992506039],
[0.128095, 0.24200560767488927, 0.094055705464961475],
[0.12716876414110903, 0.24656251037398147, 0.096944705024015587],
[0.12607050746828344, 0.25112771792161065, 0.0999129],
[0.12479311980242272, 0.25570086654258778, 0.10296151956133348],
[0.12332898640986248, 0.26028156880883307, 0.10609145420517210],
[0.12166965178223013, 0.26486941414409693, 0.10930366896185098],
[0.11980567046782739, 0.26946396932666916, 0.11259899971598433],
[0.11772642205979242, 0.27406477899296522, 0.11597819634349502],
[0.11541987936288767, 0.27867136614475002, 0.11944192471932011],
[0.11287231456744407, 0.283283, 0.12299076869566181],
[0.110068, 0.28789985982825289, 0.12662523202374729],
[0.10698832765266161, 0.29252070885781128, 0.13034574019564080],
[0.10361193858687501, 0.29714522144878475, 0.13415264218627387],
[0.0999131, 0.301773, 0.13804621207950662],
[0.095860736351461501, 0.30640290990393382, 0.14202665056556640],
[0.091416966075064471, 0.31103487672211022, 0.14609408630063064],
[0.086534335692529857, 0.31566809023073877, 0.15024857712251202],
[0.081152296637580418, 0.32030190335305603, 0.15449011111938785],
[0.075191441737560594, 0.32493565317118639, 0.15881860755122920],
[0.068544122482057129, 0.32956866162200488, 0.16323391762604247],
[0.061058116100059130, 0.33420023622085687, 0.16773582513520446],
[0.052505823284469434, 0.33882967081443915, 0.17232404695407580],
[0.042519489867937667, 0.34345624636401623, 0.17699823341571624],
[0.030998487970931139, 0.34807923176002997, 0.18175796856691515],
[0.0190626, 0.35269788466901192, 0.18660277031688097],
[0.0067943418430678045, 0.35731145241357726, 0.19153209048988215],
[-0.0057896602701885324, 0.36191917288613240, 0.19654531479384296],
[-0.018671715258021124, 0.36652, 0.20164176271744605],
[-0.031832823555855282, 0.37111398215567248, 0.20682068736867465],
[-0.045252715939444042, 0.37569950829018595, 0.212081],
[-0.058909847958988008, 0.38027606389652946, 0.21742264610920514],
[-0.072781396798904316, 0.38484285462596879, 0.22284385250195965],
[-0.086843260666499778, 0.38939908290506014, 0.22834387970789055],
[-0.10107006080825068, 0.39394394908941338, 0.23392164538454385],
[-0.11543514624704788, 0.39847665265020554, 0.23957599934909207],
[-0.12991060132787582, 0.40299639339250004, 0.24530572337445922],
[-0.14446725615254513, 0.40750237270421019, 0.25111],
[-0.15907469997666049, 0.41199379483434534, 0.25698606757709252],
[-0.17370129763395051, 0.41647, 0.26293390993440574],
[-0.18831420904378990, 0.42092980671317321, 0.26895156671735165],
[-0.20287941184875852, 0.42537283114681607, 0.27503747836788323],
[-0.21736172721808661, 0.42979817050229563, 0.28119001738048111],
[-0.23172484884255645, 0.43420506341149023, 0.28740748863446441],
[-0.24593137513451296, 0.43859275954955135, 0.293688],
[-0.25994284463460243, 0.44296052106264228, 0.30003011211071834],
[-0.27371977461454650, 0.44730762400665130, 0.30643154065423245],
[-0.28722170285182352, 0.45163335979368796, 0.31289045561310330],
[-0.30040723253900470, 0.45593703664299762, 0.31940483303570771],
[-0.31323408027658684, 0.46021798103276029, 0.32597258599768930],
[-0.32565912708431277, 0.46447553914908141, 0.33259156587298372],
[-0.337638, 0.46870907832832259, 0.33926],
[-0.34912749063431048, 0.47291798848880301, 0.34597431205648505],
[-0.36008089118829806, 0.47710168354776744, 0.35273348621279082],
[-0.37045278012127830, 0.48126, 0.35953470661862341],
[-0.38019672502414614, 0.48539121238977451, 0.366376],
[-0.38926582193465076, 0.48949600646383634, 0.37325350498793391],
[-0.39761276447034705, 0.49357350868094502, 0.38016606779847256],
[-0.40518991495609113, 0.49762327339361429, 0.38711065146850793],
[-0.41194937735909520, 0.50164488690558440, 0.39408463519715725],
[-0.41784307183325980, 0.50563796866462340, 0.40108535785788685],
[-0.422823, 0.50960217240571326, 0.40811012098771421],
[-0.42684037539484099, 0.51353718724032016, 0.41515619191852365],
[-0.42984759490996721, 0.51744273868753021, 0.42222080704487314],
[-0.43179642423590064, 0.52131858964295408, 0.42930117522195327],
[-0.43263902382364605, 0.52516454128144274, 0.43639448128665370],
[-0.43232783906356464, 0.52898, 0.44349788969404719],
[-0.43081567978328778, 0.53276614762599861, 0.450609],
[-0.42805579947584682, 0.53652160320117293, 0.45772359200757490],
[-0.42400197400381018, 0.54024676248178105, 0.46484014708789473],
[-0.41860857952541342, 0.54394162900848286, 0.47195533479845991],
[-0.41183066939021823, 0.54760624842943739, 0.47906627565536625],
[-0.40362404975458543, 0.55124070884558774, 0.48617009352827906],
[-0.39394535367157907, 0.55484514106593019, 0.49326391982021572],
[-0.38275211341569870, 0.55841971877109520, 0.50034489768139201],
[-0.37000283080949081, 0.56196465858389710, 0.50741018624518319],
[-0.35565704532795683, 0.56548022004588727, 0.51445696487400117],
[-0.33967539976548705, 0.56896670549929473, 0.52148243740276090],
[-0.32201970326145391, 0.572424, 0.52848383636747198],
[-0.30265299149194730, 0.57585387038060787, 0.53545842720647952],
[-0.28153958384826583, 0.57925536610741102, 0.54240351242187657],
[-0.25864513743634388, 0.58262941752674746, 0.549316],
[-0.23393669774610265, 0.58597653590748167, 0.556195],
[-0.20738274585478506, 0.589297, 0.56303540113378880],
[-0.17895324204457566, 0.59259221846120558, 0.56983637253563801],
[-0.14861966573076146, 0.59586200262303557, 0.57659504809657247],
[-0.11635505161419977, 0.59910729193900913, 0.58330903632394060],
[-0.082134021987763012, 0.60232878978017879, 0.58997600978948073],
[-0.045932815145182000, 0.60552723498297545, 0.59659370854616378],
[-0.00772931, 0.60870340068630657, 0.60315994340397760],
[0.032496954111827535, 0.61185809310000650, 0.60967259905565807],
[0.068291594907829461, 0.61499215020888143, 0.61612963704398060],
[0.094684307723638284, 0.61810644041687079, 0.622529],
[0.11667871915916164, 0.62120186113603548, 0.62886910708547439],
[0.13607994627257711, 0.62427933732526508, 0.63514787081240598],
[0.15374533463893716, 0.62733981998375232, 0.64136368493541385],
[0.17015727921504115, 0.630384, 0.647515],
[0.18561676117052908, 0.63341372959247821, 0.65360009233963401],
[0.200325, 0.63642917465469606, 0.65961772864965862],
[0.21442453706536346, 0.63943165916434019, 0.66556650457935174],
[0.22801853918071385, 0.64242224050757180, 0.67144517745963994],
[0.24118557937638274, 0.64540199241639407, 0.67725260109413410],
[0.25398622872567472, 0.64837200329355327, 0.68298772663724616],
[0.266468, 0.651333, 0.68864960327095404],
[0.27866999237088325, 0.65428721885216123, 0.69423737868165947],
[0.29062258798591079, 0.65723465860766128, 0.69975029933928856],
[0.30235170751731011, 0.66017682415491485, 0.70518771058149676],
[0.31387869846454242, 0.66311485220068012, 0.71054905650649458],
[0.32522148373914878, 0.66604988418639410, 0.71583387967865708],
[0.33639523220885426, 0.66898306469543978, 0.72104182065165867],
[0.34741287345962762, 0.67191553988996677, 0.726173],
[0.35828549851384173, 0.67484845598105614, 0.73122610406600941],
[0.36902267568962210, 0.67778295773578145, 0.73620221082486126],
[0.37963270238667496, 0.68072018702442627, 0.74110096188066721],
[0.39012280784807535, 0.68366128141087923, 0.74592247459448391],
[0.40049931795886801, 0.68660737278891859, 0.75066695795550720],
[0.41076779032214766, 0.68955958606685130, 0.75533471100200333],
[0.420933, 0.69251903790264935, 0.75992612111448610],
[0.43099966146668878, 0.695487, 0.76444166218942033],
[0.44097124801984994, 0.69846407540725552, 0.76888189270189289],
[0.45085131551762886, 0.70145184249940329, 0.77324745366581715],
[0.46064292865962758, 0.70445120884613199, 0.77753906650032856],
[0.47034883399667632, 0.70746323276475132, 0.78175753081107258],
[0.47997150028134877, 0.71048895787971855, 0.78590372209509485],
[0.48951315312743354, 0.71352941224864186, 0.78997858937801269],
[0.49897580490096266, 0.716586, 0.79398315279207998],
[0.50836128059497154, 0.719659, 0.79791850110367146],
[0.51767124030491263, 0.72274918122145659, 0.801786],
[0.52690719881371362, 0.72585849449778050, 0.80558623553331943],
[0.53607054270854526, 0.72898741726892924, 0.809321],
[0.54516254538131148, 0.73213686906247977, 0.81299177913693443],
[0.55418438020761651, 0.73530774932156229, 0.81659960791917885],
[0.56313713215243799, 0.73850093697903718, 0.82014605275909813],
[0.57202180801221714, 0.74171729008306697, 0.82363261110131347],
[0.58083934547149740, 0.74495764547256926, 0.82706082839261874],
[0.58959062112583138, 0.74822281850096006, 0.83043229550892483],
[0.59827645760084402, 0.75151360280648560, 0.83374864620622569],
[0.60689762987886497, 0.75483077012737698, 0.83701155460164745],
[0.615455, 0.75817507015998020, 0.84022273269037950],
[0.62394887672540122, 0.76154723045799300, 0.84338392790399974],
[0.63238031072026668, 0.76494795637085422, 0.84649692071543658],
[0.64074980784333735, 0.76837793101933571, 0.84956352229556786],
[0.64905797807327537, 0.77183781530634588, 0.85258557222619835],
[0.65730540963419260, 0.77532824796094468, 0.85556493627393160],
[0.66549267185731875, 0.77884984561355974, 0.85850350422924415],
[0.67362031774483644, 0.78240320290041099, 0.86140318781489211],
[0.68168888626829849, 0.78598889259511917, 0.86426591866760316],
[0.68969890443013981, 0.78960746576554297, 0.86709364639690478],
[0.69765088911362949, 0.79325945195384395, 0.869888],
[0.70554534874356334, 0.796945, 0.87265196971022796],
[0.71338278477761496, 0.80066567515176623, 0.875387],
[0.72116369304593386, 0.80442086552435410, 0.87809404554045722],
[0.72888856495469812, 0.80821137613264882, 0.88077650546462727],
[0.73655788856756332, 0.81203763226939407, 0.883436],
[0.74417214957740707, 0.81590003916231946, 0.886074],
[0.75173183217943240, 0.81979898226343972, 0.88869384774991578],
[0.75923741985544624, 0.82373482754654226, 0.89129639497289392],
[0.76668939607798303, 0.82770792181105168, 0.89388405933458470],
[0.77408824494198836, 0.83171859299043582, 0.89645888593382284],
[0.78143445173077952, 0.83576715046330596, 0.89902292201439116],
[0.78872850342217127, 0.839854, 0.90157821642314928],
[0.795971, 0.84397907089997581, 0.90412681922421345],
[0.80316210055349546, 0.84814296264627209, 0.90667078148237890],
[0.81030263223326726, 0.85234579886112494, 0.90921215523158905],
[0.81739298195735100, 0.85658780077433361, 0.91175299364751705],
[0.82443365097804289, 0.86086917287365006, 0.914295],
[0.83142514424460801, 0.86519010317734801, 0.916841],
[0.83836797058313761, 0.86955076349135840, 0.91939285600006471],
[0.84526264283133334, 0.87395130964768897, 0.92195212729027121],
[0.85210967792455594, 0.87839188172037452, 0.92452116998578571],
[0.85890959692734403, 0.88287260421461100, 0.92710206286664643],
[0.865663, 0.887394, 0.92969689558480972],
[0.87237019130137372, 0.89195492154930345, 0.93230777197398496],
[0.87903192877107228, 0.89655668877273142, 0.93493681414806384],
[0.88564867383389834, 0.90119895127620797, 0.93758616757029090],
[0.89222096592753009, 0.90588175719463138, 0.940258],
[0.89874934684769836, 0.910605, 0.94295454596633543],
[0.90523435983356837, 0.91536911471598992, 0.94567804321049109],
[0.91167654830419775, 0.92017368468560290, 0.94843081833916931],
[0.91807645411465399, 0.92501883394792628, 0.95121526586686300],
[0.92443461513868042, 0.929905, 0.95403387581665766],
[0.93075156188833941, 0.93483072257875688, 0.95688926026864107],
[0.93702781272533475, 0.93979734143109572, 0.95978418875940419],
[0.94326386695964770, 0.94480429544811262, 0.96272163649223941],
[0.94946019468271004, 0.94985146976079637, 0.96570485167186682],
[0.95561722137110061, 0.95493872242960121, 0.96873745245191356],
[0.96173530374777683, 0.96006587960188272, 0.971824],
[0.96781469022953115, 0.96523272839406882, 0.974968],
[0.97385545229667214, 0.97043900595217092, 0.97817698186221824],
[0.97985735589373879, 0.97568438155283854, 0.98145805068496139],
[0.98581959287560694, 0.98096842452775956, 0.98482222337790481],
[0.99174011914339311, 0.98629053800987576, 0.98828678061376329],
[0.99761346261519990, 0.99164978210374655, 0.99188551366494326],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
