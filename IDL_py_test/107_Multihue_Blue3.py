from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00035693142114856166, 0.00033057296235793673, 0.00038460083633412898],
[0.0010326677001713963, 0.00093775261263066324, 0.0011513847458044320],
[0.0020113706116682644, 0.0018024987396572641, 0.0023044225953684646],
[0.0032742089667677412, 0.0029049883420103071, 0.0038440359832246731],
[0.0048080371934143351, 0.0042325161231176033, 0.00577595],
[0.0066024016492306189, 0.0057761903264786744, 0.0081086806681631290],
[0.0086483002730967217, 0.0075295133267021929, 0.010852471822443638],
[0.010937556497071671, 0.0094876428725591960, 0.014018772518746754],
[0.013462462913021804, 0.011646960200594081, 0.017619931789609845],
[0.016215561104491221, 0.014004796827401005, 0.021669008265106166],
[0.019189497179649597, 0.0165593, 0.026179639423643968],
[0.022376922525605292, 0.019309062525757033, 0.031165945643047248],
[0.025770423138895371, 0.022253514634555018, 0.036642455316044743],
[0.029362467860429404, 0.025392370849461558, 0.042554920635204697],
[0.033145369610075533, 0.028725820049929279, 0.048499688454661787],
[0.037111255867689472, 0.032254436786778910, 0.054437262734505810],
[0.041234036144169726, 0.035979149779376190, 0.060371676034228793],
[0.045299948389525051, 0.039901216972804646, 0.0663063],
[0.049284694497342317, 0.043875720541939479, 0.072244022995925611],
[0.053190160022765949, 0.047810088239683683, 0.078187193884561995],
[0.057017848037368764, 0.0517151, 0.084137827466044812],
[0.060768934652681093, 0.055594, 0.090097586863380569],
[0.064444313724725588, 0.059450068067607796, 0.0960678],
[0.068044633193241139, 0.063286, 0.10204969159646862],
[0.071570324873980268, 0.067104520507116822, 0.10804401562073682],
[0.075021629069933427, 0.070908000891517942, 0.11405147411686026],
[0.078398615039978498, 0.074698738504994505, 0.12007253877943577],
[0.081701198123372787, 0.078478862200665439, 0.12610750681066263],
[0.084929154140089336, 0.082250371108316234, 0.13215651472926063],
[0.088082131552831677, 0.086015148254567270, 0.13821955015896389],
[0.091159661774531053, 0.089774972157834698, 0.14429646196735851],
[0.0941612, 0.093531526730907283, 0.15038696905199758],
[0.097085972293185135, 0.097286409759875292, 0.15649066801357872],
[0.099933302665888735, 0.10104114017801929, 0.16260703991132464],
[0.10270229774168577, 0.10479716431376876, 0.16873545626055281],
[0.10539201169896628, 0.10855586126047140, 0.17487518440449201],
[0.10800141805827576, 0.11231854749065925, 0.181025],
[0.11052941291137233, 0.11608648081733505, 0.18718515329937915],
[0.11297481758663078, 0.11986086378850516, 0.19335344953392691],
[0.11533638080493291, 0.12364284658793284, 0.199529],
[0.11761278036850287, 0.12743352950425255, 0.20571114586785483],
[0.11980262441503234, 0.13123396502170553, 0.21189808977963875],
[0.12190445226056787, 0.13504515957842322, 0.21808866327332471],
[0.12391673484661950, 0.13886807503213114, 0.22428144785022686],
[0.12583787479957831, 0.142704, 0.23047495446796867],
[0.12766620610355298, 0.14655270018004232, 0.23666762656703971],
[0.12939999338093958, 0.15041612045091532, 0.24285784306965857],
[0.131037, 0.154295, 0.24904392136978515],
[0.13257664036764316, 0.158189, 0.25522412033041242],
[0.13401567024760230, 0.16210021333472285, 0.26139664330186774],
[0.135352, 0.16602856413576600, 0.26755964117271763],
[0.136585, 0.16997482933599586, 0.273711],
[0.13771099579896035, 0.17393960171985806, 0.27984942146753761],
[0.13872820832446836, 0.17792343409081116, 0.28597227145631554],
[0.13963426425465422, 0.18192683915585997, 0.29207773793587705],
[0.14042669462510166, 0.18595028936368038, 0.29816375697633812],
[0.141103, 0.18999421670763864, 0.30422823160580215],
[0.14166027085637339, 0.19405901250431676, 0.31026903527359934],
[0.14209592229976878, 0.19814502715753768, 0.31628401538246276],
[0.14240693999232384, 0.202253, 0.32227099688877764],
[0.14259024000641127, 0.20638190864255324, 0.328228],
[0.14264258057853246, 0.21053326957603630, 0.33415217375008316],
[0.14256054603163335, 0.214707, 0.34004194009868255],
[0.14234052811124653, 0.218903, 0.34589485746755533],
[0.14197870426786288, 0.22312111970421322, 0.35170869479128086],
[0.14147101231467696, 0.22736199302298332, 0.35748122142715821],
[0.14081312075972716, 0.23162538944794753, 0.36321021113428464],
[0.14000039394614991, 0.23591128241263060, 0.36889344608384111],
[0.13902785092271877, 0.24021960310186485, 0.37452872089298578],
[0.13789011669365608, 0.24455024056810171, 0.380114],
[0.13658136414080543, 0.24890304191382767, 0.38564665509194573],
[0.13509524444306908, 0.25327781254368159, 0.39112500241647180],
[0.13342480319562572, 0.25767431648938438, 0.39654677356751983],
[0.13156237859477110, 0.26209227681008601, 0.40190988613632545],
[0.129499, 0.266531, 0.40721229437733786],
[0.12722661894169871, 0.27099125689659997, 0.41245199315927689],
[0.12473314880506453, 0.27547152261546604, 0.41762702186550205],
[0.12200699358658024, 0.27997173797073993, 0.42273546823354646],
[0.11903435750437732, 0.28449142992294346, 0.42777547212367612],
[0.11579932788534231, 0.28903008852879702, 0.43274522920639508],
[0.11228336011115406, 0.29358716790051259, 0.43764299455892897],
[0.10846459332355299, 0.29816208724348592, 0.442467],
[0.10431692428458014, 0.30275423197061985, 0.44721588827965947],
[0.099808726996049424, 0.30736295489108212, 0.45188785473592258],
[0.094901038465781434, 0.31198757747089007, 0.45648151204091864],
[0.089544912804586901, 0.31662739116231609, 0.46099546239636385],
[0.083677427931620724, 0.32128165879875425, 0.46542838654923774],
[0.077215404250353781, 0.32594961605133205, 0.469779],
[0.070045007622438565, 0.33063047294325215, 0.47404628801310039],
[0.062003393456814764, 0.33532341541754740, 0.47822904305538999],
[0.052843442787780824, 0.340028, 0.48232633193624380],
[0.042157671735227893, 0.34474219022831337, 0.48633726536432204],
[0.029922520209312974, 0.34946628881490405, 0.49026104628416695],
[0.017382767926681590, 0.35419900891761075, 0.49409697153269644],
[0.0046115736034924738, 0.35893944113361775, 0.49784443330600586],
[-0.0083677028205678267, 0.363687, 0.50150292043391054],
[-0.021530519855473201, 0.36843973699185634, 0.50507201946034164],
[-0.034851173223461630, 0.37319771994946560, 0.50855141552847027],
[-0.048302817326097765, 0.37795965729037728, 0.511941],
[-0.061857489364743862, 0.38272458863966474, 0.51524033629974619],
[-0.075486136052704350, 0.38749154888981491, 0.51844972951403412],
[-0.089158642846538141, 0.39225957001271528, 0.52156915719869446],
[-0.102844, 0.39702768285750850, 0.52459880394492153],
[-0.11650966464793787, 0.40179491892931030, 0.52753895417845975],
[-0.13012294092047763, 0.40656031214397320, 0.53038999170493128],
[-0.14364967447561400, 0.41132290055425796, 0.53315239907565470],
[-0.15705496483517795, 0.41608172804298904, 0.53582675677874669],
[-0.17030307329829855, 0.42083584597899215, 0.53841374226083283],
[-0.18335746700221295, 0.42558431483187176, 0.54091412878517864],
[-0.19618086460820874, 0.43032620574191727, 0.54332878413250563],
[-0.20873528347181475, 0.43506060204172753, 0.54565866915117023],
[-0.22098208815214562, 0.43978660072639458, 0.54790483616374197],
[-0.23288204011248401, 0.44450331386939001, 0.55006842723734384],
[-0.24439534846174069, 0.44920986998158346, 0.55215067232539516],
[-0.25548172158513954, 0.453905, 0.55415288728862011],
[-0.2661, 0.45858911508216521, 0.55607647180338260],
[-0.27621030686724635, 0.46326015467087028, 0.55792290716553006],
[-0.28576990625947224, 0.46791774071710573, 0.55969375399804067],
[-0.29473745194977718, 0.47256110217092656, 0.56139064987080889],
[-0.303071, 0.47718949127290827, 0.56301530684090073],
[-0.31072820037976734, 0.48180218446783413, 0.56456950892160218],
[-0.31766691401315167, 0.48639848325144658, 0.566055],
[-0.32384470276368854, 0.49097771495026249, 0.56747402863056928],
[-0.32921916409299040, 0.49553923343467138, 0.56882825045468532],
[-0.33374792714851465, 0.50008241976578938, 0.57011982035058584],
[-0.337389, 0.50460668277676934, 0.57135084222461652],
[-0.34009934331551628, 0.50911145958945381, 0.57252347570911310],
[-0.34183787514254088, 0.51359621606748340, 0.57364],
[-0.34256256540910446, 0.51806044720712985, 0.57470247781181938],
[-0.34223196133875017, 0.52250367746730897, 0.57571341900915540],
[-0.34080493892321473, 0.52692546104037241, 0.57667511133303173],
[-0.33824074863258241, 0.53132538206541424, 0.57758995081556252],
[-0.33449905982811701, 0.53570305478595803, 0.57846037233573888],
[-0.32954000381535770, 0.54005812365399330, 0.57928884683887005],
[-0.32332421548298584, 0.54439026338242558, 0.58007787857897508],
[-0.31581287348006926, 0.54869917894808406, 0.58083000238836791],
[-0.30696773889191670, 0.55298460554749884, 0.58154778097832161],
[-0.29675119238166053, 0.55724630850770762, 0.58223380227429167],
[-0.285126, 0.56148408315439824, 0.582891],
[-0.27205669604779847, 0.56569775463970962, 0.58352103503476027],
[-0.25750691776744117, 0.56988717773204611, 0.58412752498145393],
[-0.24144213387631289, 0.57405223657024307, 0.584713],
[-0.22382832492242405, 0.57819284438443341, 0.58528],
[-0.204632, 0.58230894318594384, 0.58583047440857028],
[-0.183822, 0.58640050342851158, 0.58636823349181988],
[-0.16136484622557640, 0.59046752364309885, 0.58689554014741163],
[-0.13723130824454052, 0.59451003004852820, 0.58741509626485777],
[-0.11139128376757754, 0.59852807614011128, 0.58792960470631728],
[-0.083815968305483351, 0.60252174225839916, 0.58844176714973817],
[-0.054477499806497152, 0.60649113514010922, 0.58895428198167255],
[-0.023348975679845903, 0.61043638745323003, 0.58946984223928733],
[0.0095955315701077640, 0.61435765731822301, 0.58999113360088795],
[0.044210666578360737, 0.61825512781717817, 0.59052083242414244],
[0.072496508966993028, 0.62212900649269232, 0.59106160383103823],
[0.094934403583057825, 0.62597952483816743, 0.59161609983853170],
[0.11428910933783404, 0.62980693778114594, 0.59218695753373041],
[0.13169955414901277, 0.63361152316120173, 0.59277679729241639],
[0.14775946539525336, 0.63739358120384471, 0.59338822103966404],
[0.16282180172910007, 0.64115343399179281, 0.59402381055128817],
[0.177115, 0.64489142493489238, 0.59468612579487501],
[0.19079609596310051, 0.64860791823987540, 0.59537770330914419],
[0.20397782757243776, 0.65230329838106815, 0.596101],
[0.21674407389389855, 0.65597796957306698, 0.59685866469533067],
[0.22915891954826823, 0.65963235524634178, 0.59765299042787023],
[0.241272, 0.66326689752661661, 0.59848645916115817],
[0.25312447031752983, 0.66688205671882128, 0.59936146724169270],
[0.26474722942461793, 0.67047831079633702, 0.60028037860609640],
[0.27616708591595279, 0.67405615489614623, 0.60124552339942527],
[0.28740588056607103, 0.67761610082048784, 0.60225919662452820],
[0.29848187754942473, 0.68115867654548667, 0.60332365682202071],
[0.30941047984238046, 0.68468442573721255, 0.60444112478057188],
[0.32020477381214552, 0.68819390727552321, 0.60561378227732687],
[0.33087594994932001, 0.691688, 0.60684377084839303],
[0.34143363223342144, 0.69516637618030208, 0.60813319058945747],
[0.35188613905106153, 0.69863055320490219, 0.609484],
[0.36224069211960347, 0.702081, 0.61089850977819438],
[0.37250358541411449, 0.70551786765954094, 0.61237839184638354],
[0.38268032297252885, 0.70894227381896069, 0.613926],
[0.39277573222992151, 0.71235471222669955, 0.615542],
[0.402794, 0.71575584734336317, 0.61722985932086438],
[0.41273904045120258, 0.71914635494212675, 0.61899038120796945],
[0.42261398163274616, 0.722527, 0.62082550940389403],
[0.43242180029231042, 0.72589824491200450, 0.62273692218855448],
[0.44216507943213901, 0.72926103192781388, 0.62472624614052863],
[0.45184610651169949, 0.73261599997782467, 0.62679505529561264],
[0.46146690799291307, 0.73596387572129807, 0.62894487034110647],
[0.47102927910236631, 0.739305, 0.63117715784623851],
[0.48053480958087019, 0.742641, 0.63349332952903414],
[0.48998490604986439, 0.745972, 0.63589474155983006],
[0.49938081151197239, 0.74929930016992297, 0.63838269390151092],
[0.50872362241329283, 0.752623, 0.64095842968639771],
[0.518014, 0.755944, 0.64362313462956244],
[0.527254, 0.75926328704286383, 0.64637793647818609],
[0.53644255617294934, 0.76258160607851511, 0.64922390449637324],
[0.54558151062024818, 0.76589974271011973, 0.65216204898466945],
[0.55467112109082595, 0.76921850004590742, 0.65519332083331494],
[0.563712, 0.77253868717388263, 0.65831861110805290],
[0.57270414664579350, 0.775861, 0.66153875066711842],
[0.58164830717400107, 0.77918661537266432, 0.664855],
[0.59054462702913257, 0.782516, 0.66826659794064036],
[0.599393, 0.78585, 0.67177566328953286],
[0.60819460242079570, 0.78918977124883860, 0.675382],
[0.61694856794671238, 0.79253582790363497, 0.67908701095772017],
[0.62565532101192645, 0.79588912227057906, 0.68289028140202423],
[0.634315, 0.79925050147545573, 0.686793],
[0.64292737153960777, 0.80262081622615278, 0.69079401981952493],
[0.65149267727916638, 0.80600092056188544, 0.69489510222413808],
[0.66001079279660990, 0.80939167160500780, 0.69909596519130268],
[0.66848165200099752, 0.81279392931533223, 0.70339675885531350],
[0.67690516505273723, 0.81620855624696942, 0.70779757015602795],
[0.68528122048970297, 0.81963641730774495, 0.71229842262668708],
[0.69360968719753280, 0.82307837952129814, 0.71689927616727422],
[0.70189041624095028, 0.82653531179206119, 0.72160002679770396],
[0.71012324257119230, 0.83000808467338716, 0.72640050638462850],
[0.71830798662285655, 0.83349757013921855, 0.73130048233504319],
[0.72644445581211659, 0.83700464135976760, 0.73629965724917579],
[0.73453244594683020, 0.84053017248185813, 0.74139766852433975],
[0.74257174255796599, 0.844075, 0.74659408790043968],
[0.75056212216059981, 0.84764011462218358, 0.75188842093667774],
[0.75850335345180431, 0.85122627692263519, 0.75728010640760868],
[0.76639519845177639, 0.85483440129799715, 0.762769],
[0.77423741359363485, 0.85846536371381232, 0.76835295153003902],
[0.78202975076646986, 0.86212003995252862, 0.77403264795749160],
[0.78977195831527391, 0.86579930546279238, 0.77980676835131335],
[0.79746378200050583, 0.86950403522809328, 0.78567440460627303],
[0.80510496591896141, 0.87323510365889922, 0.79163457558648786],
[0.81269525338655491, 0.87699338451334408, 0.797686],
[0.82023438778221547, 0.88077975085274240, 0.80382822154562705],
[0.82772211335064549, 0.88459507503969104, 0.81005935234460558],
[0.83515817595967645, 0.88844022878844731, 0.81637832448729442],
[0.84254232380558514, 0.89231608327973066, 0.82278375972392071],
[0.84987430805668784, 0.89622350935528516, 0.82927419113866852],
[0.85715388342143162, 0.90016337781173117, 0.83584805870715018],
[0.86438080862195654, 0.90413655981874774, 0.84250370400914321],
[0.87155484674681394, 0.90814392749405681, 0.84923936390000265],
[0.87867576544677695, 0.91218635467767362, 0.85605316288650535],
[0.88574333692390650, 0.91626471796170006, 0.86294310387435314],
[0.89275733764477139, 0.92037989805108866, 0.86990705684613978],
[0.89971754768091783, 0.92453278155801433, 0.87694274487641677],
[0.90662374953906832, 0.92872426337167546, 0.88404772667310860],
[0.91347572628296536, 0.93295524980297240, 0.89121937451774846],
[0.92027325865614218, 0.93722666279027234, 0.89845484600498682],
[0.92701612077031348, 0.94153944558619185, 0.90575104726056743],
[0.93370407369084874, 0.94589457055774784, 0.91310458418279827],
[0.940337, 0.95029305008063847, 0.920512],
[0.94691416865420386, 0.95473595210249595, 0.927968],
[0.95343565407098529, 0.959224, 0.935469],
[0.95990085941192771, 0.96375972242416064, 0.94300915999705237],
[0.96630917890100154, 0.96834327857452329, 0.95058141352325609],
[0.97265975196064647, 0.97297678162275891, 0.95817767691766431],
[0.97895127219862210, 0.97766235361742304, 0.96578720215241909],
[0.98518158839240877, 0.98240289349732224, 0.97339498693524062],
[0.99134672209054398, 0.98720290364475838, 0.98097761182192256],
[0.99743762070490038, 0.99207114856818424, 0.98849013734643598],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
