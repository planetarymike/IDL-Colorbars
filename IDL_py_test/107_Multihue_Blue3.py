from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000208612309326197836, 0.0000200048714121613121, 0.0000198463295491030259],
[0.000378463696347903437, 0.000334228219111762316, 0.000406941223621072850],
[0.00109525996944338094, 0.000946810991826336091, 0.00122277578134736349],
[0.00213279065863091572, 0.00181848616347258770, 0.00245175350195281057],
[0.00347065739489813962, 0.00292899546273311202, 0.00409538950330980752],
[0.00509449585694383023, 0.00426533197572271597, 0.00616088563170595540],
[0.00699278352923841592, 0.00581839097472807397, 0.00865833040551643174],
[0.00915552174998496282, 0.00758152661469071922, 0.0115995787386927018],
[0.0115735725976943635, 0.00954979899991563290, 0.0149976948399169734],
[0.0142382828027930643, 0.0117195331723118981, 0.0188666339040374463],
[0.0171412523170647382, 0.0140880396704127463, 0.0232210404513332053],
[0.0202741831978233249, 0.0166534270871502022, 0.0280761093149081951],
[0.0236287764129132771, 0.0194144708092646827, 0.0334474825777787560],
[0.0271966588965328604, 0.0223705179713079363, 0.0393511681117486578],
[0.0309693305999002855, 0.0255214167809115315, 0.0455234557446179342],
[0.0349381252817776225, 0.0288674628310786434, 0.0516749100431675920],
[0.0390941810670371870, 0.0324093576019802362, 0.0578199528298171325],
[0.0433178222155390993, 0.0361481759253451454, 0.0639624686270346132],
[0.0474436995519464319, 0.0400853401754337341, 0.0701056838909886182],
[0.0514836486850930378, 0.0440630110225141772, 0.0762522767479324737],
[0.0554395756054847158, 0.0480030374037266547, 0.0824044620736263667],
[0.0593129955752396895, 0.0519143577594730413, 0.0885640583866676712],
[0.0631050899433679979, 0.0558004239411681244, 0.0947325411098179360],
[0.0668167518722159459, 0.0596643963053227686, 0.100911085465152456],
[0.0704486234901798569, 0.0635091837631248102, 0.107100601384904598],
[0.0740011263340790981, 0.0673374767324794454, 0.113301762201945044],
[0.0774744864804068345, 0.0711517744519687967, 0.119515028444515309],
[0.0808687554289414523, 0.0749544077704313305, 0.125740667742679169],
[0.0841838275559562421, 0.0787475582717518940, 0.131978771621758528],
[0.0874194547712841830, 0.0825332744053245415, 0.138229269785819370],
[0.0905752588758683419, 0.0863134851502563305, 0.144491942365042397],
[0.0936507420117481115, 0.0900900116330220491, 0.150766430502758258],
[0.0966452955159269600, 0.0938645770350020614, 0.157052245582753797],
[0.0995582074270298656, 0.0976388150617606976, 0.163348777339277135],
[0.102388668844570346, 0.101414277195415958, 0.169655301046729490],
[0.105135779301724130, 0.105192438911648284, 0.175970983950240800],
[0.107798551281330313, 0.108974705011295470, 0.182294891069901599],
[0.110375913979573914, 0.112762414191224847, 0.188625990488676648],
[0.112866716401109984, 0.116556842958866230, 0.194963158215684718],
[0.115269729852200659, 0.120359208978354004, 0.201305182701623064],
[0.117583649883934716, 0.124170673922869984, 0.207650769070932550],
[0.119807097725201345, 0.127992345896850074, 0.213998543125253682],
[0.121938621234202488, 0.131825281482749412, 0.220347055164381911],
[0.123976695387615521, 0.135670487459652517, 0.226694783663979493],
[0.125919722317603428, 0.139528922234881919, 0.233040138843428446],
[0.127766030898509825, 0.143401497024645996, 0.239381466152245315],
[0.129513875876967471, 0.147289076815502018, 0.245717049699235801],
[0.131161436531059022, 0.151192481134816092, 0.252045115644917106],
[0.132706814835862136, 0.155112484655387850, 0.258363835574574652],
[0.134148033103992592, 0.159049817656832071, 0.264671329866558336],
[0.135483031060304182, 0.163005166364131038, 0.270965671067998348],
[0.136709662299511286, 0.166979173181899004, 0.277244887287970365],
[0.137825690063845874, 0.170972436841277664, 0.283506965616221185],
[0.138828782264550171, 0.174985512474978400, 0.289749855573848913],
[0.139716505655621576, 0.179018911634761468, 0.295971472600775831],
[0.140486319050328740, 0.183073102264537990, 0.302169701583439254],
[0.141135565449794359, 0.187148508641319516, 0.308342400424842067],
[0.141661462927780868, 0.191245511295352555, 0.314487403657921549],
[0.142061094085589895, 0.195364446919972234, 0.320602526102107599],
[0.142331393854498084, 0.199505608280965863, 0.326685566561950469],
[0.142469135378731487, 0.203669244134544403, 0.332734311565762164],
[0.142470913657623044, 0.207855559162356540, 0.338746539141375536],
[0.142333126558505413, 0.212064713931363280, 0.344720022625332856],
[0.142051952728620645, 0.216296824885776173, 0.350652534501088631],
[0.141623325830208369, 0.220551964377683429, 0.356541850261157534],
[0.141042904391750629, 0.224830160742409524, 0.362385752287519625],
[0.140306036401860540, 0.229131398424095412, 0.368182033744048509],
[0.139407717559283911, 0.233455618156427680, 0.373928502474236479],
[0.138342541817572134, 0.237802717202895308, 0.379622984897040605],
[0.137104642504992519, 0.242172549660413627, 0.385263329893293149],
[0.135687621829547134, 0.246564926829609343, 0.390847412674781458],
[0.134084465953585974, 0.250979617654529252, 0.396373138627828192],
[0.132287441982214815, 0.255416349234014406, 0.401838447122973008],
[0.130287972067106017, 0.259874807406444364, 0.407241315282183103],
[0.128076478252764359, 0.264354637409061510, 0.412579761694909453],
[0.125642189491659256, 0.268855444612568106, 0.417851850074233699],
[0.122972899130023933, 0.273376795331198630, 0.423055692844341358],
[0.120054656652814701, 0.277918217707993298, 0.428189454650599155],
[0.116871370831789806, 0.282479202674530916, 0.433251355783602299],
[0.113404291429759496, 0.287059204983928173, 0.438239675508704907],
[0.109631321232007778, 0.291657644315479858, 0.443152755292737899],
[0.105526085855390972, 0.296273906448905111, 0.447989001919851415],
[0.101056649153980965, 0.300907344505778607, 0.452746890488720022],
[0.0961836951866071044, 0.305557280255345398, 0.457424967283655615],
[0.0908578803338475627, 0.310223005481589931, 0.462021852512568609],
[0.0850158431706622697, 0.314903783408104987, 0.466536242905110032],
[0.0785739394672403668, 0.319598850177016946, 0.470966914164779704],
[0.0714178947762610927, 0.324307416377967339, 0.475312723269267490],
[0.0633845857285700587, 0.329028668622911413, 0.479572610613800354],
[0.0542271634885946388, 0.333761771162296050, 0.483745601992808749],
[0.0435401673712187340, 0.338505867538004268, 0.487830810415775751],
[0.0311183601402951066, 0.343260082268314282, 0.491827437753730001],
[0.0182862662020374100, 0.348023522559998855, 0.495734776213417161],
[0.00518917605740556662, 0.352795280042624004, 0.499552209636806299],
[0., 0.357574432520033458, 0.503279214624202109],
[0., 0.362360045734002545, 0.506915361479840620],
[0., 0.367151175135031649, 0.510460314979489405],
[0., 0.371946867655290558, 0.513913834960167071],
[0., 0.376746163478787421, 0.517275776732719517],
[0., 0.381548097803907360, 0.520546091318593307],
[0., 0.386351702593586477, 0.523724825512716707],
[0., 0.391156008308507219, 0.526812121774988151],
[0., 0.395960045618863110, 0.529808217953403049],
[0., 0.400762847090394503, 0.532713446842376426],
[0., 0.405563448840608076, 0.535528235580334022],
[0., 0.410360892161268198, 0.538253104891090017],
[0., 0.415154225103499863, 0.540888668173982512],
[0., 0.419942504022034313, 0.543435630448152018],
[0., 0.424724795075401895, 0.545894787156700700],
[0., 0.429500175679112639, 0.548267022836822937],
[0., 0.434267735909106167, 0.550553309662288881],
[0., 0.439026579853041776, 0.552754705864936358],
[0., 0.443775826907237547, 0.554872354042028060],
[0., 0.448514613017346464, 0.556907479356543056],
[0., 0.453242091861113139, 0.558861387637600071],
[0., 0.457957435971827198, 0.560735463388322031],
[0., 0.462659837801341400, 0.562531167708530844],
[0., 0.467348510721781130, 0.564250036139677724],
[0., 0.472022689965321207, 0.565893676439431670],
[0., 0.476681633501649216, 0.567463766293297311],
[0., 0.481324622852968564, 0.568962050970560851],
[0., 0.485950963846620232, 0.570390340931773099],
[0., 0.490559987305620171, 0.571750509394825412],
[0., 0.495151049677610422, 0.573044489866530005],
[0., 0.499723533602923153, 0.574274273646406486],
[0., 0.504276848422627877, 0.575441907309179102],
[0., 0.508810430627625543, 0.576549490172245438],
[0., 0.513323744249974956, 0.577599171754104690],
[0., 0.517816281197826078, 0.578593149229487902],
[0., 0.522287561535427658, 0.579533664886604072],
[0., 0.526737133709825778, 0.580423003591636122],
[0., 0.531164574725961125, 0.581263490265284122],
[0., 0.535569490271968762, 0.582057487375841398],
[0., 0.539951514796580101, 0.582807392452929340],
[0., 0.544310311540572411, 0.583515635625706408],
[0., 0.548645572524293579, 0.584184677188995472],
[0., 0.552957018493320684, 0.584817005200445439],
[0., 0.557244398824352727, 0.585415133111496844],
[0., 0.561507491393457792, 0.585981597434571788],
[0., 0.565746102408819951, 0.586518955448591228],
[0., 0.569960066210120298, 0.587029782944571310],
[0., 0.574149245036696842, 0.587516672012751484],
[0., 0.578313528766606244, 0.587982228872382828],
[0., 0.582452834628692351, 0.588429071745015908],
[0., 0.586567106889742340, 0.588859828771829963],
[0., 0.590656316518766378, 0.589277135975296962],
[0., 0.594720460830405528, 0.589683635265188966],
[0., 0.598759563109420800, 0.590081972488718298],
[0., 0.602773672218165024, 0.590474795524380869],
[0., 0.606762862188881868, 0.590864752418855610],
[0., 0.610727231802618897, 0.591254489566134245],
[0., 0.614666904156473071, 0.591646649927904056],
[0., 0.618582026220825143, 0.592043871294046009],
[0.00946509217482030020, 0.622472768388145470, 0.592448784581991239],
[0.0463159844353598707, 0.626339324014883347, 0.592864012173589638],
[0.0755715282184349357, 0.630181908957886172, 0.593292166288038381],
[0.0986811953557856780, 0.634000761106705779, 0.593735847389384341],
[0.118566285761876972, 0.637796139913094806, 0.594197642627050660],
[0.136421698639136779, 0.641568325918895010, 0.594680124307834346],
[0.152868312335812134, 0.645317620283473836, 0.595185848397809414],
[0.168274582925706101, 0.649044344311768606, 0.595717353052598764],
[0.182878765729383913, 0.652748838983926216, 0.596277157174504802],
[0.196844505490982313, 0.656431464487468919, 0.596867758995052067],
[0.210289351629476429, 0.660092599752823195, 0.597491634681556527],
[0.223300714739556705, 0.663732641992992645, 0.598151236966431132],
[0.235945406429874272, 0.667352006248081664, 0.598848993798023699],
[0.248275648426743989, 0.670951124935306620, 0.599587307011910986],
[0.260333021155068178, 0.674530447405066402, 0.600368551021671526],
[0.272151150740487846, 0.678090439503593823, 0.601195071528314973],
[0.283757592168871864, 0.681631583142617403, 0.602069184247664757],
[0.295175182693231786, 0.685154375876441901, 0.602993173655139270],
[0.306423035880842409, 0.688659330486761756, 0.603969291747522674],
[0.317517285699170648, 0.692146974575498231, 0.604999756821465895],
[0.328471652876153764, 0.695617850165877183, 0.606086752268596318],
[0.339297882420963703, 0.699072513311927990, 0.607232425387262298],
[0.350006086118942628, 0.702511533716525305, 0.608438886211082552],
[0.360605013848283862, 0.705935494358062132, 0.609708206354580451],
[0.371102270833552184, 0.709344991125793522, 0.611042417876337618],
[0.381504493314602733, 0.712740632463848223, 0.612443512160176562],
[0.391817491859863809, 0.716123039023875530, 0.613913438815004708],
[0.402046369239388135, 0.719492843326258624, 0.615454104594033158],
[0.412195618101620254, 0.722850689429780924, 0.617067372334136777],
[0.422269202474271632, 0.726197232609618992, 0.618755059916192396],
[0.432270626203010600, 0.729533139043503254, 0.620518939247255874],
[0.442202990762106007, 0.732859085505846775, 0.622360735265450438],
[0.452069044356610938, 0.736175759069644831, 0.624282124968437491],
[0.461871223842035772, 0.739483856815907892, 0.626284736466318437],
[0.471611690683973739, 0.742784085550375672, 0.628370148059757772],
[0.481292361943672253, 0.746077161527254784, 0.630539887344066519],
[0.490914937090337233, 0.749363810179682899, 0.632795430339878173],
[0.500480921294473413, 0.752644765856646858, 0.635138200650967599],
[0.509991645740029531, 0.755920771566029770, 0.637569568649603124],
[0.519448285399821130, 0.759192578723491218, 0.640090850689715607],
[0.528851874643510800, 0.762460946906848291, 0.642703308347965185],
[0.538203320986402778, 0.765726643615648794, 0.645408147692639988],
[0.547503417237757084, 0.768990444035595133, 0.648206518580106916],
[0.556752852266428677, 0.772253130807507016, 0.651099513978325217],
[0.565952220568319397, 0.775515493800487898, 0.654088169316724532],
[0.575102030792228991, 0.778778329888984100, 0.657173461861498387],
[0.584202713357761416, 0.782042442733413057, 0.660356310115124190],
[0.593254627279639735, 0.785308642564063408, 0.663637573238673340],
[0.602258066296688654, 0.788577745967963151, 0.667018050495191916],
[0.611213264390179201, 0.791850575678442858, 0.670498480712179545],
[0.620120400764777813, 0.795127960367117414, 0.674079541760886136],
[0.628979604355626831, 0.798410734438052883, 0.677761850049883097],
[0.637790957916844259, 0.801699737823882153, 0.681545960030031539],
[0.646554501739652121, 0.804995815783682844, 0.685432363707674908],
[0.655270237042371861, 0.808299818702446715, 0.689421490162550610],
[0.663938129069288729, 0.811612601892011343, 0.693513705066554520],
[0.672558109930924686, 0.814935025393374923, 0.697709310199144728],
[0.681130081214479932, 0.818267953780341228, 0.702008542954742909],
[0.689653916389746491, 0.821612255964530802, 0.706411575837087358],
[0.698129463032968189, 0.824968805001829786, 0.710918515934994333],
[0.706556544888553351, 0.828338477900452785, 0.715529404373456690],
[0.714934963786332700, 0.831722155430855925, 0.720244215733409021],
[0.723264501430054718, 0.835120721937880006, 0.725062857432799190],
[0.731544921071123122, 0.838535065155592951, 0.729985169060802574],
[0.739775969080020856, 0.841966076025472909, 0.735010921656102600],
[0.747957376426445220, 0.845414648518744705, 0.740139816919057503],
[0.756088860077954394, 0.848881679463880823, 0.745371486346276590],
[0.764170124325751821, 0.852368068380551680, 0.750705490274596321],
[0.772200862045164471, 0.855874717321593037, 0.756141316819571530],
[0.780180755897307066, 0.859402530724940328, 0.761678380691353851],
[0.788109479477478780, 0.862952415277920215, 0.767316021868103659],
[0.795986698414761773, 0.866525279796842018, 0.773053504103727418],
[0.803812071426313501, 0.870122035125497018, 0.778890013242635293],
[0.811585251328658441, 0.873743594057028061, 0.784824655309132813],
[0.819305886007094308, 0.877390871284644547, 0.790856454332756198],
[0.826973619342850963, 0.881064783387990658, 0.796984349862967178],
[0.834588092095963630, 0.884766248863618321, 0.803207194116691059],
[0.842148942739741280, 0.888496188210108118, 0.809523748689595868],
[0.849655808240120214, 0.892255524081107421, 0.815932680745915850],
[0.857108324769823127, 0.896045181523058232, 0.822432558580905249],
[0.864506128342985347, 0.899866088318967305, 0.829021846423066422],
[0.871848855350119023, 0.903719175465663049, 0.835698898307934424],
[0.879136142965517120, 0.907605377820114301, 0.842461950808227278],
[0.886367629388675970, 0.911525634961386166, 0.849309114342135518],
[0.893542953866524714, 0.915480892329948004, 0.856238362695659561],
[0.900661756422440729, 0.919472102727103224, 0.863247520276387625],
[0.907723677188219225, 0.923500228287139291, 0.870334246449789295],
[0.914728355191369413, 0.927566243077797670, 0.877496016071540152],
[0.921675426384884089, 0.931671136547899792, 0.884730094983309012],
[0.928564520607133792, 0.935815918136024827, 0.892033508723821034],
[0.935395257003612701, 0.940001623500805516, 0.899403001919370726],
[0.942167237191574469, 0.944229323066081760, 0.906834984579639070],
[0.948880035031270830, 0.948500133955905267, 0.914325459512780547],
[0.955533181146633770, 0.952815237044883578, 0.921869921677397230],
[0.962126139035457295, 0.957175902009232194, 0.929463214291278872],
[0.968658267124966943, 0.961583525446358611, 0.937099315338371763],
[0.975128756070731240, 0.966039691517182164, 0.944771005864363245],
[0.981536519414633824, 0.970546274139014620, 0.952469323355805364],
[0.987879988210628945, 0.975105623009362543, 0.960182587826926670],
[0.994156681962779953, 0.979720941062920736, 0.967894466547239651],
[1.00000000000000000, 0.984397188274889534, 0.975579435603299960],
[1.00000000000000000, 0.989143986912922712, 0.983188503809165559],
[1.00000000000000000, 0.994000868618791888, 0.990528868543822605]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
