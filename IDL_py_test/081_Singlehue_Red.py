from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.000019872508023912684, 0.000019586801788918958, 0.000019529289536969018],
[0.00040376872873769545, 0.000316916, 0.00033844138312968659],
[0.0012152748879023204, 0.00088478154548179760, 0.00096886095081372603],
[0.0024375608696275324, 0.0016792845085966510, 0.0018745297282895660],
[0.0040687072833803292, 0.0026758707299202149, 0.0030371892049493574],
[0.0061114602208914067, 0.0038573787874728554, 0.00444518],
[0.0085707560765962715, 0.0052105880205156243, 0.0060902618359712692],
[0.011452755250024911, 0.00672472, 0.0079663085558221176],
[0.014764377311937584, 0.0083906566816207197, 0.010068578299443638],
[0.018513046946941555, 0.010200471457760195, 0.012393330219823665],
[0.0227065, 0.012147142361438747, 0.014937567747326581],
[0.027352897168523557, 0.014224350747467846, 0.017698869672497057],
[0.032460336936806729, 0.016426342940421425, 0.020675272146337301],
[0.038037230681184309, 0.018747829131451219, 0.023865183244243159],
[0.043941061438279159, 0.021183907861709171, 0.027267319282337832],
[0.049811386430328987, 0.023730008374575298, 0.030880656191263733],
[0.055650916538459695, 0.026381845819483166, 0.034704391627517837],
[0.061463771298918730, 0.029135385932950116, 0.038737914937196090],
[0.067253478139894768, 0.031986816860696349, 0.042894294330073031],
[0.073023079020141962, 0.034932526462692674, 0.046998123860302658],
[0.078775213146095591, 0.037969083898307596, 0.051060311630982173],
[0.084512182039250094, 0.041079486076631346, 0.055083923847653336],
[0.090236001365489538, 0.044136931509405251, 0.0590717],
[0.095948442688086666, 0.047140676898557714, 0.063026113365002134],
[0.10165106744855454, 0.050093213584464759, 0.066949383822585445],
[0.10734525488018168, 0.052996821975426760, 0.0708435],
[0.11303222513307720, 0.055853600225161441, 0.074710412291213696],
[0.11871305858208078, 0.058665488355921676, 0.078551698985701440],
[0.12438871206386235, 0.061434288698785859, 0.082368943889152058],
[0.13006003262271290, 0.064161683330819952, 0.086163572927666354],
[0.13572776921939036, 0.066849249044260567, 0.089936903697664827],
[0.14139258276249309, 0.0694985, 0.093690157214078362],
[0.14705505474914271, 0.072110750315140110, 0.097424468058599584],
[0.15271569474555213, 0.074687421130976789, 0.10114089318846622],
[0.15837494689421691, 0.077229751931552487, 0.10484],
[0.16403319559999299, 0.079738956748137635, 0.108524],
[0.16969077052000647, 0.082216201127926047, 0.11219241425095749],
[0.17534795096053660, 0.084662608081661317, 0.11584656335207236],
[0.18100496976650157, 0.087079263386169475, 0.11948718538432398],
[0.18666201677500349, 0.089467220328024483, 0.12311500392895614],
[0.19231924189287669, 0.091827503960694556, 0.12673070286882593],
[0.19797675784875096, 0.094161114936128110, 0.13033492966091337],
[0.20363464266239151, 0.096469032962323897, 0.13392829827041516],
[0.20929294186767122, 0.098752219930621193, 0.13751139180850913],
[0.21495167052020669, 0.10101162274992664, 0.14108476490978331],
[0.22061081501624757, 0.10324817591963381, 0.14464894588023700],
[0.22627033474568847, 0.10546280386839935, 0.14820443864248911],
[0.23193016359893937, 0.10765642308204648, 0.15175172450122507],
[0.23759, 0.10982994404057986, 0.15529126374886257],
[0.24325036489378876, 0.11198427298148514, 0.15882349712882662],
[0.24891048946104194, 0.11412031350408772, 0.16234884717161205],
[0.25457042963811355, 0.11623896802769612, 0.16586771941692322],
[0.26023001038555116, 0.11834113911449118, 0.169381],
[0.26588903795376317, 0.12042773066659743, 0.17288757434729718],
[0.27154730074023420, 0.12249964900547725, 0.17638929278587606],
[0.277205, 0.12455780384064474, 0.17988600674902924],
[0.28286060104395844, 0.12660310913373293, 0.18337805191073961],
[0.28851513304455467, 0.12863648386310300, 0.18686575245999232],
[0.29416789059651061, 0.13065885269346031, 0.190349],
[0.29981858389385108, 0.13267114655432225, 0.19382936311057641],
[0.30546690941274540, 0.13467430313064999, 0.19730587007917594],
[0.31111255047492842, 0.13666926726850887, 0.20077922730291270],
[0.31675517778449525, 0.13865699129824152, 0.20424971086688237],
[0.322394, 0.14063843527732273, 0.20771758880101265],
[0.32803001392965908, 0.142615, 0.21118312151871138],
[0.33366150559566726, 0.14458636285911392, 0.21464656222562384],
[0.339289, 0.14655480631060666, 0.21810815730088939],
[0.34491076234229334, 0.14852088936058580, 0.22156814665306390],
[0.35052774742022869, 0.15048561165790278, 0.22502676405267463],
[0.35613910100738683, 0.15244998044464669, 0.22848423744318985],
[0.36174440977172972, 0.15441501028222868, 0.23194078923203343],
[0.36734325176324839, 0.15638172270925019, 0.23539663656312176],
[0.37293519679606241, 0.15835114583261689, 0.238852],
[0.37851980682248781, 0.160324, 0.24230706162676363],
[0.38409663629995278, 0.16230226652942434, 0.245762],
[0.38966523255156699, 0.164286, 0.24921715383285631],
[0.39522513612107646, 0.16627670900445030, 0.25267256883149281],
[0.40077588112285534, 0.16827530041063749, 0.256128],
[0.40631699558754902, 0.17028287819736743, 0.25958508883657894],
[0.41184800180390940, 0.17230049975226686, 0.26304256350642075],
[0.41736841665731589, 0.17432922357228478, 0.26650108853920146],
[0.42287775196544203, 0.17637010834163344, 0.26996084020432776],
[0.42837551481146396, 0.178424, 0.27342199160304814],
[0.433861, 0.18049259056488937, 0.27688471279846333],
[0.43933432976247611, 0.18257629743020257, 0.28034917093815925],
[0.44479437533310612, 0.18467638194731859, 0.28381553036992607],
[0.45024083602763115, 0.18679388849017514, 0.28728395275100727],
[0.45567320019318741, 0.18892985529000214, 0.29075459715127860],
[0.461091, 0.19108531328353642, 0.29422762015073828],
[0.46649357880925685, 0.19326128494496539, 0.29770317593166307],
[0.47188055741094542, 0.19545878310620279, 0.30118141636575868],
[0.47725136843444710, 0.19767880977017616, 0.30466249109661586],
[0.48260548962938482, 0.19992235492189725, 0.30814654761775961],
[0.48794239759842445, 0.20219, 0.31163373134656575],
[0.49326156812161043, 0.20448389342847362, 0.31512418569429801],
[0.49856247648095348, 0.20680379602867022, 0.31861805213250433],
[0.50384459778535640, 0.20915103329092810, 0.32211547025600334],
[0.50910740729592519, 0.21152651753591684, 0.32561657784266357],
[0.51435038075171646, 0.21393114215503700, 0.32912151091018688],
[0.51957299469595042, 0.21636578053939970, 0.33263040377007458],
[0.52477472680270787, 0.21883128504378285, 0.33614338907896157],
[0.52995505620413130, 0.22132848598963772, 0.33966059788748310],
[0.53511346381811253, 0.22385819071099056, 0.34318215968683335],
[0.54024943267647740, 0.22642118264682259, 0.34670820245317074],
[0.54536244825363223, 0.22901822048325121, 0.350239],
[0.55045199879564666, 0.23165003734852790, 0.35377423546870446],
[0.55551757564974613, 0.23431734006355154, 0.35731447446726350],
[0.56055867359415201, 0.23702080845028006, 0.36085969200742263],
[0.56557479116823117, 0.23976109470006274, 0.36441000909028776],
[0.57056543100288881, 0.24253882280359074, 0.36796554543053900],
[0.57553010015113182, 0.245355, 0.37152641948933818],
[0.58046831041873725, 0.24820895655258801, 0.37509274850603291],
[0.58537957869494084, 0.25110246493233818, 0.37866464852875248],
[0.59026342728305048, 0.25403561994189044, 0.38224223444397920],
[0.59511938423090605, 0.25700889824752810, 0.38582562000518505],
[0.59994698366107124, 0.26002274623819854, 0.38941491786061039],
[0.60474576610065844, 0.26307757990438613, 0.39301023958025955],
[0.60951527881067391, 0.26617378477959847, 0.39661169568218685],
[0.61425507611476848, 0.26931171594317455, 0.400219],
[0.61896471972726885, 0.27249169808285778, 0.40383344799862880],
[0.62364377908036339, 0.27571402561533159, 0.40745396021746572],
[0.62829183165031610, 0.27897896286270196, 0.41108103887586139],
[0.63290846328255956, 0.282287, 0.41471478960610220],
[0.63749326851554677, 0.28563757475038604, 0.41835531713488011],
[0.64204585090319666, 0.28903162988830577, 0.42200272530631133],
[0.64656582333579316, 0.29246905644334287, 0.42565711710469550],
[0.65105280835919577, 0.29594997270662182, 0.42931859467705630],
[0.65550643849217827, 0.299474, 0.43298725935549859],
[0.65992635654177023, 0.30304260804541444, 0.436663],
[0.66431221591640988, 0.30665442575623819, 0.44034655141765960],
[0.66866368093675577, 0.31030993154437436, 0.44403737759044487],
[0.67298042714398742, 0.31400910904354434, 0.44773578849146273],
[0.67726214160542464, 0.31775191670389280, 0.45144188170978100],
[0.68150852321728383, 0.32153828843575666, 0.45515575415182835],
[0.68571928300440654, 0.32536813427401884, 0.45887750206339178],
[0.68989414441677144, 0.32924134106036207, 0.46260722105166380],
[0.69403284362262141, 0.33315777314081013, 0.46634500610735657],
[0.698135, 0.33711727307605299, 0.47009095162690034],
[0.70220076541260601, 0.34111966236213720, 0.47384515143473976],
[0.70622952651153881, 0.34516474215923248, 0.47760769880574300],
[0.71022120299314129, 0.34925229402629343, 0.48137868648773158],
[0.71417559888238014, 0.35338208065953691, 0.48515820672414539],
[0.71809253259977912, 0.35755384663282702, 0.48894635127684410],
[0.72197183722568081, 0.36176731913811749, 0.49274321144905769],
[0.72581336075963876, 0.366022, 0.496549],
[0.72961696637475903, 0.37031821003278431, 0.50036344171055391],
[0.73338253266680942, 0.37465500252866291, 0.50418699232181952],
[0.73710995389792444, 0.37903225122564205, 0.50801961964354325],
[0.74079914023469773, 0.38345, 0.51186141303540766],
[0.74445001798051358, 0.38790670932042354, 0.51571246153939621],
[0.74806252980191690, 0.39240318290809928, 0.51957285390381836],
[0.75163663494885291, 0.396939, 0.52344267860748406],
[0.75517230946861413, 0.401513, 0.52732202388401950],
[0.75866954641330198, 0.406125, 0.53121097774631865],
[0.76212835604065743, 0.410775, 0.53510962801112116],
[0.76554876600808441, 0.41546225699661427, 0.53901806232371718],
[0.76893082155971038, 0.42018650066549190, 0.54293636818275792],
[0.77227458570633112, 0.42494720902621164, 0.546865],
[0.77558013939807646, 0.42974393328929383, 0.55080294395119334],
[0.778848, 0.43457621811682223, 0.554751],
[0.782077, 0.43944360219721262, 0.55871005332203272],
[0.78526861975268503, 0.44434561880573925, 0.56267902600997632],
[0.78842250553714688, 0.44928179635076876, 0.56665839355827674],
[0.79153886022392317, 0.45425165890565017, 0.57064824314134399],
[0.794618, 0.45925472672629403, 0.57464866198832287],
[0.79765976238631631, 0.46429051675446958, 0.57865973740845233],
[0.80066475034463869, 0.46935854310690023, 0.58268155681642941],
[0.80363308838171377, 0.47445831755025086, 0.58671420775776006],
[0.80656504464071299, 0.47958934996213237, 0.59075777793408801],
[0.80946090658584391, 0.484751, 0.59481235522848730],
[0.81232098107805706, 0.48994322142586871, 0.59887802773070886],
[0.81514559444209700, 0.49516507474372012, 0.60295488376236084],
[0.81793509252482277, 0.50041621538858383, 0.60704301190202259],
[0.82068984074477835, 0.50569615022866465, 0.61114250101026857],
[0.82341022413298703, 0.51100438672398718, 0.61525344025459683],
[0.82609664736493882, 0.51634043329398105, 0.61937591913424839],
[0.82874953478378532, 0.521704, 0.62351002750490747],
[0.83136933041474870, 0.52709399725012374, 0.62765585560326809],
[0.83395649797077342, 0.53251053940491100, 0.63181349407146059],
[0.83651152084945701, 0.53795294182015985, 0.635983],
[0.83903490212132659, 0.543421, 0.64016456685851508],
[0.84152716450953691, 0.54891340351876783, 0.64435818470644835],
[0.84398885036106719, 0.554431, 0.64856398003004967],
[0.84642052160956771, 0.55997156526971226, 0.652782],
[0.84882275972995391, 0.56553610571786106, 0.65701247577270616],
[0.85119616568493517, 0.57112366528256553, 0.66125536392025119],
[0.853541, 0.57673378371624573, 0.66551080504654381],
[0.85585898201256461, 0.58236600520726656, 0.66977889451343620],
[0.85814969115910933, 0.58801987859636084, 0.67405972832253602],
[0.86041416552788308, 0.59369495758229296, 0.67835340313746162],
[0.86265310245020788, 0.59939080091683394, 0.68266001630585704],
[0.86486721826706137, 0.60510697258910573, 0.68698],
[0.86705724822589825, 0.61084304199930684, 0.69131245064410551],
[0.86922394637175049, 0.616599, 0.69565847012400039],
[0.87136808543310151, 0.62237317965787520, 0.70001782461969619],
[0.87349045670303682, 0.62816641517717309, 0.70439061522032553],
[0.87559186991629012, 0.63397788324937021, 0.70877694382575063],
[0.87767315312280703, 0.63980718256439339, 0.71317691316674103],
[0.87973515255857104, 0.64565391804206185, 0.71759062682486863],
[0.88177873251448158, 0.65151770093068106, 0.722018],
[0.88380477520418521, 0.65739814889448722, 0.72645970579021191],
[0.88581418063183737, 0.66329488608973208, 0.730915],
[0.88780786646090903, 0.66920754322917242, 0.73538502712833054],
[0.88978676788525279, 0.675136, 0.73986904723020019],
[0.89175183750378306, 0.68107917327766132, 0.74436745208313493],
[0.89370404520030844, 0.68703744080683560, 0.74888035175684742],
[0.89564437803019903, 0.69301021756301506, 0.75340785732033177],
[0.89757384011577523, 0.69899716758028707, 0.75795],
[0.89949345255257174, 0.70499796157302441, 0.76250713549146032],
[0.90140425332881957, 0.71101227690803837, 0.76707913538596106],
[0.90330729726086800, 0.71703979756105107, 0.771666],
[0.90520365594753938, 0.72308, 0.77626843297818027],
[0.90709441774685506, 0.729133, 0.780886],
[0.90898068777897401, 0.735199, 0.78551890857458229],
[0.91086358795979094, 0.74127584030813043, 0.79016738514178275],
[0.91274425707015239, 0.74736487326531143, 0.79483151489358350],
[0.91462385086646070, 0.75346534950423227, 0.79951141977189733],
[0.91650354223922381, 0.759577, 0.80420722288444513],
[0.91838452142712745, 0.76569954724700784, 0.80891904851689511],
[0.92026799629535638, 0.77183274008378289, 0.81364702214430407],
[0.92215519268833079, 0.77797631833419523, 0.81839127044179261],
[0.92404735486864742, 0.78413003002052473, 0.82315192129435377],
[0.92594574605607227, 0.79029362748765852, 0.82792910380569473],
[0.92785164908279849, 0.79646686698453484, 0.83272294830597293],
[0.92976636718419881, 0.80264950818845915, 0.837534],
[0.93169122494781120, 0.808841, 0.84236115076368934],
[0.93362756944778957, 0.81504204824657800, 0.84720577556460242],
[0.93557677159746011, 0.821251, 0.85206759604618620],
[0.93754022775947976, 0.82746937110289676, 0.85694674873549625],
[0.93951936166156280, 0.83369549353836048, 0.86184337139791212],
[0.94151562667660260, 0.83992961141071809, 0.86675760303035521],
[0.94353050853978770, 0.846171, 0.87168958385066375],
[0.94556552859294329, 0.85242088274266503, 0.87663945528232068],
[0.94762224766951297, 0.85867754938113383, 0.88160735993352990],
[0.94970227076370961, 0.86494123414192436, 0.88659344156936726],
[0.95180725266761879, 0.87121167329674643, 0.89159784507535467],
[0.953939, 0.87748859036138160, 0.89662071641031904],
[0.95609900363634204, 0.88377169269819578, 0.90166220254573615],
[0.95828940085902181, 0.890061, 0.90672245138781071],
[0.960512, 0.89635517610492499, 0.91180161167725326],
[0.96276895376903615, 0.90265484885985125, 0.91689983285982579],
[0.96506232165524242, 0.90895927593986570, 0.922017],
[0.96739445882271513, 0.91526799772575851, 0.92715405814992113],
[0.96976786889371669, 0.92158049138174825, 0.93231036287573177],
[0.97218528565575080, 0.92789615320348195, 0.93748632904110352],
[0.97464973479546402, 0.93421427466627716, 0.94268210567198085],
[0.97716461993159165, 0.94053400906406492, 0.94789784010684131],
[0.97973384620749215, 0.94685432357435173, 0.95313367688425143],
[0.98236200453990785, 0.95317392773815801, 0.95838975607244248],
[0.98505465925536584, 0.95949116165477066, 0.963666],
[0.98781882440993207, 0.96580381049865338, 0.96896316211667222],
[0.99066381676606852, 0.97210877163941711, 0.97428071268153704],
[0.993603, 0.97840138797143428, 0.97961892946395312],
[0.99665760334463693, 0.98467387115350669, 0.98497780722222072],
[0.99986984805415624, 0.99091029451838841, 0.99035714987832601],
[1, 0.99704378266210936, 0.99575555752072120]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
