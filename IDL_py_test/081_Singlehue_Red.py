from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf
cm_data = [[0.0000198725080239126838, 0.0000195868017889189583, 0.0000195292895369690181],
[0.000380567751256195711, 0.000326009388979600146, 0.000338661985673037794],
[0.00112553334906884410, 0.000919919394527309855, 0.000969721269576409258],
[0.00222987335469364452, 0.00176054032918356723, 0.00187653297462936483],
[0.00368489360310591705, 0.00282593448091094605, 0.00304091056449203164],
[0.00548734376920873533, 0.00410125050844235145, 0.00445125569119240137],
[0.00763666415419426633, 0.00557538056957408365, 0.00609939952884940365],
[0.0101338720494970180, 0.00723952020778249623, 0.00797926180024360714],
[0.0129810104968683063, 0.00908641685793772601, 0.0100861591746149656],
[0.0161808400366437906, 0.0111099291637717836, 0.0124164037980433861],
[0.0197366514239398841, 0.0133047470965302010, 0.0149670506306018390],
[0.0236521447577366858, 0.0156662035072582355, 0.0177357287493416678],
[0.0279313478050411818, 0.0181901414303023944, 0.0207205234939956476],
[0.0325785587862152601, 0.0208728172659733806, 0.0239198911244817118],
[0.0375983051228242632, 0.0237108280697395160, 0.0273325951934012788],
[0.0429080821203100884, 0.0267010556187807883, 0.0309576579480954489],
[0.0481905748793030123, 0.0298406225030632133, 0.0347943224488052594],
[0.0534383538404617151, 0.0331268570516376343, 0.0388420225223223073],
[0.0586554257565695750, 0.0365572648909156459, 0.0430076810757814634],
[0.0638452959508108153, 0.0401295055742498657, 0.0471202142802406090],
[0.0690110546059778951, 0.0437062851472046279, 0.0511913095025781015],
[0.0741554447447791976, 0.0472289944605319631, 0.0552240272397603385],
[0.0792809164576091796, 0.0507050851337125311, 0.0592211038363047240],
[0.0843896706476397474, 0.0541370979090716256, 0.0631849989556307612],
[0.0894836946793233778, 0.0575273233804591763, 0.0671179343757261626],
[0.0945647916979141523, 0.0608778352664461689, 0.0710219259853847318],
[0.0996346049474843842, 0.0641905181095851207, 0.0748988103935012972],
[0.104694638096867299, 0.0674670905112993158, 0.0787502672280353533],
[0.109746272349940194, 0.0707091247585514837, 0.0825778379546165397],
[0.114790780943721388, 0.0739180635098135308, 0.0863829418613337729],
[0.119829341507901838, 0.0770952340658135615, 0.0901668897182295037],
[0.124863046660868310, 0.0802418606423999647, 0.0939308955150416902],
[0.129892913141695709, 0.0833590749797268049, 0.0976760866000800365],
[0.134919889719094632, 0.0864479255574502337, 0.101403512480587849],
[0.139944864072643726, 0.0895093856351215911, 0.105114152496022406],
[0.144968668805693895, 0.0925443602971195434, 0.108808922537119934],
[0.149992086720829310, 0.0955536926497813355, 0.112488680952965131],
[0.155015855466012820, 0.0985381692930248632, 0.116154233763771347],
[0.160040671641235949, 0.101498525168307152, 0.119806339277323537],
[0.165067194440675275, 0.104435447868185399, 0.123445712191033702],
[0.170096048893317586, 0.107349581479206452, 0.127073027248502834],
[0.175127828755126669, 0.110241530018760470, 0.130688922508784583],
[0.180163099097721518, 0.113111860517366270, 0.134294002277722202],
[0.185202398631803239, 0.115961105790273883, 0.137888839743425418],
[0.190246241797993709, 0.118789766935945118, 0.141473979351869394],
[0.195295120653085463, 0.121598315593679424, 0.145049938953511731],
[0.200349506575791314, 0.124387195988214710, 0.148617211747553601],
[0.205409851812796529, 0.127156826785377569, 0.152176268046869123],
[0.210476590883130366, 0.129907602779682357, 0.155727556883578228],
[0.215550141856515332, 0.132639896432079324, 0.159271507472647067],
[0.220630907519343944, 0.135354059273746802, 0.162808530548694097],
[0.225719276440211170, 0.138050423189848226, 0.166339019589284265],
[0.230815623945469062, 0.140729301595485357, 0.169863351936379275],
[0.235920313013987193, 0.143390990514612404, 0.173381889826205282],
[0.241033695099229284, 0.146035769571419394, 0.176894981336601587],
[0.246156110885796531, 0.148663902902597650, 0.180402961259860939],
[0.251287890986777451, 0.151275639997948574, 0.183906151908168669],
[0.256429356587528745, 0.153871216475968770, 0.187404863857954851],
[0.261580820040885231, 0.156450854800326167, 0.190899396638784025],
[0.266742585418266342, 0.159014764942496362, 0.194390039371801160],
[0.271914949020651608, 0.161563144995284541, 0.197877071362222656],
[0.277098199852994886, 0.164096181741459735, 0.201360762649894831],
[0.282292620065270394, 0.166614051181300349, 0.204841374521530450],
[0.287498485363025025, 0.169116919022464784, 0.208319159987870539],
[0.292716065390010938, 0.171604941135268058, 0.211794364228697407],
[0.297945624085237060, 0.174078263976137959, 0.215267225008339114],
[0.303187420016532316, 0.176537024981763435, 0.218737973064052405],
[0.308441706692529905, 0.178981352936207066, 0.222206832469444948],
[0.313708732854787675, 0.181411368313040944, 0.225674020974896805],
[0.318988742751610155, 0.183827183594377192, 0.229139750326760871],
[0.324281976394990013, 0.186228903568492310, 0.232604226566960726],
[0.329588669801964607, 0.188616625607591154, 0.236067650314460364],
[0.334909055221552621, 0.190990439927126082, 0.239530217029950920],
[0.340243361348356865, 0.193350429827950143, 0.242992117264979823],
[0.345591813523806135, 0.195696671922485299, 0.246453536896649672],
[0.350954633925931403, 0.198029236345978077, 0.249914657348909941],
[0.356332041748504080, 0.200348186953825558, 0.253375655801387656],
[0.361724253370278359, 0.202653581505874814, 0.256836705386619069],
[0.367131482515042073, 0.204945471838518078, 0.260297975376480306],
[0.372553940403098749, 0.207223904025346739, 0.263759631358543189],
[0.377991835894769535, 0.209488918527057755, 0.267221835403035846],
[0.383445375626458029, 0.211740550331251276, 0.270684746221021122],
[0.388914764139763502, 0.213978829082711652, 0.274148519314373451],
[0.394400204004110300, 0.216203779204710400, 0.277613307118075747],
[0.399901895933308937, 0.218415420011831452, 0.281079259135331660],
[0.405420038896446455, 0.220613765814774931, 0.284546522065940943],
[0.410954830223461409, 0.222798826017568841, 0.288015239928361699],
[0.416506465705744844, 0.224970605207570285, 0.291485554175845207],
[0.422075139692072276, 0.227129103238620733, 0.294957603807006752],
[0.427661045180163901, 0.229274315307686050, 0.298431525471164971],
[0.433264373904130751, 0.231406232025282821, 0.301907453568765527],
[0.438885316418065163, 0.233524839479976099, 0.305385520347174977],
[0.444524062176003543, 0.235630119297202623, 0.308865855992118465],
[0.450180799608477622, 0.237722048692662002, 0.312348588715011311],
[0.455855716195856353, 0.239800600520492013, 0.315833844836420408],
[0.461548998538666544, 0.241865743316426130, 0.319321748865871835],
[0.467260832425069828, 0.243917441336124252, 0.322812423578216046],
[0.472991402895654611, 0.245955654588837114, 0.326305990086734221],
[0.478740894305700382, 0.247980338866565953, 0.329802567913171030],
[0.484509490385061026, 0.249991445768849518, 0.333302275054858876],
[0.490297374295790955, 0.251988922723313413, 0.336805228049090521],
[0.496104728687653707, 0.253972713002090955, 0.340311542034890446],
[0.501931735751618646, 0.255942755734223815, 0.343821330812318471],
[0.507778577271466136, 0.257898985914129353, 0.347334706899440071],
[0.513645434673597356, 0.259841334406226587, 0.350851781587082634],
[0.519532489075155479, 0.261769727945780018, 0.354372664991491781],
[0.525439921330539628, 0.263684089136040412, 0.357897466104999951],
[0.531367912076411208, 0.265584336441718805, 0.361426292844802266],
[0.537316641775254622, 0.267470384178860932, 0.364959252099939513],
[0.543286290757597934, 0.269342142501133475, 0.368496449776579582],
[0.549277039262932143, 0.271199517382576472, 0.372037990841676047],
[0.555289067479427523, 0.273042410596825436, 0.375583979365091247],
[0.561322555582490557, 0.274870719692824728, 0.379134518560254985],
[0.567377683772235630, 0.276684337967036176, 0.382689710823431839],
[0.573454632309917889, 0.278483154432141500, 0.386249657771662813],
[0.579553581553393982, 0.280267053782231823, 0.389814460279448993],
[0.585674711991651109, 0.282035916354466454, 0.393384218514234330],
[0.591818204278459437, 0.283789618087176176, 0.396959031970744225],
[0.597984239265194284, 0.285528030474388350, 0.400538999504236382],
[0.604172998032867836, 0.287251020516728128, 0.404124219362715531],
[0.610384661923414340, 0.288958450668654221, 0.407714789218156237],
[0.616619412570270087, 0.290650178781983681, 0.411310806196786394],
[0.622877431928286374, 0.292326058045632942, 0.414912366908468888],
[0.629158902303000422, 0.293985936921526025, 0.418519567475228171],
[0.635464006379315993, 0.295629659076582230, 0.422132503558957650],
[0.641792927249609346, 0.297257063310703506, 0.425751270388346648],
[0.648145848441305850, 0.298867983480680000, 0.429375962785063625],
[0.654522953943938668, 0.300462248419906985, 0.433006675189227641],
[0.658938695768606530, 0.304029498407270893, 0.436682653215468730],
[0.661368124468973861, 0.309564897061580469, 0.440404148152748975],
[0.663788902425620608, 0.315078230135711124, 0.444132158472945959],
[0.666201360278907862, 0.320570837915020668, 0.447866782198384217],
[0.668605826468755216, 0.326043975426318633, 0.451608117097568595],
[0.671002627318655009, 0.331498819905823638, 0.455356260707513505],
[0.673392087117322013, 0.336936477472129292, 0.459111310355555247],
[0.675774528198060165, 0.342357989103888760, 0.462873363180671016],
[0.678150271015961481, 0.347764336007571839, 0.466642516154325782],
[0.680519634223018421, 0.353156444448640916, 0.470418866100870192],
[0.682882934741247061, 0.358535190109368351, 0.474202509717505161],
[0.685240487833907008, 0.363901402027976273, 0.477993543593840553],
[0.687592607174894455, 0.369255866166522395, 0.481792064231058193],
[0.689939604916404714, 0.374599328648788310, 0.485598168060702939],
[0.692281791754922549, 0.379932498704177446, 0.489411951463116612],
[0.694619476995632645, 0.385256051349090633, 0.493233510785530294],
[0.696952968615315638, 0.390570629833401850, 0.497062942359832782],
[0.699282573323797396, 0.395876847876309668, 0.500900342520031017],
[0.701608596624027414, 0.401175291712948412, 0.504745807619410458],
[0.703931342870852905, 0.406466521970659522, 0.508599434047419585],
[0.706251115328542234, 0.411751075391648569, 0.512461318246282715],
[0.708568216227143055, 0.417029466416861450, 0.516331556727359975],
[0.710882946817716910, 0.422302188644269938, 0.520210246087262629],
[0.713195607426518996, 0.427569716173315850, 0.524097483023738930],
[0.715506497508193062, 0.432832504845991506, 0.527993364351339034],
[0.717815915698022056, 0.438090993393932482, 0.531897987016874074],
[0.720124159863308466, 0.443345604499908230, 0.535811448114672850],
[0.722431527153937991, 0.448596745781247364, 0.539733844901657323],
[0.724738314052180255, 0.453844810701960089, 0.543665274812232591],
[0.727044816421787088, 0.459090179419645195, 0.547605835473016111],
[0.729351329556447325, 0.464333219572674205, 0.551555624717402382],
[0.731658148227651073, 0.469574287012608116, 0.555514740599979184],
[0.733965566732023955, 0.474813726486324972, 0.559483281410803834],
[0.736273878938188964, 0.480051872271916313, 0.563461345689542536],
[0.738583378333209417, 0.485289048772031662, 0.567449032239488393],
[0.740894358068679204, 0.490525571068003041, 0.571446440141457734],
[0.743207111006515042, 0.495761745437791890, 0.575453668767578530],
[0.745521929764511815, 0.500997869840510090, 0.579470817794976667],
[0.747839106761724603, 0.506234234370038560, 0.583497987219362968],
[0.750158934263741251, 0.511471121680030727, 0.587535277368536169],
[0.752481704427909959, 0.516708807382395885, 0.591582788915795965],
[0.754807709348583544, 0.521947560421180179, 0.595640622893288341],
[0.757137241102460723, 0.527187643423592367, 0.599708880705274283],
[0.759470591794091710, 0.532429313029770035, 0.603787664141337776],
[0.761808053601609636, 0.537672820202773849, 0.607877075389534061],
[0.764149918822791929, 0.542918410520130124, 0.611977217049485933],
[0.766496479921505158, 0.548166324448181475, 0.616088192145433311],
[0.768848029574637937, 0.553416797600358557, 0.620210104139239271],
[0.771204860719596152, 0.558670060980434147, 0.624343056943362007],
[0.773567266602467329, 0.563926341211696380, 0.628487154933791259],
[0.775935540826946823, 0.569185860752936312, 0.632642502962961428],
[0.778309977404118780, 0.574448838102053383, 0.636809206372639935],
[0.780690870803219306, 0.579715487988020084, 0.640987371006798146],
[0.783078516003502978, 0.584986021551884283, 0.645177103224469972],
[0.785473208547303403, 0.590260646517450804, 0.649378509912598712],
[0.787875244594460678, 0.595539567352201038, 0.653591698498880880],
[0.790284920978237770, 0.600822985418987932, 0.657816776964606165],
[0.792702535262871710, 0.606111099118989638, 0.662053853857503372],
[0.795128385802942428, 0.611404104026353590, 0.666303038304586259],
[0.797562771804714243, 0.616702193014947442, 0.670564440025014696],
[0.800005993389651171, 0.622005556377569713, 0.674838169342963035],
[0.802458351660298663, 0.627314381937957077, 0.679124337200506023],
[0.804920148768766497, 0.632628855155884073, 0.683423055170523597],
[0.807391687988038842, 0.637949159225616347, 0.687734435469625205],
[0.809873273786364090, 0.643275475167963129, 0.692058590971095344],
[0.812365211905025308, 0.648607981916116794, 0.696395635217867848],
[0.814867809439779656, 0.653946856395472897, 0.700745682435524930],
[0.817381374926303916, 0.659292273597562595, 0.705108847545324990],
[0.819906218430013878, 0.664644406648227437, 0.709485246177261719],
[0.822442651640651556, 0.670003426870116936, 0.713874994683150188],
[0.824990987972086254, 0.675369503839576390, 0.718278210149752350],
[0.827551542667797180, 0.680742805437949183, 0.722695010411923855],
[0.830124632912579985, 0.686123497897297985, 0.727125514065800949],
[0.832710577951061293, 0.691511745840506342, 0.731569840482014455],
[0.835309699213655721, 0.696907712315698036, 0.736028109818932741],
[0.837922320450692148, 0.702311558824871396, 0.740500443035931766],
[0.840548767875516134, 0.707723445346593816, 0.744986961906694112],
[0.843189370317426357, 0.713143530352585264, 0.749487789032523111],
[0.845844459385457603, 0.718571970817946548, 0.754003047855679065],
[0.848514369644115529, 0.724008922224748996, 0.758532862672723018],
[0.851199438802277997, 0.729454538558645282, 0.763077358647869297],
[0.853900007916684856, 0.734908972298092378, 0.767636661826331168],
[0.856616421611571255, 0.740372374395695809, 0.772210899147657726],
[0.859349028316200525, 0.745844894251129209, 0.776800198459042912],
[0.862098180522336666, 0.751326679674950371, 0.781404688528600677],
[0.864864235063891318, 0.756817876842558968, 0.786024499058583848],
[0.867647553421384332, 0.762318630237387884, 0.790659760698532499],
[0.870448502054130602, 0.767829082582314526, 0.795310605058330400],
[0.873267452763606067, 0.773349374758041219, 0.799977164721135447],
[0.876104783091847250, 0.778879645707080681, 0.804659573256166882],
[0.878960876759424359, 0.784420032321668459, 0.809357965231301324],
[0.881836124148197342, 0.789970669313704743, 0.814072476225439989],
[0.884730922834949807, 0.795531689064453040, 0.818803242840601242],
[0.887645678182927500, 0.801103221451387348, 0.823550402713670193],
[0.890580803999678539, 0.806685393649030358, 0.828314094527743072],
[0.893536723270919819, 0.812278329900120610, 0.833094458022978213],
[0.896513868982029449, 0.817882151252728784, 0.837891634006853403],
[0.899512685040960713, 0.823496975258078745, 0.842705764363715915],
[0.902533627319038523, 0.829122915622806489, 0.847536992063469774],
[0.905577164829426962, 0.834760081808114340, 0.852385461169234748],
[0.908643781067270506, 0.840408578566618658, 0.857251316843758770],
[0.911733975540669261, 0.846068505405736082, 0.862134705354328790],
[0.914848265528243276, 0.851739955963848439, 0.867035774075849419],
[0.917987188107486363, 0.857423017282254008, 0.871954671491701472],
[0.921151302508905423, 0.863117768951714437, 0.876891547191878673],
[0.924341192864983396, 0.868824282106938295, 0.881846551867775275],
[0.927557471441489589, 0.874542618235192637, 0.886819837302829872],
[0.930800782463127363, 0.880272827755699594, 0.891811556358008128],
[0.934071806678465788, 0.886014948313657347, 0.896821862950790916],
[0.937371266853967877, 0.891769002715269710, 0.901850912025942031],
[0.940699934448957054, 0.897534996405971786, 0.906898859515733458],
[0.944058637810560541, 0.903312914360048569, 0.911965862286522988],
[0.947448272352344190, 0.909102717201164312, 0.917052078067413068],
[0.950869813362504757, 0.914904336302154175, 0.922157665355039735],
[0.954324332359037908, 0.920717667506234294, 0.927282783286028201],
[0.957813018325462617, 0.926542562948914128, 0.932427591464796368],
[0.961337205815845697, 0.932378820203241698, 0.937592249728309124],
[0.964898412985054965, 0.938226167552591472, 0.942776917819493687],
[0.968498394405721608, 0.944084243486672747, 0.947981754924243636],
[0.972139216729486333, 0.949952567261118541, 0.953206918997237751],
[0.975823371221519076, 0.955830495013555326, 0.958452565746252039],
[0.979553949113926126, 0.961717151240283674, 0.963718847033660952],
[0.983334931549005309, 0.967611315267209782, 0.969005908213160905],
[0.987171708164250705, 0.973511217799107098, 0.974313883338774667],
[0.991072112078916656, 0.979414134096899924, 0.979642885561409327],
[0.995048859051658075, 0.985315423380375033, 0.984992984421125928],
[0.999127264093704670, 0.991205483816993582, 0.990364133815577419],
[1, 0.997043782662109357, 0.995755557520721202]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
